{"ast":null,"code":"import React,{useState,useEffect,useReducer,useCallback}from\"react\";import{toast}from\"react-toastify\";import openSocket from\"../../services/socket-io\";import{makeStyles}from\"@material-ui/core/styles\";import Paper from\"@material-ui/core/Paper\";import Button from\"@material-ui/core/Button\";import Table from\"@material-ui/core/Table\";import TableBody from\"@material-ui/core/TableBody\";import TableCell from\"@material-ui/core/TableCell\";import TableHead from\"@material-ui/core/TableHead\";import TableRow from\"@material-ui/core/TableRow\";import IconButton from\"@material-ui/core/IconButton\";import SearchIcon from\"@material-ui/icons/Search\";import TextField from\"@material-ui/core/TextField\";import InputAdornment from\"@material-ui/core/InputAdornment\";import DeleteOutlineIcon from\"@material-ui/icons/DeleteOutline\";import EditIcon from\"@material-ui/icons/Edit\";import MainContainer from\"../../components/MainContainer\";import MainHeader from\"../../components/MainHeader\";import MainHeaderButtonsWrapper from\"../../components/MainHeaderButtonsWrapper\";import Title from\"../../components/Title\";import api from\"../../services/api\";import{i18n}from\"../../translate/i18n\";import TableRowSkeleton from\"../../components/TableRowSkeleton\";import TagModal from\"../../components/TagModal\";import ConfirmationModal from\"../../components/ConfirmationModal\";import toastError from\"../../errors/toastError\";import{Chip}from\"@material-ui/core\";const reducer=(state,action)=>{if(action.type===\"LOAD_TAGS\"){const tags=action.payload;const newTags=[];tags.forEach(tag=>{const tagIndex=state.findIndex(s=>s.id===tag.id);if(tagIndex!==-1){state[tagIndex]=tag;}else{newTags.push(tag);}});return[...state,...newTags];}if(action.type===\"UPDATE_TAGS\"){const tag=action.payload;const tagIndex=state.findIndex(s=>s.id===tag.id);if(tagIndex!==-1){state[tagIndex]=tag;return[...state];}else{return[tag,...state];}}if(action.type===\"DELETE_TAG\"){const tagId=action.payload;const tagIndex=state.findIndex(s=>s.id===tagId);if(tagIndex!==-1){state.splice(tagIndex,1);}return[...state];}if(action.type===\"RESET\"){return[];}};const useStyles=makeStyles(theme=>({mainPaper:{flex:1,padding:theme.spacing(1),overflowY:\"scroll\",...theme.scrollbarStyles}}));const Tags=()=>{const classes=useStyles();const[loading,setLoading]=useState(false);const[pageNumber,setPageNumber]=useState(1);const[hasMore,setHasMore]=useState(false);const[selectedTag,setSelectedTag]=useState(null);const[deletingTag,setDeletingTag]=useState(null);const[confirmModalOpen,setConfirmModalOpen]=useState(false);const[searchParam,setSearchParam]=useState(\"\");const[tags,dispatch]=useReducer(reducer,[]);const[tagModalOpen,setTagModalOpen]=useState(false);const fetchTags=useCallback(async()=>{try{const{data}=await api.get(\"/tags/\",{params:{searchParam,pageNumber}});dispatch({type:\"LOAD_TAGS\",payload:data.tags});setHasMore(data.hasMore);setLoading(false);}catch(err){toastError(err);}},[searchParam,pageNumber]);useEffect(()=>{dispatch({type:\"RESET\"});setPageNumber(1);},[searchParam]);useEffect(()=>{setLoading(true);const delayDebounceFn=setTimeout(()=>{fetchTags();},500);return()=>clearTimeout(delayDebounceFn);},[searchParam,pageNumber,fetchTags]);useEffect(()=>{const socket=openSocket();socket.on(\"user\",data=>{if(data.action===\"update\"||data.action===\"create\"){dispatch({type:\"UPDATE_TAGS\",payload:data.tags});}if(data.action===\"delete\"){dispatch({type:\"DELETE_USER\",payload:+data.tagId});}});return()=>{socket.disconnect();};},[]);const handleOpenTagModal=()=>{setSelectedTag(null);setTagModalOpen(true);};const handleCloseTagModal=()=>{setSelectedTag(null);setTagModalOpen(false);};const handleSearch=event=>{setSearchParam(event.target.value.toLowerCase());};const handleEditTag=tag=>{setSelectedTag(tag);setTagModalOpen(true);};const handleDeleteTag=async tagId=>{try{await api.delete(\"/tags/\".concat(tagId));toast.success(i18n.t(\"tags.toasts.deleted\"));}catch(err){toastError(err);}setDeletingTag(null);setSearchParam(\"\");setPageNumber(1);dispatch({type:\"RESET\"});setPageNumber(1);await fetchTags();};const loadMore=()=>{setPageNumber(prevState=>prevState+1);};const handleScroll=e=>{if(!hasMore||loading)return;const{scrollTop,scrollHeight,clientHeight}=e.currentTarget;if(scrollHeight-(scrollTop+100)<clientHeight){loadMore();}};return/*#__PURE__*/React.createElement(MainContainer,null,/*#__PURE__*/React.createElement(ConfirmationModal,{title:deletingTag&&\"\".concat(i18n.t(\"tags.confirmationModal.deleteTitle\")),open:confirmModalOpen,onClose:setConfirmModalOpen,onConfirm:()=>handleDeleteTag(deletingTag.id)},i18n.t(\"tags.confirmationModal.deleteMessage\")),/*#__PURE__*/React.createElement(TagModal,{open:tagModalOpen,onClose:handleCloseTagModal,reload:fetchTags,\"aria-labelledby\":\"form-dialog-title\",tagId:selectedTag&&selectedTag.id}),/*#__PURE__*/React.createElement(MainHeader,null,/*#__PURE__*/React.createElement(Title,null,i18n.t(\"tags.title\")),/*#__PURE__*/React.createElement(MainHeaderButtonsWrapper,null,/*#__PURE__*/React.createElement(TextField,{placeholder:i18n.t(\"contacts.searchPlaceholder\"),type:\"search\",value:searchParam,onChange:handleSearch,InputProps:{startAdornment:/*#__PURE__*/React.createElement(InputAdornment,{position:\"start\"},/*#__PURE__*/React.createElement(SearchIcon,{style:{color:\"gray\"}}))}}),/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"primary\",onClick:handleOpenTagModal},i18n.t(\"tags.buttons.add\")))),/*#__PURE__*/React.createElement(Paper,{className:classes.mainPaper,variant:\"outlined\",onScroll:handleScroll},/*#__PURE__*/React.createElement(Table,{size:\"small\"},/*#__PURE__*/React.createElement(TableHead,null,/*#__PURE__*/React.createElement(TableRow,null,/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},i18n.t(\"tags.table.name\")),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},i18n.t(\"tags.table.tickets\")),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},i18n.t(\"tags.table.actions\")))),/*#__PURE__*/React.createElement(TableBody,null,/*#__PURE__*/React.createElement(React.Fragment,null,tags.map(tag=>/*#__PURE__*/React.createElement(TableRow,{key:tag.id},/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},/*#__PURE__*/React.createElement(Chip,{variant:\"outlined\",style:{backgroundColor:tag.color,textShadow:'1px 1px 1px #000',color:'white'},label:tag.name,size:\"small\"})),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},tag.ticketsCount),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},/*#__PURE__*/React.createElement(IconButton,{size:\"small\",onClick:()=>handleEditTag(tag)},/*#__PURE__*/React.createElement(EditIcon,null)),/*#__PURE__*/React.createElement(IconButton,{size:\"small\",onClick:e=>{setConfirmModalOpen(true);setDeletingTag(tag);}},/*#__PURE__*/React.createElement(DeleteOutlineIcon,null))))),loading&&/*#__PURE__*/React.createElement(TableRowSkeleton,{columns:4}))))));};export default Tags;","map":{"version":3,"names":["React","useState","useEffect","useReducer","useCallback","toast","openSocket","makeStyles","Paper","Button","Table","TableBody","TableCell","TableHead","TableRow","IconButton","SearchIcon","TextField","InputAdornment","DeleteOutlineIcon","EditIcon","MainContainer","MainHeader","MainHeaderButtonsWrapper","Title","api","i18n","TableRowSkeleton","TagModal","ConfirmationModal","toastError","Chip","reducer","state","action","type","tags","payload","newTags","forEach","tag","tagIndex","findIndex","s","id","push","tagId","splice","useStyles","theme","mainPaper","flex","padding","spacing","overflowY","scrollbarStyles","Tags","classes","loading","setLoading","pageNumber","setPageNumber","hasMore","setHasMore","selectedTag","setSelectedTag","deletingTag","setDeletingTag","confirmModalOpen","setConfirmModalOpen","searchParam","setSearchParam","dispatch","tagModalOpen","setTagModalOpen","fetchTags","data","get","params","err","delayDebounceFn","setTimeout","clearTimeout","socket","on","disconnect","handleOpenTagModal","handleCloseTagModal","handleSearch","event","target","value","toLowerCase","handleEditTag","handleDeleteTag","delete","concat","success","t","loadMore","prevState","handleScroll","e","scrollTop","scrollHeight","clientHeight","currentTarget","createElement","title","open","onClose","onConfirm","reload","placeholder","onChange","InputProps","startAdornment","position","style","color","variant","onClick","className","onScroll","size","align","Fragment","map","key","backgroundColor","textShadow","label","name","ticketsCount","columns"],"sources":["/home/user/whaticket-free/frontend/src/pages/Tags/index.js"],"sourcesContent":["import React, { useState, useEffect, useReducer, useCallback } from \"react\";\nimport { toast } from \"react-toastify\";\nimport openSocket from \"../../services/socket-io\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport TagModal from \"../../components/TagModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Chip } from \"@material-ui/core\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_TAGS\") {\n    const tags = action.payload;\n    const newTags = [];\n\n    tags.forEach((tag) => {\n      const tagIndex = state.findIndex((s) => s.id === tag.id);\n      if (tagIndex !== -1) {\n        state[tagIndex] = tag;\n      } else {\n        newTags.push(tag);\n      }\n    });\n\n    return [...state, ...newTags];\n  }\n\n  if (action.type === \"UPDATE_TAGS\") {\n    const tag = action.payload;\n    const tagIndex = state.findIndex((s) => s.id === tag.id);\n\n    if (tagIndex !== -1) {\n      state[tagIndex] = tag;\n      return [...state];\n    } else {\n      return [tag, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_TAG\") {\n    const tagId = action.payload;\n\n    const tagIndex = state.findIndex((s) => s.id === tagId);\n    if (tagIndex !== -1) {\n      state.splice(tagIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Tags = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedTag, setSelectedTag] = useState(null);\n  const [deletingTag, setDeletingTag] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [tags, dispatch] = useReducer(reducer, []);\n  const [tagModalOpen, setTagModalOpen] = useState(false);\n\n  const fetchTags = useCallback(async() => {\n    try {\n      const { data } = await api.get(\"/tags/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_TAGS\", payload: data.tags });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchTags();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber, fetchTags]);\n\n  useEffect(() => {\n    const socket = openSocket();\n\n    socket.on(\"user\", (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_TAGS\", payload: data.tags });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_USER\", payload: +data.tagId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleOpenTagModal = () => {\n    setSelectedTag(null);\n    setTagModalOpen(true);\n  };\n\n  const handleCloseTagModal = () => {\n    setSelectedTag(null);\n    setTagModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditTag = (tag) => {\n    setSelectedTag(tag);\n    setTagModalOpen(true);\n  };\n\n  const handleDeleteTag = async (tagId) => {\n    try {\n      await api.delete(`/tags/${tagId}`);\n      toast.success(i18n.t(\"tags.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingTag(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n    await fetchTags();\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingTag &&\n          `${i18n.t(\"tags.confirmationModal.deleteTitle\")}`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteTag(deletingTag.id)}\n      >\n        {i18n.t(\"tags.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <TagModal\n        open={tagModalOpen}\n        onClose={handleCloseTagModal}\n        reload={fetchTags}\n        aria-labelledby=\"form-dialog-title\"\n        tagId={selectedTag && selectedTag.id}\n      />\n      <MainHeader>\n      <Title>{i18n.t(\"tags.title\")}</Title>\n      <MainHeaderButtonsWrapper>\n        <TextField\n          placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n          type=\"search\"\n          value={searchParam}\n          onChange={handleSearch}\n          InputProps={{\n            startAdornment: (\n            <InputAdornment position=\"start\">\n                <SearchIcon style={{ color: \"gray\" }} />\n            </InputAdornment>\n            ),\n          }}\n        />\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={handleOpenTagModal}\n        >\n          {i18n.t(\"tags.buttons.add\")}\n        </Button>\n      </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">{i18n.t(\"tags.table.name\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"tags.table.tickets\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"tags.table.actions\")}</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n              <>\n                {tags.map((tag) => (\n                  <TableRow key={tag.id}>\n                    <TableCell align=\"center\">\n                      <Chip\n                        variant=\"outlined\"\n                        style={{backgroundColor: tag.color, textShadow: '1px 1px 1px #000', color: 'white'}}\n                        label={tag.name}\n                        size=\"small\"\n                      />\n                    </TableCell>\n                    <TableCell align=\"center\">{tag.ticketsCount}</TableCell>\n                    <TableCell align=\"center\">\n                      <IconButton\n                        size=\"small\"\n                        onClick={() => handleEditTag(tag)}\n                      >\n                        <EditIcon />\n                      </IconButton>\n\n                      <IconButton\n                        size=\"small\"\n                        onClick={(e) => {\n                          setConfirmModalOpen(true);\n                          setDeletingTag(tag);\n                        }}\n                      >\n                        <DeleteOutlineIcon />\n                      </IconButton>\n                    </TableCell>\n                  </TableRow>\n                ))}\n                {loading && <TableRowSkeleton columns={4} />}\n              </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Tags;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}