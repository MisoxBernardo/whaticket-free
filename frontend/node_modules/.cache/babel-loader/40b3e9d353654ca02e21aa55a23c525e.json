{"ast":null,"code":"var _jsxFileName = \"/home/user/whaticket-free/frontend/src/components/MessageInput/index.js\";\nimport React, { useState, useEffect, useContext, useRef } from \"react\";\nimport \"emoji-mart/css/emoji-mart.css\";\nimport { useParams } from \"react-router-dom\";\nimport { Picker } from \"emoji-mart\";\nimport MicRecorder from \"mic-recorder-to-mp3\";\nimport clsx from \"clsx\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { green } from \"@material-ui/core/colors\";\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MoreVert from \"@material-ui/icons/MoreVert\";\nimport MoodIcon from \"@material-ui/icons/Mood\";\nimport SendIcon from \"@material-ui/icons/Send\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport MicIcon from \"@material-ui/icons/Mic\";\nimport CheckCircleOutlineIcon from \"@material-ui/icons/CheckCircleOutline\";\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\";\nimport { FormControlLabel, Hidden, Menu, MenuItem, Switch } from \"@material-ui/core\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport RecordingTimer from \"./RecordingTimer\";\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { useLocalStorage } from \"../../hooks/useLocalStorage\";\nimport toastError from \"../../errors/toastError\";\nconst Mp3Recorder = new MicRecorder({\n  bitRate: 128\n});\nconst useStyles = makeStyles(theme => ({\n  mainWrapper: {\n    background: \"#eee\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n    [theme.breakpoints.down(\"sm\")]: {\n      position: \"fixed\",\n      bottom: 0,\n      width: \"100%\"\n    }\n  },\n  newMessageBox: {\n    background: \"#eee\",\n    width: \"100%\",\n    display: \"flex\",\n    padding: \"7px\",\n    alignItems: \"center\"\n  },\n  messageInputWrapper: {\n    padding: 6,\n    marginRight: 7,\n    background: \"#fff\",\n    display: \"flex\",\n    borderRadius: 20,\n    flex: 1,\n    position: \"relative\"\n  },\n  messageInput: {\n    paddingLeft: 10,\n    flex: 1,\n    border: \"none\"\n  },\n  sendMessageIcons: {\n    color: \"grey\"\n  },\n  uploadInput: {\n    display: \"none\"\n  },\n  viewMediaInputWrapper: {\n    display: \"flex\",\n    padding: \"10px 13px\",\n    position: \"relative\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    backgroundColor: \"#eee\",\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\"\n  },\n  emojiBox: {\n    position: \"absolute\",\n    bottom: 63,\n    width: 40,\n    borderTop: \"1px solid #e8e8e8\"\n  },\n  circleLoading: {\n    color: green[500],\n    opacity: \"70%\",\n    position: \"absolute\",\n    top: \"20%\",\n    left: \"50%\",\n    marginLeft: -12\n  },\n  audioLoading: {\n    color: green[500],\n    opacity: \"70%\"\n  },\n  recorderWrapper: {\n    display: \"flex\",\n    alignItems: \"center\",\n    alignContent: \"middle\"\n  },\n  cancelAudioIcon: {\n    color: \"red\"\n  },\n  sendAudioIcon: {\n    color: \"green\"\n  },\n  replyginMsgWrapper: {\n    display: \"flex\",\n    width: \"100%\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    paddingTop: 8,\n    paddingLeft: 73,\n    paddingRight: 7\n  },\n  replyginMsgContainer: {\n    flex: 1,\n    marginRight: 5,\n    overflowY: \"hidden\",\n    backgroundColor: \"rgba(0, 0, 0, 0.05)\",\n    borderRadius: \"7.5px\",\n    display: \"flex\",\n    position: \"relative\"\n  },\n  replyginMsgBody: {\n    padding: 10,\n    height: \"auto\",\n    display: \"block\",\n    whiteSpace: \"pre-wrap\",\n    overflow: \"hidden\"\n  },\n  replyginContactMsgSideColor: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#35cd96\"\n  },\n  replyginSelfMsgSideColor: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#6bcbef\"\n  },\n  messageContactName: {\n    display: \"flex\",\n    color: \"#6bcbef\",\n    fontWeight: 500\n  },\n  messageQuickAnswersWrapper: {\n    margin: 0,\n    position: \"absolute\",\n    bottom: \"50px\",\n    background: \"#ffffff\",\n    padding: \"2px\",\n    border: \"1px solid #CCC\",\n    left: 0,\n    width: \"100%\",\n    \"& li\": {\n      listStyle: \"none\",\n      \"& a\": {\n        display: \"block\",\n        padding: \"8px\",\n        textOverflow: \"ellipsis\",\n        overflow: \"hidden\",\n        maxHeight: \"32px\",\n        \"&:hover\": {\n          background: \"#F1F1F1\",\n          cursor: \"pointer\"\n        }\n      }\n    }\n  }\n}));\nconst MessageInput = ({\n  ticketStatus\n}) => {\n  var _medias$;\n  const classes = useStyles();\n  const {\n    ticketId\n  } = useParams();\n  const [medias, setMedias] = useState([]);\n  const [inputMessage, setInputMessage] = useState(\"\");\n  const [showEmoji, setShowEmoji] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [recording, setRecording] = useState(false);\n  const [quickAnswers, setQuickAnswer] = useState([]);\n  const [typeBar, setTypeBar] = useState(false);\n  const inputRef = useRef();\n  const [anchorEl, setAnchorEl] = useState(null);\n  const {\n    setReplyingMessage,\n    replyingMessage\n  } = useContext(ReplyMessageContext);\n  const {\n    user\n  } = useContext(AuthContext);\n  const [signMessage, setSignMessage] = useLocalStorage(\"signOption\", true);\n  useEffect(() => {\n    inputRef.current.focus();\n  }, [replyingMessage]);\n  useEffect(() => {\n    inputRef.current.focus();\n    return () => {\n      setInputMessage(\"\");\n      setShowEmoji(false);\n      setMedias([]);\n      setReplyingMessage(null);\n    };\n  }, [ticketId, setReplyingMessage]);\n  const handleChangeInput = e => {\n    setInputMessage(e.target.value);\n    handleLoadQuickAnswer(e.target.value);\n  };\n  const handleQuickAnswersClick = value => {\n    setInputMessage(value);\n    setTypeBar(false);\n  };\n  const handleAddEmoji = e => {\n    let emoji = e.native;\n    setInputMessage(prevState => prevState + emoji);\n  };\n  const handleChangeMedias = e => {\n    if (!e.target.files) {\n      return;\n    }\n    const selectedMedias = Array.from(e.target.files);\n    setMedias(selectedMedias);\n  };\n  const handleInputPaste = e => {\n    if (e.clipboardData.files[0]) {\n      setMedias([e.clipboardData.files[0]]);\n    }\n  };\n  const handleUploadMedia = async e => {\n    setLoading(true);\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append(\"fromMe\", true);\n    medias.forEach(media => {\n      formData.append(\"medias\", media);\n      formData.append(\"body\", media.name);\n    });\n    try {\n      await api.post(`/messages/${ticketId}`, formData);\n    } catch (err) {\n      toastError(err);\n    }\n    setLoading(false);\n    setMedias([]);\n  };\n  const handleSendMessage = async () => {\n    if (inputMessage.trim() === \"\") return;\n    setLoading(true);\n    const message = {\n      read: 1,\n      fromMe: true,\n      mediaUrl: \"\",\n      body: signMessage ? `*${user === null || user === void 0 ? void 0 : user.name}:*\\n${inputMessage.trim()}` : inputMessage.trim(),\n      quotedMsg: replyingMessage\n    };\n    try {\n      await api.post(`/messages/${ticketId}`, message);\n    } catch (err) {\n      toastError(err);\n    }\n    setInputMessage(\"\");\n    setShowEmoji(false);\n    setLoading(false);\n    setReplyingMessage(null);\n  };\n  const handleStartRecording = async () => {\n    setLoading(true);\n    try {\n      await navigator.mediaDevices.getUserMedia({\n        audio: true\n      });\n      await Mp3Recorder.start();\n      setRecording(true);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n      setLoading(false);\n    }\n  };\n  const handleLoadQuickAnswer = async value => {\n    if (value && value.indexOf(\"/\") === 0) {\n      try {\n        const {\n          data\n        } = await api.get(\"/quickAnswers/\", {\n          params: {\n            searchParam: inputMessage.substring(1)\n          }\n        });\n        setQuickAnswer(data.quickAnswers);\n        if (data.quickAnswers.length > 0) {\n          setTypeBar(true);\n        } else {\n          setTypeBar(false);\n        }\n      } catch (err) {\n        setTypeBar(false);\n      }\n    } else {\n      setTypeBar(false);\n    }\n  };\n  const handleUploadAudio = async () => {\n    setLoading(true);\n    try {\n      const [, blob] = await Mp3Recorder.stop().getMp3();\n      if (blob.size < 10000) {\n        setLoading(false);\n        setRecording(false);\n        return;\n      }\n      const formData = new FormData();\n      const filename = `audio-record-site-${new Date().getTime()}.mp3`;\n      formData.append(\"medias\", blob, filename);\n      formData.append(\"body\", filename);\n      formData.append(\"fromMe\", true);\n      await api.post(`/messages/${ticketId}`, formData);\n    } catch (err) {\n      toastError(err);\n    }\n    setRecording(false);\n    setLoading(false);\n  };\n  const handleCancelAudio = async () => {\n    try {\n      await Mp3Recorder.stop().getMp3();\n      setRecording(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n  const handleOpenMenuClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleMenuItemClick = event => {\n    setAnchorEl(null);\n  };\n  const renderReplyingMessage = message => {\n    var _message$contact;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.replyginMsgWrapper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.replyginMsgContainer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: clsx(classes.replyginContactMsgSideColor, {\n        [classes.replyginSelfMsgSideColor]: !message.fromMe\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.replyginMsgBody,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 11\n      }\n    }, !message.fromMe && /*#__PURE__*/React.createElement(\"span\", {\n      className: classes.messageContactName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 15\n      }\n    }, (_message$contact = message.contact) === null || _message$contact === void 0 ? void 0 : _message$contact.name), message.body)), /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"showRecorder\",\n      component: \"span\",\n      disabled: loading || ticketStatus !== \"open\",\n      onClick: () => setReplyingMessage(null),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(ClearIcon, {\n      className: classes.sendMessageIcons,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 11\n      }\n    })));\n  };\n  if (medias.length > 0) return /*#__PURE__*/React.createElement(Paper, {\n    elevation: 0,\n    square: true,\n    className: classes.viewMediaInputWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    \"aria-label\": \"cancel-upload\",\n    component: \"span\",\n    onClick: e => setMedias([]),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CancelIcon, {\n    className: classes.sendMessageIcons,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 11\n    }\n  })), loading ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 430,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CircularProgress, {\n    className: classes.circleLoading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 13\n    }\n  })) : /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 11\n    }\n  }, (_medias$ = medias[0]) === null || _medias$ === void 0 ? void 0 : _medias$.name), /*#__PURE__*/React.createElement(IconButton, {\n    \"aria-label\": \"send-upload\",\n    component: \"span\",\n    onClick: handleUploadMedia,\n    disabled: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SendIcon, {\n    className: classes.sendMessageIcons,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 445,\n      columnNumber: 11\n    }\n  })));else {\n    return /*#__PURE__*/React.createElement(Paper, {\n      square: true,\n      elevation: 0,\n      className: classes.mainWrapper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 451,\n        columnNumber: 7\n      }\n    }, replyingMessage && renderReplyingMessage(replyingMessage), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.newMessageBox,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Hidden, {\n      only: [\"sm\", \"xs\"],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"emojiPicker\",\n      component: \"span\",\n      disabled: loading || recording || ticketStatus !== \"open\",\n      onClick: e => setShowEmoji(prevState => !prevState),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(MoodIcon, {\n      className: classes.sendMessageIcons,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 15\n      }\n    })), showEmoji ? /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.emojiBox,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 464,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(ClickAwayListener, {\n      onClickAway: e => setShowEmoji(false),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 465,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Picker, {\n      perLine: 16,\n      showPreview: false,\n      showSkinTones: false,\n      onSelect: handleAddEmoji,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 19\n      }\n    }))) : null, /*#__PURE__*/React.createElement(\"input\", {\n      multiple: true,\n      type: \"file\",\n      id: \"upload-button\",\n      disabled: loading || recording || ticketStatus !== \"open\",\n      className: classes.uploadInput,\n      onChange: handleChangeMedias,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"upload-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 484,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"upload\",\n      component: \"span\",\n      disabled: loading || recording || ticketStatus !== \"open\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(AttachFileIcon, {\n      className: classes.sendMessageIcons,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 490,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(FormControlLabel, {\n      style: {\n        marginRight: 7,\n        color: \"gray\"\n      },\n      label: i18n.t(\"messagesInput.signMessage\"),\n      labelPlacement: \"start\",\n      control: /*#__PURE__*/React.createElement(Switch, {\n        size: \"small\",\n        checked: signMessage,\n        onChange: e => {\n          setSignMessage(e.target.checked);\n        },\n        name: \"showAllTickets\",\n        color: \"primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 17\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 493,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(Hidden, {\n      only: [\"md\", \"lg\", \"xl\"],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 510,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-controls\": \"simple-menu\",\n      \"aria-haspopup\": \"true\",\n      onClick: handleOpenMenuClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 511,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(MoreVert, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 516,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(Menu, {\n      id: \"simple-menu\",\n      keepMounted: true,\n      anchorEl: anchorEl,\n      open: Boolean(anchorEl),\n      onClose: handleMenuItemClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 518,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(MenuItem, {\n      onClick: handleMenuItemClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 525,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"emojiPicker\",\n      component: \"span\",\n      disabled: loading || recording || ticketStatus !== \"open\",\n      onClick: e => setShowEmoji(prevState => !prevState),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 526,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(MoodIcon, {\n      className: classes.sendMessageIcons,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 532,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(MenuItem, {\n      onClick: handleMenuItemClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 535,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      multiple: true,\n      type: \"file\",\n      id: \"upload-button\",\n      disabled: loading || recording || ticketStatus !== \"open\",\n      className: classes.uploadInput,\n      onChange: handleChangeMedias,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 536,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"upload-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 544,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"upload\",\n      component: \"span\",\n      disabled: loading || recording || ticketStatus !== \"open\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 545,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(AttachFileIcon, {\n      className: classes.sendMessageIcons,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 550,\n        columnNumber: 21\n      }\n    })))), /*#__PURE__*/React.createElement(MenuItem, {\n      onClick: handleMenuItemClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 554,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(FormControlLabel, {\n      style: {\n        marginRight: 7,\n        color: \"gray\"\n      },\n      label: i18n.t(\"messagesInput.signMessage\"),\n      labelPlacement: \"start\",\n      control: /*#__PURE__*/React.createElement(Switch, {\n        size: \"small\",\n        checked: signMessage,\n        onChange: e => {\n          setSignMessage(e.target.checked);\n        },\n        name: \"showAllTickets\",\n        color: \"primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 560,\n          columnNumber: 21\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 555,\n        columnNumber: 17\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.messageInputWrapper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 574,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(InputBase, {\n      inputRef: input => {\n        input && input.focus();\n        input && (inputRef.current = input);\n      },\n      className: classes.messageInput,\n      placeholder: ticketStatus === \"open\" ? i18n.t(\"messagesInput.placeholderOpen\") : i18n.t(\"messagesInput.placeholderClosed\"),\n      multiline: true,\n      maxRows: 5,\n      value: inputMessage,\n      onChange: handleChangeInput,\n      disabled: recording || loading || ticketStatus !== \"open\",\n      onPaste: e => {\n        ticketStatus === \"open\" && handleInputPaste(e);\n      },\n      onKeyPress: e => {\n        if (loading || e.shiftKey) return;else if (e.key === \"Enter\") {\n          handleSendMessage();\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 575,\n        columnNumber: 13\n      }\n    }), typeBar ? /*#__PURE__*/React.createElement(\"ul\", {\n      className: classes.messageQuickAnswersWrapper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 602,\n        columnNumber: 15\n      }\n    }, quickAnswers.map((value, index) => {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        className: classes.messageQuickAnswersWrapperItem,\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 605,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        onClick: () => handleQuickAnswersClick(value.message),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 610,\n          columnNumber: 23\n        }\n      }, `${value.shortcut} - ${value.message}`));\n    })) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 618,\n        columnNumber: 15\n      }\n    })), inputMessage ? /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"sendMessage\",\n      component: \"span\",\n      onClick: handleSendMessage,\n      disabled: loading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 622,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(SendIcon, {\n      className: classes.sendMessageIcons,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 628,\n        columnNumber: 15\n      }\n    })) : recording ? /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.recorderWrapper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 631,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"cancelRecording\",\n      component: \"span\",\n      fontSize: \"large\",\n      disabled: loading,\n      onClick: handleCancelAudio,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 632,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(HighlightOffIcon, {\n      className: classes.cancelAudioIcon,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 639,\n        columnNumber: 17\n      }\n    })), loading ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 642,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(CircularProgress, {\n      className: classes.audioLoading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 643,\n        columnNumber: 19\n      }\n    })) : /*#__PURE__*/React.createElement(RecordingTimer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 646,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"sendRecordedAudio\",\n      component: \"span\",\n      onClick: handleUploadAudio,\n      disabled: loading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 649,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(CheckCircleOutlineIcon, {\n      className: classes.sendAudioIcon,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 655,\n        columnNumber: 17\n      }\n    }))) : /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"showRecorder\",\n      component: \"span\",\n      disabled: loading || ticketStatus !== \"open\",\n      onClick: handleStartRecording,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 659,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(MicIcon, {\n      className: classes.sendMessageIcons,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 665,\n        columnNumber: 15\n      }\n    }))));\n  }\n};\nexport default MessageInput;","map":{"version":3,"names":["React","useState","useEffect","useContext","useRef","useParams","Picker","MicRecorder","clsx","makeStyles","Paper","InputBase","CircularProgress","green","AttachFileIcon","IconButton","MoreVert","MoodIcon","SendIcon","CancelIcon","ClearIcon","MicIcon","CheckCircleOutlineIcon","HighlightOffIcon","FormControlLabel","Hidden","Menu","MenuItem","Switch","ClickAwayListener","i18n","api","RecordingTimer","ReplyMessageContext","AuthContext","useLocalStorage","toastError","Mp3Recorder","bitRate","useStyles","theme","mainWrapper","background","display","flexDirection","alignItems","borderTop","breakpoints","down","position","bottom","width","newMessageBox","padding","messageInputWrapper","marginRight","borderRadius","flex","messageInput","paddingLeft","border","sendMessageIcons","color","uploadInput","viewMediaInputWrapper","justifyContent","backgroundColor","emojiBox","circleLoading","opacity","top","left","marginLeft","audioLoading","recorderWrapper","alignContent","cancelAudioIcon","sendAudioIcon","replyginMsgWrapper","paddingTop","paddingRight","replyginMsgContainer","overflowY","replyginMsgBody","height","whiteSpace","overflow","replyginContactMsgSideColor","replyginSelfMsgSideColor","messageContactName","fontWeight","messageQuickAnswersWrapper","margin","listStyle","textOverflow","maxHeight","cursor","MessageInput","ticketStatus","_medias$","classes","ticketId","medias","setMedias","inputMessage","setInputMessage","showEmoji","setShowEmoji","loading","setLoading","recording","setRecording","quickAnswers","setQuickAnswer","typeBar","setTypeBar","inputRef","anchorEl","setAnchorEl","setReplyingMessage","replyingMessage","user","signMessage","setSignMessage","current","focus","handleChangeInput","e","target","value","handleLoadQuickAnswer","handleQuickAnswersClick","handleAddEmoji","emoji","native","prevState","handleChangeMedias","files","selectedMedias","Array","from","handleInputPaste","clipboardData","handleUploadMedia","preventDefault","formData","FormData","append","forEach","media","name","post","err","handleSendMessage","trim","message","read","fromMe","mediaUrl","body","quotedMsg","handleStartRecording","navigator","mediaDevices","getUserMedia","audio","start","indexOf","data","get","params","searchParam","substring","length","handleUploadAudio","blob","stop","getMp3","size","filename","Date","getTime","handleCancelAudio","handleOpenMenuClick","event","currentTarget","handleMenuItemClick","renderReplyingMessage","_message$contact","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","contact","component","disabled","onClick","elevation","square","only","onClickAway","perLine","showPreview","showSkinTones","onSelect","multiple","type","id","onChange","htmlFor","style","label","t","labelPlacement","control","checked","keepMounted","open","Boolean","onClose","input","placeholder","multiline","maxRows","onPaste","onKeyPress","shiftKey","key","map","index","messageQuickAnswersWrapperItem","shortcut","fontSize"],"sources":["/home/user/whaticket-free/frontend/src/components/MessageInput/index.js"],"sourcesContent":["import React, { useState, useEffect, useContext, useRef } from \"react\";\nimport \"emoji-mart/css/emoji-mart.css\";\nimport { useParams } from \"react-router-dom\";\nimport { Picker } from \"emoji-mart\";\nimport MicRecorder from \"mic-recorder-to-mp3\";\nimport clsx from \"clsx\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { green } from \"@material-ui/core/colors\";\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MoreVert from \"@material-ui/icons/MoreVert\";\nimport MoodIcon from \"@material-ui/icons/Mood\";\nimport SendIcon from \"@material-ui/icons/Send\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport MicIcon from \"@material-ui/icons/Mic\";\nimport CheckCircleOutlineIcon from \"@material-ui/icons/CheckCircleOutline\";\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\";\nimport {\n  FormControlLabel,\n  Hidden,\n  Menu,\n  MenuItem,\n  Switch,\n} from \"@material-ui/core\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport RecordingTimer from \"./RecordingTimer\";\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { useLocalStorage } from \"../../hooks/useLocalStorage\";\nimport toastError from \"../../errors/toastError\";\n\nconst Mp3Recorder = new MicRecorder({ bitRate: 128 });\n\nconst useStyles = makeStyles((theme) => ({\n  mainWrapper: {\n    background: \"#eee\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n    [theme.breakpoints.down(\"sm\")]: {\n      position: \"fixed\",\n      bottom: 0,\n      width: \"100%\",\n    },\n  },\n\n  newMessageBox: {\n    background: \"#eee\",\n    width: \"100%\",\n    display: \"flex\",\n    padding: \"7px\",\n    alignItems: \"center\",\n  },\n\n  messageInputWrapper: {\n    padding: 6,\n    marginRight: 7,\n    background: \"#fff\",\n    display: \"flex\",\n    borderRadius: 20,\n    flex: 1,\n    position: \"relative\",\n  },\n\n  messageInput: {\n    paddingLeft: 10,\n    flex: 1,\n    border: \"none\",\n  },\n\n  sendMessageIcons: {\n    color: \"grey\",\n  },\n\n  uploadInput: {\n    display: \"none\",\n  },\n\n  viewMediaInputWrapper: {\n    display: \"flex\",\n    padding: \"10px 13px\",\n    position: \"relative\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    backgroundColor: \"#eee\",\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n\n  emojiBox: {\n    position: \"absolute\",\n    bottom: 63,\n    width: 40,\n    borderTop: \"1px solid #e8e8e8\",\n  },\n\n  circleLoading: {\n    color: green[500],\n    opacity: \"70%\",\n    position: \"absolute\",\n    top: \"20%\",\n    left: \"50%\",\n    marginLeft: -12,\n  },\n\n  audioLoading: {\n    color: green[500],\n    opacity: \"70%\",\n  },\n\n  recorderWrapper: {\n    display: \"flex\",\n    alignItems: \"center\",\n    alignContent: \"middle\",\n  },\n\n  cancelAudioIcon: {\n    color: \"red\",\n  },\n\n  sendAudioIcon: {\n    color: \"green\",\n  },\n\n  replyginMsgWrapper: {\n    display: \"flex\",\n    width: \"100%\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    paddingTop: 8,\n    paddingLeft: 73,\n    paddingRight: 7,\n  },\n\n  replyginMsgContainer: {\n    flex: 1,\n    marginRight: 5,\n    overflowY: \"hidden\",\n    backgroundColor: \"rgba(0, 0, 0, 0.05)\",\n    borderRadius: \"7.5px\",\n    display: \"flex\",\n    position: \"relative\",\n  },\n\n  replyginMsgBody: {\n    padding: 10,\n    height: \"auto\",\n    display: \"block\",\n    whiteSpace: \"pre-wrap\",\n    overflow: \"hidden\",\n  },\n\n  replyginContactMsgSideColor: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#35cd96\",\n  },\n\n  replyginSelfMsgSideColor: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#6bcbef\",\n  },\n\n  messageContactName: {\n    display: \"flex\",\n    color: \"#6bcbef\",\n    fontWeight: 500,\n  },\n  messageQuickAnswersWrapper: {\n    margin: 0,\n    position: \"absolute\",\n    bottom: \"50px\",\n    background: \"#ffffff\",\n    padding: \"2px\",\n    border: \"1px solid #CCC\",\n    left: 0,\n    width: \"100%\",\n    \"& li\": {\n      listStyle: \"none\",\n      \"& a\": {\n        display: \"block\",\n        padding: \"8px\",\n        textOverflow: \"ellipsis\",\n        overflow: \"hidden\",\n        maxHeight: \"32px\",\n        \"&:hover\": {\n          background: \"#F1F1F1\",\n          cursor: \"pointer\",\n        },\n      },\n    },\n  },\n}));\n\nconst MessageInput = ({ ticketStatus }) => {\n  const classes = useStyles();\n  const { ticketId } = useParams();\n\n  const [medias, setMedias] = useState([]);\n  const [inputMessage, setInputMessage] = useState(\"\");\n  const [showEmoji, setShowEmoji] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [recording, setRecording] = useState(false);\n  const [quickAnswers, setQuickAnswer] = useState([]);\n  const [typeBar, setTypeBar] = useState(false);\n  const inputRef = useRef();\n  const [anchorEl, setAnchorEl] = useState(null);\n  const { setReplyingMessage, replyingMessage } =\n    useContext(ReplyMessageContext);\n  const { user } = useContext(AuthContext);\n\n  const [signMessage, setSignMessage] = useLocalStorage(\"signOption\", true);\n\n  useEffect(() => {\n    inputRef.current.focus();\n  }, [replyingMessage]);\n\n  useEffect(() => {\n    inputRef.current.focus();\n    return () => {\n      setInputMessage(\"\");\n      setShowEmoji(false);\n      setMedias([]);\n      setReplyingMessage(null);\n    };\n  }, [ticketId, setReplyingMessage]);\n\n  const handleChangeInput = (e) => {\n    setInputMessage(e.target.value);\n    handleLoadQuickAnswer(e.target.value);\n  };\n\n  const handleQuickAnswersClick = (value) => {\n    setInputMessage(value);\n    setTypeBar(false);\n  };\n\n  const handleAddEmoji = (e) => {\n    let emoji = e.native;\n    setInputMessage((prevState) => prevState + emoji);\n  };\n\n  const handleChangeMedias = (e) => {\n    if (!e.target.files) {\n      return;\n    }\n\n    const selectedMedias = Array.from(e.target.files);\n    setMedias(selectedMedias);\n  };\n\n  const handleInputPaste = (e) => {\n    if (e.clipboardData.files[0]) {\n      setMedias([e.clipboardData.files[0]]);\n    }\n  };\n\n  const handleUploadMedia = async (e) => {\n    setLoading(true);\n    e.preventDefault();\n\n    const formData = new FormData();\n    formData.append(\"fromMe\", true);\n    medias.forEach((media) => {\n      formData.append(\"medias\", media);\n      formData.append(\"body\", media.name);\n    });\n\n    try {\n      await api.post(`/messages/${ticketId}`, formData);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setLoading(false);\n    setMedias([]);\n  };\n\n  const handleSendMessage = async () => {\n    if (inputMessage.trim() === \"\") return;\n    setLoading(true);\n\n    const message = {\n      read: 1,\n      fromMe: true,\n      mediaUrl: \"\",\n      body: signMessage\n        ? `*${user?.name}:*\\n${inputMessage.trim()}`\n        : inputMessage.trim(),\n      quotedMsg: replyingMessage,\n    };\n    try {\n      await api.post(`/messages/${ticketId}`, message);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setInputMessage(\"\");\n    setShowEmoji(false);\n    setLoading(false);\n    setReplyingMessage(null);\n  };\n\n  const handleStartRecording = async () => {\n    setLoading(true);\n    try {\n      await navigator.mediaDevices.getUserMedia({ audio: true });\n      await Mp3Recorder.start();\n      setRecording(true);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n      setLoading(false);\n    }\n  };\n\n  const handleLoadQuickAnswer = async (value) => {\n    if (value && value.indexOf(\"/\") === 0) {\n      try {\n        const { data } = await api.get(\"/quickAnswers/\", {\n          params: { searchParam: inputMessage.substring(1) },\n        });\n        setQuickAnswer(data.quickAnswers);\n        if (data.quickAnswers.length > 0) {\n          setTypeBar(true);\n        } else {\n          setTypeBar(false);\n        }\n      } catch (err) {\n        setTypeBar(false);\n      }\n    } else {\n      setTypeBar(false);\n    }\n  };\n\n  const handleUploadAudio = async () => {\n    setLoading(true);\n    try {\n      const [, blob] = await Mp3Recorder.stop().getMp3();\n      if (blob.size < 10000) {\n        setLoading(false);\n        setRecording(false);\n        return;\n      }\n\n      const formData = new FormData();\n      const filename = `audio-record-site-${new Date().getTime()}.mp3`;\n      formData.append(\"medias\", blob, filename);\n      formData.append(\"body\", filename);\n      formData.append(\"fromMe\", true);\n\n      await api.post(`/messages/${ticketId}`, formData);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setRecording(false);\n    setLoading(false);\n  };\n\n  const handleCancelAudio = async () => {\n    try {\n      await Mp3Recorder.stop().getMp3();\n      setRecording(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleOpenMenuClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleMenuItemClick = (event) => {\n    setAnchorEl(null);\n  };\n\n  const renderReplyingMessage = (message) => {\n    return (\n      <div className={classes.replyginMsgWrapper}>\n        <div className={classes.replyginMsgContainer}>\n          <span\n            className={clsx(classes.replyginContactMsgSideColor, {\n              [classes.replyginSelfMsgSideColor]: !message.fromMe,\n            })}\n          ></span>\n          <div className={classes.replyginMsgBody}>\n            {!message.fromMe && (\n              <span className={classes.messageContactName}>\n                {message.contact?.name}\n              </span>\n            )}\n            {message.body}\n          </div>\n        </div>\n        <IconButton\n          aria-label=\"showRecorder\"\n          component=\"span\"\n          disabled={loading || ticketStatus !== \"open\"}\n          onClick={() => setReplyingMessage(null)}\n        >\n          <ClearIcon className={classes.sendMessageIcons} />\n        </IconButton>\n      </div>\n    );\n  };\n\n  if (medias.length > 0)\n    return (\n      <Paper elevation={0} square className={classes.viewMediaInputWrapper}>\n        <IconButton\n          aria-label=\"cancel-upload\"\n          component=\"span\"\n          onClick={(e) => setMedias([])}\n        >\n          <CancelIcon className={classes.sendMessageIcons} />\n        </IconButton>\n\n        {loading ? (\n          <div>\n            <CircularProgress className={classes.circleLoading} />\n          </div>\n        ) : (\n          <span>\n            {medias[0]?.name}\n            {/* <img src={media.preview} alt=\"\"></img> */}\n          </span>\n        )}\n        <IconButton\n          aria-label=\"send-upload\"\n          component=\"span\"\n          onClick={handleUploadMedia}\n          disabled={loading}\n        >\n          <SendIcon className={classes.sendMessageIcons} />\n        </IconButton>\n      </Paper>\n    );\n  else {\n    return (\n      <Paper square elevation={0} className={classes.mainWrapper}>\n        {replyingMessage && renderReplyingMessage(replyingMessage)}\n        <div className={classes.newMessageBox}>\n          <Hidden only={[\"sm\", \"xs\"]}>\n            <IconButton\n              aria-label=\"emojiPicker\"\n              component=\"span\"\n              disabled={loading || recording || ticketStatus !== \"open\"}\n              onClick={(e) => setShowEmoji((prevState) => !prevState)}\n            >\n              <MoodIcon className={classes.sendMessageIcons} />\n            </IconButton>\n            {showEmoji ? (\n              <div className={classes.emojiBox}>\n                <ClickAwayListener onClickAway={(e) => setShowEmoji(false)}>\n                  <Picker\n                    perLine={16}\n                    showPreview={false}\n                    showSkinTones={false}\n                    onSelect={handleAddEmoji}\n                  />\n                </ClickAwayListener>\n              </div>\n            ) : null}\n\n            <input\n              multiple\n              type=\"file\"\n              id=\"upload-button\"\n              disabled={loading || recording || ticketStatus !== \"open\"}\n              className={classes.uploadInput}\n              onChange={handleChangeMedias}\n            />\n            <label htmlFor=\"upload-button\">\n              <IconButton\n                aria-label=\"upload\"\n                component=\"span\"\n                disabled={loading || recording || ticketStatus !== \"open\"}\n              >\n                <AttachFileIcon className={classes.sendMessageIcons} />\n              </IconButton>\n            </label>\n            <FormControlLabel\n              style={{ marginRight: 7, color: \"gray\" }}\n              label={i18n.t(\"messagesInput.signMessage\")}\n              labelPlacement=\"start\"\n              control={\n                <Switch\n                  size=\"small\"\n                  checked={signMessage}\n                  onChange={(e) => {\n                    setSignMessage(e.target.checked);\n                  }}\n                  name=\"showAllTickets\"\n                  color=\"primary\"\n                />\n              }\n            />\n          </Hidden>\n          <Hidden only={[\"md\", \"lg\", \"xl\"]}>\n            <IconButton\n              aria-controls=\"simple-menu\"\n              aria-haspopup=\"true\"\n              onClick={handleOpenMenuClick}\n            >\n              <MoreVert></MoreVert>\n            </IconButton>\n            <Menu\n              id=\"simple-menu\"\n              keepMounted\n              anchorEl={anchorEl}\n              open={Boolean(anchorEl)}\n              onClose={handleMenuItemClick}\n            >\n              <MenuItem onClick={handleMenuItemClick}>\n                <IconButton\n                  aria-label=\"emojiPicker\"\n                  component=\"span\"\n                  disabled={loading || recording || ticketStatus !== \"open\"}\n                  onClick={(e) => setShowEmoji((prevState) => !prevState)}\n                >\n                  <MoodIcon className={classes.sendMessageIcons} />\n                </IconButton>\n              </MenuItem>\n              <MenuItem onClick={handleMenuItemClick}>\n                <input\n                  multiple\n                  type=\"file\"\n                  id=\"upload-button\"\n                  disabled={loading || recording || ticketStatus !== \"open\"}\n                  className={classes.uploadInput}\n                  onChange={handleChangeMedias}\n                />\n                <label htmlFor=\"upload-button\">\n                  <IconButton\n                    aria-label=\"upload\"\n                    component=\"span\"\n                    disabled={loading || recording || ticketStatus !== \"open\"}\n                  >\n                    <AttachFileIcon className={classes.sendMessageIcons} />\n                  </IconButton>\n                </label>\n              </MenuItem>\n              <MenuItem onClick={handleMenuItemClick}>\n                <FormControlLabel\n                  style={{ marginRight: 7, color: \"gray\" }}\n                  label={i18n.t(\"messagesInput.signMessage\")}\n                  labelPlacement=\"start\"\n                  control={\n                    <Switch\n                      size=\"small\"\n                      checked={signMessage}\n                      onChange={(e) => {\n                        setSignMessage(e.target.checked);\n                      }}\n                      name=\"showAllTickets\"\n                      color=\"primary\"\n                    />\n                  }\n                />\n              </MenuItem>\n            </Menu>\n          </Hidden>\n          <div className={classes.messageInputWrapper}>\n            <InputBase\n              inputRef={(input) => {\n                input && input.focus();\n                input && (inputRef.current = input);\n              }}\n              className={classes.messageInput}\n              placeholder={\n                ticketStatus === \"open\"\n                  ? i18n.t(\"messagesInput.placeholderOpen\")\n                  : i18n.t(\"messagesInput.placeholderClosed\")\n              }\n              multiline\n              maxRows={5}\n              value={inputMessage}\n              onChange={handleChangeInput}\n              disabled={recording || loading || ticketStatus !== \"open\"}\n              onPaste={(e) => {\n                ticketStatus === \"open\" && handleInputPaste(e);\n              }}\n              onKeyPress={(e) => {\n                if (loading || e.shiftKey) return;\n                else if (e.key === \"Enter\") {\n                  handleSendMessage();\n                }\n              }}\n            />\n            {typeBar ? (\n              <ul className={classes.messageQuickAnswersWrapper}>\n                {quickAnswers.map((value, index) => {\n                  return (\n                    <li\n                      className={classes.messageQuickAnswersWrapperItem}\n                      key={index}\n                    >\n                      {/* eslint-disable-next-line jsx-a11y/anchor-is-valid */}\n                      <a onClick={() => handleQuickAnswersClick(value.message)}>\n                        {`${value.shortcut} - ${value.message}`}\n                      </a>\n                    </li>\n                  );\n                })}\n              </ul>\n            ) : (\n              <div></div>\n            )}\n          </div>\n          {inputMessage ? (\n            <IconButton\n              aria-label=\"sendMessage\"\n              component=\"span\"\n              onClick={handleSendMessage}\n              disabled={loading}\n            >\n              <SendIcon className={classes.sendMessageIcons} />\n            </IconButton>\n          ) : recording ? (\n            <div className={classes.recorderWrapper}>\n              <IconButton\n                aria-label=\"cancelRecording\"\n                component=\"span\"\n                fontSize=\"large\"\n                disabled={loading}\n                onClick={handleCancelAudio}\n              >\n                <HighlightOffIcon className={classes.cancelAudioIcon} />\n              </IconButton>\n              {loading ? (\n                <div>\n                  <CircularProgress className={classes.audioLoading} />\n                </div>\n              ) : (\n                <RecordingTimer />\n              )}\n\n              <IconButton\n                aria-label=\"sendRecordedAudio\"\n                component=\"span\"\n                onClick={handleUploadAudio}\n                disabled={loading}\n              >\n                <CheckCircleOutlineIcon className={classes.sendAudioIcon} />\n              </IconButton>\n            </div>\n          ) : (\n            <IconButton\n              aria-label=\"showRecorder\"\n              component=\"span\"\n              disabled={loading || ticketStatus !== \"open\"}\n              onClick={handleStartRecording}\n            >\n              <MicIcon className={classes.sendMessageIcons} />\n            </IconButton>\n          )}\n        </div>\n      </Paper>\n    );\n  }\n};\n\nexport default MessageInput;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}