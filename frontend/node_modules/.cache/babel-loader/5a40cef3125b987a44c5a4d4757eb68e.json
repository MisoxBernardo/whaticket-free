{"ast":null,"code":"import React,{useContext}from\"react\";import Paper from\"@material-ui/core/Paper\";import Container from\"@material-ui/core/Container\";import Grid from\"@material-ui/core/Grid\";import{makeStyles}from\"@material-ui/core/styles\";import Typography from\"@material-ui/core/Typography\";import useTickets from\"../../hooks/useTickets\";import{AuthContext}from\"../../context/Auth/AuthContext\";import{i18n}from\"../../translate/i18n\";import Chart from\"./Chart\";const useStyles=makeStyles(theme=>({container:{paddingTop:theme.spacing(4),paddingBottom:theme.spacing(4)},fixedHeightPaper:{padding:theme.spacing(2),display:\"flex\",overflow:\"auto\",flexDirection:\"column\",height:240},customFixedHeightPaper:{padding:theme.spacing(2),display:\"flex\",overflow:\"auto\",flexDirection:\"column\",height:120},customFixedHeightPaperLg:{padding:theme.spacing(2),display:\"flex\",overflow:\"auto\",flexDirection:\"column\",height:\"100%\"}}));const Dashboard=()=>{const classes=useStyles();const{user}=useContext(AuthContext);var userQueueIds=[];if(user.queues&&user.queues.length>0){userQueueIds=user.queues.map(q=>q.id);}const GetTickets=(status,showAll,withUnreadMessages)=>{const{count}=useTickets({status:status,showAll:showAll,withUnreadMessages:withUnreadMessages,queueIds:JSON.stringify(userQueueIds)});return count;};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Container,{maxWidth:\"lg\",className:classes.container},/*#__PURE__*/React.createElement(Grid,{container:true,spacing:3},/*#__PURE__*/React.createElement(Grid,{item:true,xs:4},/*#__PURE__*/React.createElement(Paper,{className:classes.customFixedHeightPaper,style:{overflow:\"hidden\"}},/*#__PURE__*/React.createElement(Typography,{component:\"h3\",variant:\"h6\",color:\"primary\",paragraph:true},i18n.t(\"dashboard.messages.inAttendance.title\")),/*#__PURE__*/React.createElement(Grid,{item:true},/*#__PURE__*/React.createElement(Typography,{component:\"h1\",variant:\"h4\"},GetTickets(\"open\",\"true\",\"false\"))))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:4},/*#__PURE__*/React.createElement(Paper,{className:classes.customFixedHeightPaper,style:{overflow:\"hidden\"}},/*#__PURE__*/React.createElement(Typography,{component:\"h3\",variant:\"h6\",color:\"primary\",paragraph:true},i18n.t(\"dashboard.messages.waiting.title\")),/*#__PURE__*/React.createElement(Grid,{item:true},/*#__PURE__*/React.createElement(Typography,{component:\"h1\",variant:\"h4\"},GetTickets(\"pending\",\"true\",\"false\"))))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:4},/*#__PURE__*/React.createElement(Paper,{className:classes.customFixedHeightPaper,style:{overflow:\"hidden\"}},/*#__PURE__*/React.createElement(Typography,{component:\"h3\",variant:\"h6\",color:\"primary\",paragraph:true},i18n.t(\"dashboard.messages.closed.title\")),/*#__PURE__*/React.createElement(Grid,{item:true},/*#__PURE__*/React.createElement(Typography,{component:\"h1\",variant:\"h4\"},GetTickets(\"closed\",\"true\",\"false\"))))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(Paper,{className:classes.fixedHeightPaper},/*#__PURE__*/React.createElement(Chart,null))))));};export default Dashboard;","map":{"version":3,"names":["React","useContext","Paper","Container","Grid","makeStyles","Typography","useTickets","AuthContext","i18n","Chart","useStyles","theme","container","paddingTop","spacing","paddingBottom","fixedHeightPaper","padding","display","overflow","flexDirection","height","customFixedHeightPaper","customFixedHeightPaperLg","Dashboard","classes","user","userQueueIds","queues","length","map","q","id","GetTickets","status","showAll","withUnreadMessages","count","queueIds","JSON","stringify","createElement","maxWidth","className","item","xs","style","component","variant","color","paragraph","t"],"sources":["/home/user/whaticket-free/frontend/src/pages/Dashboard/index.js"],"sourcesContent":["import React, { useContext } from \"react\"\n\nimport Paper from \"@material-ui/core/Paper\"\nimport Container from \"@material-ui/core/Container\"\nimport Grid from \"@material-ui/core/Grid\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport Typography from \"@material-ui/core/Typography\";\n\nimport useTickets from \"../../hooks/useTickets\"\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport Chart from \"./Chart\"\n\nconst useStyles = makeStyles(theme => ({\n\tcontainer: {\n\t\tpaddingTop: theme.spacing(4),\n\t\tpaddingBottom: theme.spacing(4),\n\t},\n\tfixedHeightPaper: {\n\t\tpadding: theme.spacing(2),\n\t\tdisplay: \"flex\",\n\t\toverflow: \"auto\",\n\t\tflexDirection: \"column\",\n\t\theight: 240,\n\t},\n\tcustomFixedHeightPaper: {\n\t\tpadding: theme.spacing(2),\n\t\tdisplay: \"flex\",\n\t\toverflow: \"auto\",\n\t\tflexDirection: \"column\",\n\t\theight: 120,\n\t},\n\tcustomFixedHeightPaperLg: {\n\t\tpadding: theme.spacing(2),\n\t\tdisplay: \"flex\",\n\t\toverflow: \"auto\",\n\t\tflexDirection: \"column\",\n\t\theight: \"100%\",\n\t},\n}))\n\nconst Dashboard = () => {\n\tconst classes = useStyles()\n\n\tconst { user } = useContext(AuthContext);\n\tvar userQueueIds = [];\n\n\tif (user.queues && user.queues.length > 0) {\n\t\tuserQueueIds = user.queues.map(q => q.id);\n\t}\n\n\tconst GetTickets = (status, showAll, withUnreadMessages) => {\n\n\t\tconst { count } = useTickets({\n\t\t\tstatus: status,\n\t\t\tshowAll: showAll,\n\t\t\twithUnreadMessages: withUnreadMessages,\n\t\t\tqueueIds: JSON.stringify(userQueueIds)\n\t\t});\n\t\treturn count;\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<Container maxWidth=\"lg\" className={classes.container}>\n\t\t\t\t<Grid container spacing={3}>\n\t\t\t\t\t<Grid item xs={4}>\n\t\t\t\t\t\t<Paper className={classes.customFixedHeightPaper} style={{ overflow: \"hidden\" }}>\n\t\t\t\t\t\t\t<Typography component=\"h3\" variant=\"h6\" color=\"primary\" paragraph>\n\t\t\t\t\t\t\t\t{i18n.t(\"dashboard.messages.inAttendance.title\")}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t<Typography component=\"h1\" variant=\"h4\">\n\t\t\t\t\t\t\t\t\t{GetTickets(\"open\", \"true\", \"false\")}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={4}>\n\t\t\t\t\t\t<Paper className={classes.customFixedHeightPaper} style={{ overflow: \"hidden\" }}>\n\t\t\t\t\t\t\t<Typography component=\"h3\" variant=\"h6\" color=\"primary\" paragraph>\n\t\t\t\t\t\t\t\t{i18n.t(\"dashboard.messages.waiting.title\")}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t<Typography component=\"h1\" variant=\"h4\">\n\t\t\t\t\t\t\t\t\t{GetTickets(\"pending\", \"true\", \"false\")}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={4}>\n\t\t\t\t\t\t<Paper className={classes.customFixedHeightPaper} style={{ overflow: \"hidden\" }}>\n\t\t\t\t\t\t\t<Typography component=\"h3\" variant=\"h6\" color=\"primary\" paragraph>\n\t\t\t\t\t\t\t\t{i18n.t(\"dashboard.messages.closed.title\")}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t<Typography component=\"h1\" variant=\"h4\">\n\t\t\t\t\t\t\t\t\t{GetTickets(\"closed\", \"true\", \"false\")}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Paper className={classes.fixedHeightPaper}>\n\t\t\t\t\t\t\t<Chart />\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Container>\n\t\t</div>\n\t)\n}\n\nexport default Dashboard"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}