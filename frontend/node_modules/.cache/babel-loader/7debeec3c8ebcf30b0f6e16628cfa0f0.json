{"ast":null,"code":"import React,{useState,useEffect,useContext,useRef}from\"react\";import\"emoji-mart/css/emoji-mart.css\";import{useParams}from\"react-router-dom\";import{Picker}from\"emoji-mart\";import MicRecorder from\"mic-recorder-to-mp3\";import clsx from\"clsx\";import{makeStyles}from\"@material-ui/core/styles\";import Paper from\"@material-ui/core/Paper\";import InputBase from\"@material-ui/core/InputBase\";import CircularProgress from\"@material-ui/core/CircularProgress\";import{green}from\"@material-ui/core/colors\";import AttachFileIcon from\"@material-ui/icons/AttachFile\";import IconButton from\"@material-ui/core/IconButton\";import MoreVert from\"@material-ui/icons/MoreVert\";import MoodIcon from\"@material-ui/icons/Mood\";import SendIcon from\"@material-ui/icons/Send\";import CancelIcon from\"@material-ui/icons/Cancel\";import ClearIcon from\"@material-ui/icons/Clear\";import MicIcon from\"@material-ui/icons/Mic\";import CheckCircleOutlineIcon from\"@material-ui/icons/CheckCircleOutline\";import HighlightOffIcon from\"@material-ui/icons/HighlightOff\";import{FormControlLabel,Hidden,Menu,MenuItem,Switch}from\"@material-ui/core\";import ClickAwayListener from\"@material-ui/core/ClickAwayListener\";import{i18n}from\"../../translate/i18n\";import api from\"../../services/api\";import RecordingTimer from\"./RecordingTimer\";import{ReplyMessageContext}from\"../../context/ReplyingMessage/ReplyingMessageContext\";import{AuthContext}from\"../../context/Auth/AuthContext\";import{useLocalStorage}from\"../../hooks/useLocalStorage\";import toastError from\"../../errors/toastError\";const Mp3Recorder=new MicRecorder({bitRate:128});const useStyles=makeStyles(theme=>({mainWrapper:{background:\"#eee\",display:\"flex\",flexDirection:\"column\",alignItems:\"center\",borderTop:\"1px solid rgba(0, 0, 0, 0.12)\",[theme.breakpoints.down(\"sm\")]:{position:\"fixed\",bottom:0,width:\"100%\"}},newMessageBox:{background:\"#eee\",width:\"100%\",display:\"flex\",padding:\"7px\",alignItems:\"center\"},messageInputWrapper:{padding:6,marginRight:7,background:\"#fff\",display:\"flex\",borderRadius:20,flex:1,position:\"relative\"},messageInput:{paddingLeft:10,flex:1,border:\"none\"},sendMessageIcons:{color:\"grey\"},uploadInput:{display:\"none\"},viewMediaInputWrapper:{display:\"flex\",padding:\"10px 13px\",position:\"relative\",justifyContent:\"space-between\",alignItems:\"center\",backgroundColor:\"#eee\",borderTop:\"1px solid rgba(0, 0, 0, 0.12)\"},emojiBox:{position:\"absolute\",bottom:63,width:40,borderTop:\"1px solid #e8e8e8\"},circleLoading:{color:green[500],opacity:\"70%\",position:\"absolute\",top:\"20%\",left:\"50%\",marginLeft:-12},audioLoading:{color:green[500],opacity:\"70%\"},recorderWrapper:{display:\"flex\",alignItems:\"center\",alignContent:\"middle\"},cancelAudioIcon:{color:\"red\"},sendAudioIcon:{color:\"green\"},replyginMsgWrapper:{display:\"flex\",width:\"100%\",alignItems:\"center\",justifyContent:\"center\",paddingTop:8,paddingLeft:73,paddingRight:7},replyginMsgContainer:{flex:1,marginRight:5,overflowY:\"hidden\",backgroundColor:\"rgba(0, 0, 0, 0.05)\",borderRadius:\"7.5px\",display:\"flex\",position:\"relative\"},replyginMsgBody:{padding:10,height:\"auto\",display:\"block\",whiteSpace:\"pre-wrap\",overflow:\"hidden\"},replyginContactMsgSideColor:{flex:\"none\",width:\"4px\",backgroundColor:\"#35cd96\"},replyginSelfMsgSideColor:{flex:\"none\",width:\"4px\",backgroundColor:\"#6bcbef\"},messageContactName:{display:\"flex\",color:\"#6bcbef\",fontWeight:500},messageQuickAnswersWrapper:{margin:0,position:\"absolute\",bottom:\"50px\",background:\"#ffffff\",padding:\"2px\",border:\"1px solid #CCC\",left:0,width:\"100%\",\"& li\":{listStyle:\"none\",\"& a\":{display:\"block\",padding:\"8px\",textOverflow:\"ellipsis\",overflow:\"hidden\",maxHeight:\"32px\",\"&:hover\":{background:\"#F1F1F1\",cursor:\"pointer\"}}}}}));const MessageInput=_ref=>{var _medias$;let{ticketStatus}=_ref;const classes=useStyles();const{ticketId}=useParams();const[medias,setMedias]=useState([]);const[inputMessage,setInputMessage]=useState(\"\");const[showEmoji,setShowEmoji]=useState(false);const[loading,setLoading]=useState(false);const[recording,setRecording]=useState(false);const[quickAnswers,setQuickAnswer]=useState([]);const[typeBar,setTypeBar]=useState(false);const inputRef=useRef();const[anchorEl,setAnchorEl]=useState(null);const{setReplyingMessage,replyingMessage}=useContext(ReplyMessageContext);const{user}=useContext(AuthContext);const[signMessage,setSignMessage]=useLocalStorage(\"signOption\",true);useEffect(()=>{inputRef.current.focus();},[replyingMessage]);useEffect(()=>{inputRef.current.focus();return()=>{setInputMessage(\"\");setShowEmoji(false);setMedias([]);setReplyingMessage(null);};},[ticketId,setReplyingMessage]);const handleChangeInput=e=>{setInputMessage(e.target.value);handleLoadQuickAnswer(e.target.value);};const handleQuickAnswersClick=value=>{setInputMessage(value);setTypeBar(false);};const handleAddEmoji=e=>{let emoji=e.native;setInputMessage(prevState=>prevState+emoji);};const handleChangeMedias=e=>{if(!e.target.files){return;}const selectedMedias=Array.from(e.target.files);setMedias(selectedMedias);};const handleInputPaste=e=>{if(e.clipboardData.files[0]){setMedias([e.clipboardData.files[0]]);}};const handleUploadMedia=async e=>{setLoading(true);e.preventDefault();const formData=new FormData();formData.append(\"fromMe\",true);medias.forEach(media=>{formData.append(\"medias\",media);formData.append(\"body\",media.name);});try{await api.post(\"/messages/\".concat(ticketId),formData);}catch(err){toastError(err);}setLoading(false);setMedias([]);};const handleSendMessage=async()=>{if(inputMessage.trim()===\"\")return;setLoading(true);const message={read:1,fromMe:true,mediaUrl:\"\",body:signMessage?\"*\".concat(user===null||user===void 0?void 0:user.name,\":*\\n\").concat(inputMessage.trim()):inputMessage.trim(),quotedMsg:replyingMessage};try{await api.post(\"/messages/\".concat(ticketId),message);}catch(err){toastError(err);}setInputMessage(\"\");setShowEmoji(false);setLoading(false);setReplyingMessage(null);};const handleStartRecording=async()=>{setLoading(true);try{await navigator.mediaDevices.getUserMedia({audio:true});await Mp3Recorder.start();setRecording(true);setLoading(false);}catch(err){toastError(err);setLoading(false);}};const handleLoadQuickAnswer=async value=>{if(value&&value.indexOf(\"/\")===0){try{const{data}=await api.get(\"/quickAnswers/\",{params:{searchParam:inputMessage.substring(1)}});setQuickAnswer(data.quickAnswers);if(data.quickAnswers.length>0){setTypeBar(true);}else{setTypeBar(false);}}catch(err){setTypeBar(false);}}else{setTypeBar(false);}};const handleUploadAudio=async()=>{setLoading(true);try{const[,blob]=await Mp3Recorder.stop().getMp3();if(blob.size<10000){setLoading(false);setRecording(false);return;}const formData=new FormData();const filename=\"audio-record-site-\".concat(new Date().getTime(),\".mp3\");formData.append(\"medias\",blob,filename);formData.append(\"body\",filename);formData.append(\"fromMe\",true);await api.post(\"/messages/\".concat(ticketId),formData);}catch(err){toastError(err);}setRecording(false);setLoading(false);};const handleCancelAudio=async()=>{try{await Mp3Recorder.stop().getMp3();setRecording(false);}catch(err){toastError(err);}};const handleOpenMenuClick=event=>{setAnchorEl(event.currentTarget);};const handleMenuItemClick=event=>{setAnchorEl(null);};const renderReplyingMessage=message=>{var _message$contact;return/*#__PURE__*/React.createElement(\"div\",{className:classes.replyginMsgWrapper},/*#__PURE__*/React.createElement(\"div\",{className:classes.replyginMsgContainer},/*#__PURE__*/React.createElement(\"span\",{className:clsx(classes.replyginContactMsgSideColor,{[classes.replyginSelfMsgSideColor]:!message.fromMe})}),/*#__PURE__*/React.createElement(\"div\",{className:classes.replyginMsgBody},!message.fromMe&&/*#__PURE__*/React.createElement(\"span\",{className:classes.messageContactName},(_message$contact=message.contact)===null||_message$contact===void 0?void 0:_message$contact.name),message.body)),/*#__PURE__*/React.createElement(IconButton,{\"aria-label\":\"showRecorder\",component:\"span\",disabled:loading||ticketStatus!==\"open\",onClick:()=>setReplyingMessage(null)},/*#__PURE__*/React.createElement(ClearIcon,{className:classes.sendMessageIcons})));};if(medias.length>0)return/*#__PURE__*/React.createElement(Paper,{elevation:0,square:true,className:classes.viewMediaInputWrapper},/*#__PURE__*/React.createElement(IconButton,{\"aria-label\":\"cancel-upload\",component:\"span\",onClick:e=>setMedias([])},/*#__PURE__*/React.createElement(CancelIcon,{className:classes.sendMessageIcons})),loading?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(CircularProgress,{className:classes.circleLoading})):/*#__PURE__*/React.createElement(\"span\",null,(_medias$=medias[0])===null||_medias$===void 0?void 0:_medias$.name),/*#__PURE__*/React.createElement(IconButton,{\"aria-label\":\"send-upload\",component:\"span\",onClick:handleUploadMedia,disabled:loading},/*#__PURE__*/React.createElement(SendIcon,{className:classes.sendMessageIcons})));else{return/*#__PURE__*/React.createElement(Paper,{square:true,elevation:0,className:classes.mainWrapper},replyingMessage&&renderReplyingMessage(replyingMessage),/*#__PURE__*/React.createElement(\"div\",{className:classes.newMessageBox},/*#__PURE__*/React.createElement(Hidden,{only:[\"sm\",\"xs\"]},/*#__PURE__*/React.createElement(IconButton,{\"aria-label\":\"emojiPicker\",component:\"span\",disabled:loading||recording||ticketStatus!==\"open\",onClick:e=>setShowEmoji(prevState=>!prevState)},/*#__PURE__*/React.createElement(MoodIcon,{className:classes.sendMessageIcons})),showEmoji?/*#__PURE__*/React.createElement(\"div\",{className:classes.emojiBox},/*#__PURE__*/React.createElement(ClickAwayListener,{onClickAway:e=>setShowEmoji(false)},/*#__PURE__*/React.createElement(Picker,{perLine:16,showPreview:false,showSkinTones:false,onSelect:handleAddEmoji}))):null,/*#__PURE__*/React.createElement(\"input\",{multiple:true,type:\"file\",id:\"upload-button\",disabled:loading||recording||ticketStatus!==\"open\",className:classes.uploadInput,onChange:handleChangeMedias}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"upload-button\"},/*#__PURE__*/React.createElement(IconButton,{\"aria-label\":\"upload\",component:\"span\",disabled:loading||recording||ticketStatus!==\"open\"},/*#__PURE__*/React.createElement(AttachFileIcon,{className:classes.sendMessageIcons}))),/*#__PURE__*/React.createElement(FormControlLabel,{style:{marginRight:7,color:\"gray\"},label:i18n.t(\"messagesInput.signMessage\"),labelPlacement:\"start\",control:/*#__PURE__*/React.createElement(Switch,{size:\"small\",checked:signMessage,onChange:e=>{setSignMessage(e.target.checked);},name:\"showAllTickets\",color:\"primary\"})})),/*#__PURE__*/React.createElement(Hidden,{only:[\"md\",\"lg\",\"xl\"]},/*#__PURE__*/React.createElement(IconButton,{\"aria-controls\":\"simple-menu\",\"aria-haspopup\":\"true\",onClick:handleOpenMenuClick},/*#__PURE__*/React.createElement(MoreVert,null)),/*#__PURE__*/React.createElement(Menu,{id:\"simple-menu\",keepMounted:true,anchorEl:anchorEl,open:Boolean(anchorEl),onClose:handleMenuItemClick},/*#__PURE__*/React.createElement(MenuItem,{onClick:handleMenuItemClick},/*#__PURE__*/React.createElement(IconButton,{\"aria-label\":\"emojiPicker\",component:\"span\",disabled:loading||recording||ticketStatus!==\"open\",onClick:e=>setShowEmoji(prevState=>!prevState)},/*#__PURE__*/React.createElement(MoodIcon,{className:classes.sendMessageIcons}))),/*#__PURE__*/React.createElement(MenuItem,{onClick:handleMenuItemClick},/*#__PURE__*/React.createElement(\"input\",{multiple:true,type:\"file\",id:\"upload-button\",disabled:loading||recording||ticketStatus!==\"open\",className:classes.uploadInput,onChange:handleChangeMedias}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"upload-button\"},/*#__PURE__*/React.createElement(IconButton,{\"aria-label\":\"upload\",component:\"span\",disabled:loading||recording||ticketStatus!==\"open\"},/*#__PURE__*/React.createElement(AttachFileIcon,{className:classes.sendMessageIcons})))),/*#__PURE__*/React.createElement(MenuItem,{onClick:handleMenuItemClick},/*#__PURE__*/React.createElement(FormControlLabel,{style:{marginRight:7,color:\"gray\"},label:i18n.t(\"messagesInput.signMessage\"),labelPlacement:\"start\",control:/*#__PURE__*/React.createElement(Switch,{size:\"small\",checked:signMessage,onChange:e=>{setSignMessage(e.target.checked);},name:\"showAllTickets\",color:\"primary\"})})))),/*#__PURE__*/React.createElement(\"div\",{className:classes.messageInputWrapper},/*#__PURE__*/React.createElement(InputBase,{inputRef:input=>{input&&input.focus();input&&(inputRef.current=input);},className:classes.messageInput,placeholder:ticketStatus===\"open\"?i18n.t(\"messagesInput.placeholderOpen\"):i18n.t(\"messagesInput.placeholderClosed\"),multiline:true,maxRows:5,value:inputMessage,onChange:handleChangeInput,disabled:recording||loading||ticketStatus!==\"open\",onPaste:e=>{ticketStatus===\"open\"&&handleInputPaste(e);},onKeyPress:e=>{if(loading||e.shiftKey)return;else if(e.key===\"Enter\"){handleSendMessage();}}}),typeBar?/*#__PURE__*/React.createElement(\"ul\",{className:classes.messageQuickAnswersWrapper},quickAnswers.map((value,index)=>{return/*#__PURE__*/React.createElement(\"li\",{className:classes.messageQuickAnswersWrapperItem,key:index},/*#__PURE__*/React.createElement(\"a\",{onClick:()=>handleQuickAnswersClick(value.message)},\"\".concat(value.shortcut,\" - \").concat(value.message)));})):/*#__PURE__*/React.createElement(\"div\",null)),inputMessage?/*#__PURE__*/React.createElement(IconButton,{\"aria-label\":\"sendMessage\",component:\"span\",onClick:handleSendMessage,disabled:loading},/*#__PURE__*/React.createElement(SendIcon,{className:classes.sendMessageIcons})):recording?/*#__PURE__*/React.createElement(\"div\",{className:classes.recorderWrapper},/*#__PURE__*/React.createElement(IconButton,{\"aria-label\":\"cancelRecording\",component:\"span\",fontSize:\"large\",disabled:loading,onClick:handleCancelAudio},/*#__PURE__*/React.createElement(HighlightOffIcon,{className:classes.cancelAudioIcon})),loading?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(CircularProgress,{className:classes.audioLoading})):/*#__PURE__*/React.createElement(RecordingTimer,null),/*#__PURE__*/React.createElement(IconButton,{\"aria-label\":\"sendRecordedAudio\",component:\"span\",onClick:handleUploadAudio,disabled:loading},/*#__PURE__*/React.createElement(CheckCircleOutlineIcon,{className:classes.sendAudioIcon}))):/*#__PURE__*/React.createElement(IconButton,{\"aria-label\":\"showRecorder\",component:\"span\",disabled:loading||ticketStatus!==\"open\",onClick:handleStartRecording},/*#__PURE__*/React.createElement(MicIcon,{className:classes.sendMessageIcons}))));}};export default MessageInput;","map":{"version":3,"names":["React","useState","useEffect","useContext","useRef","useParams","Picker","MicRecorder","clsx","makeStyles","Paper","InputBase","CircularProgress","green","AttachFileIcon","IconButton","MoreVert","MoodIcon","SendIcon","CancelIcon","ClearIcon","MicIcon","CheckCircleOutlineIcon","HighlightOffIcon","FormControlLabel","Hidden","Menu","MenuItem","Switch","ClickAwayListener","i18n","api","RecordingTimer","ReplyMessageContext","AuthContext","useLocalStorage","toastError","Mp3Recorder","bitRate","useStyles","theme","mainWrapper","background","display","flexDirection","alignItems","borderTop","breakpoints","down","position","bottom","width","newMessageBox","padding","messageInputWrapper","marginRight","borderRadius","flex","messageInput","paddingLeft","border","sendMessageIcons","color","uploadInput","viewMediaInputWrapper","justifyContent","backgroundColor","emojiBox","circleLoading","opacity","top","left","marginLeft","audioLoading","recorderWrapper","alignContent","cancelAudioIcon","sendAudioIcon","replyginMsgWrapper","paddingTop","paddingRight","replyginMsgContainer","overflowY","replyginMsgBody","height","whiteSpace","overflow","replyginContactMsgSideColor","replyginSelfMsgSideColor","messageContactName","fontWeight","messageQuickAnswersWrapper","margin","listStyle","textOverflow","maxHeight","cursor","MessageInput","_ref","_medias$","ticketStatus","classes","ticketId","medias","setMedias","inputMessage","setInputMessage","showEmoji","setShowEmoji","loading","setLoading","recording","setRecording","quickAnswers","setQuickAnswer","typeBar","setTypeBar","inputRef","anchorEl","setAnchorEl","setReplyingMessage","replyingMessage","user","signMessage","setSignMessage","current","focus","handleChangeInput","e","target","value","handleLoadQuickAnswer","handleQuickAnswersClick","handleAddEmoji","emoji","native","prevState","handleChangeMedias","files","selectedMedias","Array","from","handleInputPaste","clipboardData","handleUploadMedia","preventDefault","formData","FormData","append","forEach","media","name","post","concat","err","handleSendMessage","trim","message","read","fromMe","mediaUrl","body","quotedMsg","handleStartRecording","navigator","mediaDevices","getUserMedia","audio","start","indexOf","data","get","params","searchParam","substring","length","handleUploadAudio","blob","stop","getMp3","size","filename","Date","getTime","handleCancelAudio","handleOpenMenuClick","event","currentTarget","handleMenuItemClick","renderReplyingMessage","_message$contact","createElement","className","contact","component","disabled","onClick","elevation","square","only","onClickAway","perLine","showPreview","showSkinTones","onSelect","multiple","type","id","onChange","htmlFor","style","label","t","labelPlacement","control","checked","keepMounted","open","Boolean","onClose","input","placeholder","multiline","maxRows","onPaste","onKeyPress","shiftKey","key","map","index","messageQuickAnswersWrapperItem","shortcut","fontSize"],"sources":["/home/user/whaticket-free/frontend/src/components/MessageInput/index.js"],"sourcesContent":["import React, { useState, useEffect, useContext, useRef } from \"react\";\nimport \"emoji-mart/css/emoji-mart.css\";\nimport { useParams } from \"react-router-dom\";\nimport { Picker } from \"emoji-mart\";\nimport MicRecorder from \"mic-recorder-to-mp3\";\nimport clsx from \"clsx\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { green } from \"@material-ui/core/colors\";\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MoreVert from \"@material-ui/icons/MoreVert\";\nimport MoodIcon from \"@material-ui/icons/Mood\";\nimport SendIcon from \"@material-ui/icons/Send\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport MicIcon from \"@material-ui/icons/Mic\";\nimport CheckCircleOutlineIcon from \"@material-ui/icons/CheckCircleOutline\";\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\";\nimport {\n  FormControlLabel,\n  Hidden,\n  Menu,\n  MenuItem,\n  Switch,\n} from \"@material-ui/core\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport RecordingTimer from \"./RecordingTimer\";\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { useLocalStorage } from \"../../hooks/useLocalStorage\";\nimport toastError from \"../../errors/toastError\";\n\nconst Mp3Recorder = new MicRecorder({ bitRate: 128 });\n\nconst useStyles = makeStyles((theme) => ({\n  mainWrapper: {\n    background: \"#eee\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n    [theme.breakpoints.down(\"sm\")]: {\n      position: \"fixed\",\n      bottom: 0,\n      width: \"100%\",\n    },\n  },\n\n  newMessageBox: {\n    background: \"#eee\",\n    width: \"100%\",\n    display: \"flex\",\n    padding: \"7px\",\n    alignItems: \"center\",\n  },\n\n  messageInputWrapper: {\n    padding: 6,\n    marginRight: 7,\n    background: \"#fff\",\n    display: \"flex\",\n    borderRadius: 20,\n    flex: 1,\n    position: \"relative\",\n  },\n\n  messageInput: {\n    paddingLeft: 10,\n    flex: 1,\n    border: \"none\",\n  },\n\n  sendMessageIcons: {\n    color: \"grey\",\n  },\n\n  uploadInput: {\n    display: \"none\",\n  },\n\n  viewMediaInputWrapper: {\n    display: \"flex\",\n    padding: \"10px 13px\",\n    position: \"relative\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    backgroundColor: \"#eee\",\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n\n  emojiBox: {\n    position: \"absolute\",\n    bottom: 63,\n    width: 40,\n    borderTop: \"1px solid #e8e8e8\",\n  },\n\n  circleLoading: {\n    color: green[500],\n    opacity: \"70%\",\n    position: \"absolute\",\n    top: \"20%\",\n    left: \"50%\",\n    marginLeft: -12,\n  },\n\n  audioLoading: {\n    color: green[500],\n    opacity: \"70%\",\n  },\n\n  recorderWrapper: {\n    display: \"flex\",\n    alignItems: \"center\",\n    alignContent: \"middle\",\n  },\n\n  cancelAudioIcon: {\n    color: \"red\",\n  },\n\n  sendAudioIcon: {\n    color: \"green\",\n  },\n\n  replyginMsgWrapper: {\n    display: \"flex\",\n    width: \"100%\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    paddingTop: 8,\n    paddingLeft: 73,\n    paddingRight: 7,\n  },\n\n  replyginMsgContainer: {\n    flex: 1,\n    marginRight: 5,\n    overflowY: \"hidden\",\n    backgroundColor: \"rgba(0, 0, 0, 0.05)\",\n    borderRadius: \"7.5px\",\n    display: \"flex\",\n    position: \"relative\",\n  },\n\n  replyginMsgBody: {\n    padding: 10,\n    height: \"auto\",\n    display: \"block\",\n    whiteSpace: \"pre-wrap\",\n    overflow: \"hidden\",\n  },\n\n  replyginContactMsgSideColor: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#35cd96\",\n  },\n\n  replyginSelfMsgSideColor: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#6bcbef\",\n  },\n\n  messageContactName: {\n    display: \"flex\",\n    color: \"#6bcbef\",\n    fontWeight: 500,\n  },\n  messageQuickAnswersWrapper: {\n    margin: 0,\n    position: \"absolute\",\n    bottom: \"50px\",\n    background: \"#ffffff\",\n    padding: \"2px\",\n    border: \"1px solid #CCC\",\n    left: 0,\n    width: \"100%\",\n    \"& li\": {\n      listStyle: \"none\",\n      \"& a\": {\n        display: \"block\",\n        padding: \"8px\",\n        textOverflow: \"ellipsis\",\n        overflow: \"hidden\",\n        maxHeight: \"32px\",\n        \"&:hover\": {\n          background: \"#F1F1F1\",\n          cursor: \"pointer\",\n        },\n      },\n    },\n  },\n}));\n\nconst MessageInput = ({ ticketStatus }) => {\n  const classes = useStyles();\n  const { ticketId } = useParams();\n\n  const [medias, setMedias] = useState([]);\n  const [inputMessage, setInputMessage] = useState(\"\");\n  const [showEmoji, setShowEmoji] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [recording, setRecording] = useState(false);\n  const [quickAnswers, setQuickAnswer] = useState([]);\n  const [typeBar, setTypeBar] = useState(false);\n  const inputRef = useRef();\n  const [anchorEl, setAnchorEl] = useState(null);\n  const { setReplyingMessage, replyingMessage } =\n    useContext(ReplyMessageContext);\n  const { user } = useContext(AuthContext);\n\n  const [signMessage, setSignMessage] = useLocalStorage(\"signOption\", true);\n\n  useEffect(() => {\n    inputRef.current.focus();\n  }, [replyingMessage]);\n\n  useEffect(() => {\n    inputRef.current.focus();\n    return () => {\n      setInputMessage(\"\");\n      setShowEmoji(false);\n      setMedias([]);\n      setReplyingMessage(null);\n    };\n  }, [ticketId, setReplyingMessage]);\n\n  const handleChangeInput = (e) => {\n    setInputMessage(e.target.value);\n    handleLoadQuickAnswer(e.target.value);\n  };\n\n  const handleQuickAnswersClick = (value) => {\n    setInputMessage(value);\n    setTypeBar(false);\n  };\n\n  const handleAddEmoji = (e) => {\n    let emoji = e.native;\n    setInputMessage((prevState) => prevState + emoji);\n  };\n\n  const handleChangeMedias = (e) => {\n    if (!e.target.files) {\n      return;\n    }\n\n    const selectedMedias = Array.from(e.target.files);\n    setMedias(selectedMedias);\n  };\n\n  const handleInputPaste = (e) => {\n    if (e.clipboardData.files[0]) {\n      setMedias([e.clipboardData.files[0]]);\n    }\n  };\n\n  const handleUploadMedia = async (e) => {\n    setLoading(true);\n    e.preventDefault();\n\n    const formData = new FormData();\n    formData.append(\"fromMe\", true);\n    medias.forEach((media) => {\n      formData.append(\"medias\", media);\n      formData.append(\"body\", media.name);\n    });\n\n    try {\n      await api.post(`/messages/${ticketId}`, formData);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setLoading(false);\n    setMedias([]);\n  };\n\n  const handleSendMessage = async () => {\n    if (inputMessage.trim() === \"\") return;\n    setLoading(true);\n\n    const message = {\n      read: 1,\n      fromMe: true,\n      mediaUrl: \"\",\n      body: signMessage\n        ? `*${user?.name}:*\\n${inputMessage.trim()}`\n        : inputMessage.trim(),\n      quotedMsg: replyingMessage,\n    };\n    try {\n      await api.post(`/messages/${ticketId}`, message);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setInputMessage(\"\");\n    setShowEmoji(false);\n    setLoading(false);\n    setReplyingMessage(null);\n  };\n\n  const handleStartRecording = async () => {\n    setLoading(true);\n    try {\n      await navigator.mediaDevices.getUserMedia({ audio: true });\n      await Mp3Recorder.start();\n      setRecording(true);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n      setLoading(false);\n    }\n  };\n\n  const handleLoadQuickAnswer = async (value) => {\n    if (value && value.indexOf(\"/\") === 0) {\n      try {\n        const { data } = await api.get(\"/quickAnswers/\", {\n          params: { searchParam: inputMessage.substring(1) },\n        });\n        setQuickAnswer(data.quickAnswers);\n        if (data.quickAnswers.length > 0) {\n          setTypeBar(true);\n        } else {\n          setTypeBar(false);\n        }\n      } catch (err) {\n        setTypeBar(false);\n      }\n    } else {\n      setTypeBar(false);\n    }\n  };\n\n  const handleUploadAudio = async () => {\n    setLoading(true);\n    try {\n      const [, blob] = await Mp3Recorder.stop().getMp3();\n      if (blob.size < 10000) {\n        setLoading(false);\n        setRecording(false);\n        return;\n      }\n\n      const formData = new FormData();\n      const filename = `audio-record-site-${new Date().getTime()}.mp3`;\n      formData.append(\"medias\", blob, filename);\n      formData.append(\"body\", filename);\n      formData.append(\"fromMe\", true);\n\n      await api.post(`/messages/${ticketId}`, formData);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setRecording(false);\n    setLoading(false);\n  };\n\n  const handleCancelAudio = async () => {\n    try {\n      await Mp3Recorder.stop().getMp3();\n      setRecording(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleOpenMenuClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleMenuItemClick = (event) => {\n    setAnchorEl(null);\n  };\n\n  const renderReplyingMessage = (message) => {\n    return (\n      <div className={classes.replyginMsgWrapper}>\n        <div className={classes.replyginMsgContainer}>\n          <span\n            className={clsx(classes.replyginContactMsgSideColor, {\n              [classes.replyginSelfMsgSideColor]: !message.fromMe,\n            })}\n          ></span>\n          <div className={classes.replyginMsgBody}>\n            {!message.fromMe && (\n              <span className={classes.messageContactName}>\n                {message.contact?.name}\n              </span>\n            )}\n            {message.body}\n          </div>\n        </div>\n        <IconButton\n          aria-label=\"showRecorder\"\n          component=\"span\"\n          disabled={loading || ticketStatus !== \"open\"}\n          onClick={() => setReplyingMessage(null)}\n        >\n          <ClearIcon className={classes.sendMessageIcons} />\n        </IconButton>\n      </div>\n    );\n  };\n\n  if (medias.length > 0)\n    return (\n      <Paper elevation={0} square className={classes.viewMediaInputWrapper}>\n        <IconButton\n          aria-label=\"cancel-upload\"\n          component=\"span\"\n          onClick={(e) => setMedias([])}\n        >\n          <CancelIcon className={classes.sendMessageIcons} />\n        </IconButton>\n\n        {loading ? (\n          <div>\n            <CircularProgress className={classes.circleLoading} />\n          </div>\n        ) : (\n          <span>\n            {medias[0]?.name}\n            {/* <img src={media.preview} alt=\"\"></img> */}\n          </span>\n        )}\n        <IconButton\n          aria-label=\"send-upload\"\n          component=\"span\"\n          onClick={handleUploadMedia}\n          disabled={loading}\n        >\n          <SendIcon className={classes.sendMessageIcons} />\n        </IconButton>\n      </Paper>\n    );\n  else {\n    return (\n      <Paper square elevation={0} className={classes.mainWrapper}>\n        {replyingMessage && renderReplyingMessage(replyingMessage)}\n        <div className={classes.newMessageBox}>\n          <Hidden only={[\"sm\", \"xs\"]}>\n            <IconButton\n              aria-label=\"emojiPicker\"\n              component=\"span\"\n              disabled={loading || recording || ticketStatus !== \"open\"}\n              onClick={(e) => setShowEmoji((prevState) => !prevState)}\n            >\n              <MoodIcon className={classes.sendMessageIcons} />\n            </IconButton>\n            {showEmoji ? (\n              <div className={classes.emojiBox}>\n                <ClickAwayListener onClickAway={(e) => setShowEmoji(false)}>\n                  <Picker\n                    perLine={16}\n                    showPreview={false}\n                    showSkinTones={false}\n                    onSelect={handleAddEmoji}\n                  />\n                </ClickAwayListener>\n              </div>\n            ) : null}\n\n            <input\n              multiple\n              type=\"file\"\n              id=\"upload-button\"\n              disabled={loading || recording || ticketStatus !== \"open\"}\n              className={classes.uploadInput}\n              onChange={handleChangeMedias}\n            />\n            <label htmlFor=\"upload-button\">\n              <IconButton\n                aria-label=\"upload\"\n                component=\"span\"\n                disabled={loading || recording || ticketStatus !== \"open\"}\n              >\n                <AttachFileIcon className={classes.sendMessageIcons} />\n              </IconButton>\n            </label>\n            <FormControlLabel\n              style={{ marginRight: 7, color: \"gray\" }}\n              label={i18n.t(\"messagesInput.signMessage\")}\n              labelPlacement=\"start\"\n              control={\n                <Switch\n                  size=\"small\"\n                  checked={signMessage}\n                  onChange={(e) => {\n                    setSignMessage(e.target.checked);\n                  }}\n                  name=\"showAllTickets\"\n                  color=\"primary\"\n                />\n              }\n            />\n          </Hidden>\n          <Hidden only={[\"md\", \"lg\", \"xl\"]}>\n            <IconButton\n              aria-controls=\"simple-menu\"\n              aria-haspopup=\"true\"\n              onClick={handleOpenMenuClick}\n            >\n              <MoreVert></MoreVert>\n            </IconButton>\n            <Menu\n              id=\"simple-menu\"\n              keepMounted\n              anchorEl={anchorEl}\n              open={Boolean(anchorEl)}\n              onClose={handleMenuItemClick}\n            >\n              <MenuItem onClick={handleMenuItemClick}>\n                <IconButton\n                  aria-label=\"emojiPicker\"\n                  component=\"span\"\n                  disabled={loading || recording || ticketStatus !== \"open\"}\n                  onClick={(e) => setShowEmoji((prevState) => !prevState)}\n                >\n                  <MoodIcon className={classes.sendMessageIcons} />\n                </IconButton>\n              </MenuItem>\n              <MenuItem onClick={handleMenuItemClick}>\n                <input\n                  multiple\n                  type=\"file\"\n                  id=\"upload-button\"\n                  disabled={loading || recording || ticketStatus !== \"open\"}\n                  className={classes.uploadInput}\n                  onChange={handleChangeMedias}\n                />\n                <label htmlFor=\"upload-button\">\n                  <IconButton\n                    aria-label=\"upload\"\n                    component=\"span\"\n                    disabled={loading || recording || ticketStatus !== \"open\"}\n                  >\n                    <AttachFileIcon className={classes.sendMessageIcons} />\n                  </IconButton>\n                </label>\n              </MenuItem>\n              <MenuItem onClick={handleMenuItemClick}>\n                <FormControlLabel\n                  style={{ marginRight: 7, color: \"gray\" }}\n                  label={i18n.t(\"messagesInput.signMessage\")}\n                  labelPlacement=\"start\"\n                  control={\n                    <Switch\n                      size=\"small\"\n                      checked={signMessage}\n                      onChange={(e) => {\n                        setSignMessage(e.target.checked);\n                      }}\n                      name=\"showAllTickets\"\n                      color=\"primary\"\n                    />\n                  }\n                />\n              </MenuItem>\n            </Menu>\n          </Hidden>\n          <div className={classes.messageInputWrapper}>\n            <InputBase\n              inputRef={(input) => {\n                input && input.focus();\n                input && (inputRef.current = input);\n              }}\n              className={classes.messageInput}\n              placeholder={\n                ticketStatus === \"open\"\n                  ? i18n.t(\"messagesInput.placeholderOpen\")\n                  : i18n.t(\"messagesInput.placeholderClosed\")\n              }\n              multiline\n              maxRows={5}\n              value={inputMessage}\n              onChange={handleChangeInput}\n              disabled={recording || loading || ticketStatus !== \"open\"}\n              onPaste={(e) => {\n                ticketStatus === \"open\" && handleInputPaste(e);\n              }}\n              onKeyPress={(e) => {\n                if (loading || e.shiftKey) return;\n                else if (e.key === \"Enter\") {\n                  handleSendMessage();\n                }\n              }}\n            />\n            {typeBar ? (\n              <ul className={classes.messageQuickAnswersWrapper}>\n                {quickAnswers.map((value, index) => {\n                  return (\n                    <li\n                      className={classes.messageQuickAnswersWrapperItem}\n                      key={index}\n                    >\n                      {/* eslint-disable-next-line jsx-a11y/anchor-is-valid */}\n                      <a onClick={() => handleQuickAnswersClick(value.message)}>\n                        {`${value.shortcut} - ${value.message}`}\n                      </a>\n                    </li>\n                  );\n                })}\n              </ul>\n            ) : (\n              <div></div>\n            )}\n          </div>\n          {inputMessage ? (\n            <IconButton\n              aria-label=\"sendMessage\"\n              component=\"span\"\n              onClick={handleSendMessage}\n              disabled={loading}\n            >\n              <SendIcon className={classes.sendMessageIcons} />\n            </IconButton>\n          ) : recording ? (\n            <div className={classes.recorderWrapper}>\n              <IconButton\n                aria-label=\"cancelRecording\"\n                component=\"span\"\n                fontSize=\"large\"\n                disabled={loading}\n                onClick={handleCancelAudio}\n              >\n                <HighlightOffIcon className={classes.cancelAudioIcon} />\n              </IconButton>\n              {loading ? (\n                <div>\n                  <CircularProgress className={classes.audioLoading} />\n                </div>\n              ) : (\n                <RecordingTimer />\n              )}\n\n              <IconButton\n                aria-label=\"sendRecordedAudio\"\n                component=\"span\"\n                onClick={handleUploadAudio}\n                disabled={loading}\n              >\n                <CheckCircleOutlineIcon className={classes.sendAudioIcon} />\n              </IconButton>\n            </div>\n          ) : (\n            <IconButton\n              aria-label=\"showRecorder\"\n              component=\"span\"\n              disabled={loading || ticketStatus !== \"open\"}\n              onClick={handleStartRecording}\n            >\n              <MicIcon className={classes.sendMessageIcons} />\n            </IconButton>\n          )}\n        </div>\n      </Paper>\n    );\n  }\n};\n\nexport default MessageInput;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}