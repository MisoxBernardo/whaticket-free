{"ast":null,"code":"var _jsxFileName = \"/home/user/whaticket-free/frontend/src/components/MessageOptionsMenu/index.js\";\nimport React, { useState, useContext } from \"react\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport { Menu } from \"@material-ui/core\";\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport toastError from \"../../errors/toastError\";\nconst MessageOptionsMenu = ({\n  message,\n  menuOpen,\n  handleClose,\n  anchorEl\n}) => {\n  const {\n    setReplyingMessage\n  } = useContext(ReplyMessageContext);\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\n  const handleDeleteMessage = async () => {\n    try {\n      await api.delete(`/messages/${message.id}`);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n  const hanldeReplyMessage = () => {\n    setReplyingMessage(message);\n    handleClose();\n  };\n  const handleOpenConfirmationModal = e => {\n    setConfirmationOpen(true);\n    handleClose();\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ConfirmationModal, {\n    title: i18n.t(\"messageOptionsMenu.confirmationModal.title\"),\n    open: confirmationOpen,\n    onClose: setConfirmationOpen,\n    onConfirm: handleDeleteMessage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }, i18n.t(\"messageOptionsMenu.confirmationModal.message\")), /*#__PURE__*/React.createElement(Menu, {\n    anchorEl: anchorEl,\n    getContentAnchorEl: null,\n    anchorOrigin: {\n      vertical: \"bottom\",\n      horizontal: \"right\"\n    },\n    transformOrigin: {\n      vertical: \"top\",\n      horizontal: \"right\"\n    },\n    open: menuOpen,\n    onClose: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, message.fromMe && /*#__PURE__*/React.createElement(MenuItem, {\n    onClick: handleOpenConfirmationModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, i18n.t(\"messageOptionsMenu.delete\")), /*#__PURE__*/React.createElement(MenuItem, {\n    onClick: hanldeReplyMessage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, i18n.t(\"messageOptionsMenu.reply\"))));\n};\nexport default MessageOptionsMenu;","map":{"version":3,"names":["React","useState","useContext","MenuItem","i18n","api","ConfirmationModal","Menu","ReplyMessageContext","toastError","MessageOptionsMenu","message","menuOpen","handleClose","anchorEl","setReplyingMessage","confirmationOpen","setConfirmationOpen","handleDeleteMessage","delete","id","err","hanldeReplyMessage","handleOpenConfirmationModal","e","createElement","Fragment","title","t","open","onClose","onConfirm","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","fromMe","onClick"],"sources":["/home/user/whaticket-free/frontend/src/components/MessageOptionsMenu/index.js"],"sourcesContent":["import React, { useState, useContext } from \"react\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport { Menu } from \"@material-ui/core\";\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport toastError from \"../../errors/toastError\";\n\nconst MessageOptionsMenu = ({ message, menuOpen, handleClose, anchorEl }) => {\n  const { setReplyingMessage } = useContext(ReplyMessageContext);\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\n\n  const handleDeleteMessage = async () => {\n    try {\n      await api.delete(`/messages/${message.id}`);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const hanldeReplyMessage = () => {\n    setReplyingMessage(message);\n    handleClose();\n  };\n\n  const handleOpenConfirmationModal = (e) => {\n    setConfirmationOpen(true);\n    handleClose();\n  };\n\n  return (\n    <>\n      <ConfirmationModal\n        title={i18n.t(\"messageOptionsMenu.confirmationModal.title\")}\n        open={confirmationOpen}\n        onClose={setConfirmationOpen}\n        onConfirm={handleDeleteMessage}\n      >\n        {i18n.t(\"messageOptionsMenu.confirmationModal.message\")}\n      </ConfirmationModal>\n      <Menu\n        anchorEl={anchorEl}\n        getContentAnchorEl={null}\n        anchorOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"right\",\n        }}\n        transformOrigin={{\n          vertical: \"top\",\n          horizontal: \"right\",\n        }}\n        open={menuOpen}\n        onClose={handleClose}\n      >\n        {message.fromMe && (\n          <MenuItem onClick={handleOpenConfirmationModal}>\n            {i18n.t(\"messageOptionsMenu.delete\")}\n          </MenuItem>\n        )}\n        <MenuItem onClick={hanldeReplyMessage}>\n          {i18n.t(\"messageOptionsMenu.reply\")}\n        </MenuItem>\n      </Menu>\n    </>\n  );\n};\n\nexport default MessageOptionsMenu;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,UAAU,QAAQ,OAAO;AAEnD,OAAOC,QAAQ,MAAM,4BAA4B;AAEjD,SAASC,IAAI,QAAQ,sBAAsB;AAC3C,OAAOC,GAAG,MAAM,oBAAoB;AACpC,OAAOC,iBAAiB,MAAM,sBAAsB;AACpD,SAASC,IAAI,QAAQ,mBAAmB;AACxC,SAASC,mBAAmB,QAAQ,sDAAsD;AAC1F,OAAOC,UAAU,MAAM,yBAAyB;AAEhD,MAAMC,kBAAkB,GAAGA,CAAC;EAAEC,OAAO;EAAEC,QAAQ;EAAEC,WAAW;EAAEC;AAAS,CAAC,KAAK;EAC3E,MAAM;IAAEC;EAAmB,CAAC,GAAGb,UAAU,CAACM,mBAAmB,CAAC;EAC9D,MAAM,CAACQ,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGhB,QAAQ,CAAC,KAAK,CAAC;EAE/D,MAAMiB,mBAAmB,GAAG,MAAAA,CAAA,KAAY;IACtC,IAAI;MACF,MAAMb,GAAG,CAACc,MAAM,CAAC,aAAaR,OAAO,CAACS,EAAE,EAAE,CAAC;IAC7C,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZZ,UAAU,CAACY,GAAG,CAAC;IACjB;EACF,CAAC;EAED,MAAMC,kBAAkB,GAAGA,CAAA,KAAM;IAC/BP,kBAAkB,CAACJ,OAAO,CAAC;IAC3BE,WAAW,CAAC,CAAC;EACf,CAAC;EAED,MAAMU,2BAA2B,GAAIC,CAAC,IAAK;IACzCP,mBAAmB,CAAC,IAAI,CAAC;IACzBJ,WAAW,CAAC,CAAC;EACf,CAAC;EAED,oBACEb,KAAA,CAAAyB,aAAA,CAAAzB,KAAA,CAAA0B,QAAA,qBACE1B,KAAA,CAAAyB,aAAA,CAACnB,iBAAiB;IAChBqB,KAAK,EAAEvB,IAAI,CAACwB,CAAC,CAAC,4CAA4C,CAAE;IAC5DC,IAAI,EAAEb,gBAAiB;IACvBc,OAAO,EAAEb,mBAAoB;IAC7Bc,SAAS,EAAEb,mBAAoB;IAAAc,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAE9BjC,IAAI,CAACwB,CAAC,CAAC,8CAA8C,CACrC,CAAC,eACpB5B,KAAA,CAAAyB,aAAA,CAAClB,IAAI;IACHO,QAAQ,EAAEA,QAAS;IACnBwB,kBAAkB,EAAE,IAAK;IACzBC,YAAY,EAAE;MACZC,QAAQ,EAAE,QAAQ;MAClBC,UAAU,EAAE;IACd,CAAE;IACFC,eAAe,EAAE;MACfF,QAAQ,EAAE,KAAK;MACfC,UAAU,EAAE;IACd,CAAE;IACFZ,IAAI,EAAEjB,QAAS;IACfkB,OAAO,EAAEjB,WAAY;IAAAmB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAEpB1B,OAAO,CAACgC,MAAM,iBACb3C,KAAA,CAAAyB,aAAA,CAACtB,QAAQ;IAACyC,OAAO,EAAErB,2BAA4B;IAAAS,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAC5CjC,IAAI,CAACwB,CAAC,CAAC,2BAA2B,CAC3B,CACX,eACD5B,KAAA,CAAAyB,aAAA,CAACtB,QAAQ;IAACyC,OAAO,EAAEtB,kBAAmB;IAAAU,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACnCjC,IAAI,CAACwB,CAAC,CAAC,0BAA0B,CAC1B,CACN,CACN,CAAC;AAEP,CAAC;AAED,eAAelB,kBAAkB","ignoreList":[]},"metadata":{},"sourceType":"module"}