{"ast":null,"code":"var _jsxFileName = \"/home/user/whaticket-free/frontend/src/components/VcardPreview/index.js\";\nimport React, { useEffect, useState, useContext } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Button, Divider } from \"@material-ui/core\";\nconst VcardPreview = ({\n  contact,\n  numbers\n}) => {\n  const history = useHistory();\n  const {\n    user\n  } = useContext(AuthContext);\n  const [selectedContact, setContact] = useState({\n    name: \"\",\n    number: 0,\n    profilePicUrl: \"\"\n  });\n  useEffect(() => {\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContacts = async () => {\n        try {\n          let contactObj = {\n            name: contact,\n            number: numbers.replace(/\\D/g, \"\"),\n            email: \"\"\n          };\n          const {\n            data\n          } = await api.post(\"/contact\", contactObj);\n          setContact(data);\n        } catch (err) {\n          console.log(err);\n          toastError(err);\n        }\n      };\n      fetchContacts();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [contact, numbers]);\n  const handleNewChat = async () => {\n    try {\n      const {\n        data: ticket\n      } = await api.post(\"/tickets\", {\n        contactId: selectedContact.id,\n        userId: user.id,\n        status: \"open\"\n      });\n      history.push(`/tickets/${ticket.id}`);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      minWidth: \"250px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    src: selectedContact.profilePicUrl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 9,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    style: {\n      marginTop: \"12px\",\n      marginLeft: \"10px\"\n    },\n    variant: \"subtitle1\",\n    color: \"primary\",\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, selectedContact.name)), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    fullWidth: true,\n    color: \"primary\",\n    onClick: handleNewChat,\n    disabled: !selectedContact.number,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, \"Conversar\")))));\n};\nexport default VcardPreview;","map":{"version":3,"names":["React","useEffect","useState","useContext","useHistory","toastError","api","Avatar","Typography","Grid","AuthContext","Button","Divider","VcardPreview","contact","numbers","history","user","selectedContact","setContact","name","number","profilePicUrl","delayDebounceFn","setTimeout","fetchContacts","contactObj","replace","email","data","post","err","console","log","clearTimeout","handleNewChat","ticket","contactId","id","userId","status","push","createElement","Fragment","style","minWidth","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","container","spacing","item","xs","src","marginTop","marginLeft","variant","color","gutterBottom","fullWidth","onClick","disabled"],"sources":["/home/user/whaticket-free/frontend/src/components/VcardPreview/index.js"],"sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\n\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Grid from \"@material-ui/core/Grid\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nimport { Button, Divider, } from \"@material-ui/core\";\n\nconst VcardPreview = ({ contact, numbers }) => {\n    const history = useHistory();\n    const { user } = useContext(AuthContext);\n\n    const [selectedContact, setContact] = useState({\n        name: \"\",\n        number: 0,\n        profilePicUrl: \"\"\n    });\n\n    useEffect(() => {\n        const delayDebounceFn = setTimeout(() => {\n            const fetchContacts = async() => {\n                try {\n                    let contactObj = {\n                        name: contact,\n                        number: numbers.replace(/\\D/g, \"\"),\n                        email: \"\"\n                    }\n                    const { data } = await api.post(\"/contact\", contactObj);\n                    setContact(data)\n\n                } catch (err) {\n                    console.log(err)\n                    toastError(err);\n                }\n            };\n            fetchContacts();\n        }, 500);\n        return () => clearTimeout(delayDebounceFn);\n    }, [contact, numbers]);\n\n    const handleNewChat = async() => {\n        try {\n            const { data: ticket } = await api.post(\"/tickets\", {\n                contactId: selectedContact.id,\n                userId: user.id,\n                status: \"open\",\n            });\n            history.push(`/tickets/${ticket.id}`);\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    return (\n\t\t<>\n\t\t\t<div style={{\n\t\t\t\tminWidth: \"250px\",\n\t\t\t}}>\n\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t<Grid item xs={2}>\n\t\t\t\t\t\t<Avatar src={selectedContact.profilePicUrl} />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={9}>\n\t\t\t\t\t\t<Typography style={{ marginTop: \"12px\", marginLeft: \"10px\" }} variant=\"subtitle1\" color=\"primary\" gutterBottom>\n\t\t\t\t\t\t\t{selectedContact.name}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tonClick={handleNewChat}\n\t\t\t\t\t\t\tdisabled={!selectedContact.number}\n\t\t\t\t\t\t>Conversar</Button>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t</>\n\t);\n\n};\n\nexport default VcardPreview;"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,EAAEC,UAAU,QAAQ,OAAO;AAC9D,SAASC,UAAU,QAAQ,kBAAkB;AAC7C,OAAOC,UAAU,MAAM,yBAAyB;AAChD,OAAOC,GAAG,MAAM,oBAAoB;AAEpC,OAAOC,MAAM,MAAM,0BAA0B;AAC7C,OAAOC,UAAU,MAAM,8BAA8B;AACrD,OAAOC,IAAI,MAAM,wBAAwB;AAEzC,SAASC,WAAW,QAAQ,gCAAgC;AAE5D,SAASC,MAAM,EAAEC,OAAO,QAAS,mBAAmB;AAEpD,MAAMC,YAAY,GAAGA,CAAC;EAAEC,OAAO;EAAEC;AAAQ,CAAC,KAAK;EAC3C,MAAMC,OAAO,GAAGZ,UAAU,CAAC,CAAC;EAC5B,MAAM;IAAEa;EAAK,CAAC,GAAGd,UAAU,CAACO,WAAW,CAAC;EAExC,MAAM,CAACQ,eAAe,EAAEC,UAAU,CAAC,GAAGjB,QAAQ,CAAC;IAC3CkB,IAAI,EAAE,EAAE;IACRC,MAAM,EAAE,CAAC;IACTC,aAAa,EAAE;EACnB,CAAC,CAAC;EAEFrB,SAAS,CAAC,MAAM;IACZ,MAAMsB,eAAe,GAAGC,UAAU,CAAC,MAAM;MACrC,MAAMC,aAAa,GAAG,MAAAA,CAAA,KAAW;QAC7B,IAAI;UACA,IAAIC,UAAU,GAAG;YACbN,IAAI,EAAEN,OAAO;YACbO,MAAM,EAAEN,OAAO,CAACY,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;YAClCC,KAAK,EAAE;UACX,CAAC;UACD,MAAM;YAAEC;UAAK,CAAC,GAAG,MAAMvB,GAAG,CAACwB,IAAI,CAAC,UAAU,EAAEJ,UAAU,CAAC;UACvDP,UAAU,CAACU,IAAI,CAAC;QAEpB,CAAC,CAAC,OAAOE,GAAG,EAAE;UACVC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;UAChB1B,UAAU,CAAC0B,GAAG,CAAC;QACnB;MACJ,CAAC;MACDN,aAAa,CAAC,CAAC;IACnB,CAAC,EAAE,GAAG,CAAC;IACP,OAAO,MAAMS,YAAY,CAACX,eAAe,CAAC;EAC9C,CAAC,EAAE,CAACT,OAAO,EAAEC,OAAO,CAAC,CAAC;EAEtB,MAAMoB,aAAa,GAAG,MAAAA,CAAA,KAAW;IAC7B,IAAI;MACA,MAAM;QAAEN,IAAI,EAAEO;MAAO,CAAC,GAAG,MAAM9B,GAAG,CAACwB,IAAI,CAAC,UAAU,EAAE;QAChDO,SAAS,EAAEnB,eAAe,CAACoB,EAAE;QAC7BC,MAAM,EAAEtB,IAAI,CAACqB,EAAE;QACfE,MAAM,EAAE;MACZ,CAAC,CAAC;MACFxB,OAAO,CAACyB,IAAI,CAAC,YAAYL,MAAM,CAACE,EAAE,EAAE,CAAC;IACzC,CAAC,CAAC,OAAOP,GAAG,EAAE;MACV1B,UAAU,CAAC0B,GAAG,CAAC;IACnB;EACJ,CAAC;EAED,oBACF/B,KAAA,CAAA0C,aAAA,CAAA1C,KAAA,CAAA2C,QAAA,qBACC3C,KAAA,CAAA0C,aAAA;IAAKE,KAAK,EAAE;MACXC,QAAQ,EAAE;IACX,CAAE;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACDnD,KAAA,CAAA0C,aAAA,CAACjC,IAAI;IAAC2C,SAAS;IAACC,OAAO,EAAE,CAAE;IAAAP,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC1BnD,KAAA,CAAA0C,aAAA,CAACjC,IAAI;IAAC6C,IAAI;IAACC,EAAE,EAAE,CAAE;IAAAT,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAChBnD,KAAA,CAAA0C,aAAA,CAACnC,MAAM;IAACiD,GAAG,EAAEtC,eAAe,CAACI,aAAc;IAAAwB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CACxC,CAAC,eACPnD,KAAA,CAAA0C,aAAA,CAACjC,IAAI;IAAC6C,IAAI;IAACC,EAAE,EAAE,CAAE;IAAAT,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAChBnD,KAAA,CAAA0C,aAAA,CAAClC,UAAU;IAACoC,KAAK,EAAE;MAAEa,SAAS,EAAE,MAAM;MAAEC,UAAU,EAAE;IAAO,CAAE;IAACC,OAAO,EAAC,WAAW;IAACC,KAAK,EAAC,SAAS;IAACC,YAAY;IAAAf,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAC5GjC,eAAe,CAACE,IACN,CACP,CAAC,eACPpB,KAAA,CAAA0C,aAAA,CAACjC,IAAI;IAAC6C,IAAI;IAACC,EAAE,EAAE,EAAG;IAAAT,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACjBnD,KAAA,CAAA0C,aAAA,CAAC9B,OAAO;IAAAkC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eACXnD,KAAA,CAAA0C,aAAA,CAAC/B,MAAM;IACNmD,SAAS;IACTF,KAAK,EAAC,SAAS;IACfG,OAAO,EAAE5B,aAAc;IACvB6B,QAAQ,EAAE,CAAC9C,eAAe,CAACG,MAAO;IAAAyB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAClC,WAAiB,CACb,CACD,CACF,CACJ,CAAC;AAGL,CAAC;AAED,eAAetC,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module"}