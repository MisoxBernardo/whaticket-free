{"version":3,"sources":["assets/sound.mp3","assets/fenixlogo.png","assets/wa-background.png","config.js","services/socket-io.js","translate/languages/pt.js","translate/languages/index.js","translate/languages/en.js","translate/languages/es.js","translate/i18n.js","services/api.js","errors/toastError.js","hooks/useAuth.js/index.js","context/Auth/AuthContext.js","hooks/useWhatsApps/index.js","context/WhatsApp/WhatsAppsContext.js","rules.js","components/Can/index.js","layout/MainListItems.js","components/ButtonWithSpinner/index.js","components/MarkdownWrapper/index.js","components/TicketListItem/index.js","hooks/useTickets/index.js","components/NotificationsPopOver/index.js","components/QueueSelect/index.js","components/UserModal/index.js","components/BackdropLoading/index.js","layout/index.js","components/MainContainer/index.js","components/MainHeader/index.js","components/MainHeaderButtonsWrapper/index.js","components/Title/index.js","components/TableRowSkeleton/index.js","components/WhatsAppModal/index.js","components/ConfirmationModal/index.js","components/QrcodeModal/index.js","pages/Connections/index.js","components/ContactModal/index.js","pages/Contacts/index.js","pages/Dashboard/Title.js","pages/Dashboard/Chart.js","pages/Dashboard/index.js","pages/Login/index.js","components/ColorPicker/index.js","components/ToolTips/index.js","components/ChatBots/options.js","components/QueueModal/index.js","pages/Queues/index.js","components/QuickAnswersModal/index.js","pages/QuickAnswers/index.js","components/ScheduleModal/index.js","pages/Schedules/index.js","components/LinearBuffer/index.js","components/PreviewMessage/index.js","components/SelectConection/index.js","pages/SendMassMessage/index.js","pages/SettingMessage/index.js","pages/Settings/index.js","pages/ShippingReport/index.js","pages/Signup/index.js","components/TagModal/index.js","pages/Tags/index.js","components/TagsFilter/index.js","components/NewTicketModal/index.js","components/TicketsListSkeleton/index.js","components/TicketsList/index.js","components/TabPanel/index.js","components/TicketsQueueSelect/index.js","components/TicketsManager/index.js","components/TagsContainer/index.js","components/ContactDrawerSkeleton/index.js","components/ContactDrawer/index.js","components/MessageInput/RecordingTimer.js","context/ReplyingMessage/ReplyingMessageContext.js","components/MessageInput/index.js","hooks/useLocalStorage/index.js","components/TicketHeaderSkeleton/index.js","components/TicketHeader/index.js","components/TicketInfo/index.js","hooks/useQueues/index.js","components/TransferTicketModal/index.js","components/TicketOptionsMenu/index.js","components/TicketActionButtons/index.js","components/VcardPreview/index.js","components/LocationPreview/index.js","components/ModalImageCors/index.js","components/MessageOptionsMenu/index.js","components/MessagesList/index.js","components/Ticket/index.js","pages/Tickets/index.js","pages/Users/index.js","routes/Route.js","routes/index.js","App.js","index.js"],"names":["module","exports","getConfig","name","defaultValue","arguments","length","undefined","window","ENV","process","getBackendUrl","connectToSocket","token","localStorage","getItem","openSocket","query","JSON","parse","messages","pt","translations","signup","title","toasts","success","fail","form","email","password","buttons","submit","login","register","auth","dashboard","charts","perDay","inAttendance","waiting","closed","connections","deleted","confirmationModal","deleteTitle","deleteMessage","disconnectTitle","disconnectMessage","add","disconnect","tryAgain","qrcode","newQr","connecting","toolTips","disconnected","content","connected","timeout","table","status","lastUpdate","default","actions","session","whatsappModal","edit","farewellMessage","isMultidevice","transferTicketMessage","reopenLastTicket","minutes","newticketafter","titlenewticketafter","okAdd","okEdit","cancel","qrCode","message","contacts","searchPlaceholder","importTitlte","importMessage","import","whatsapp","contactModal","mainInfo","extraInfo","number","extraName","extraValue","addExtraInfo","quickAnswersModal","shortcut","queueModal","color","greetingMessage","transferQueueMessage","outOfWorkMessage","startWorkHour","endWorkHour","monday","tuesday","wednesday","thursday","friday","saturday","sunday","holiday","checkHourExpedient","userModal","profile","tagModal","chat","noTicketMessage","ticketsManager","newTicket","ticketsQueueSelect","placeholder","tickets","notification","tabs","open","search","showAll","transferTicketModal","fieldLabel","fieldQueueLabel","fieldConnectionLabel","fieldQueuePlaceholder","fieldConnectionPlaceholder","noOptions","ok","ticketsList","pendingHeader","assignedHeader","noTicketsTitle","noTicketsMessage","connectionTitle","accept","newTicketModal","mainDrawer","listItems","quickAnswers","queues","schedules","tags","administration","users","settings","appBar","user","logout","notifications","noTickets","contact","body","sendAt","sentAt","scheduleModal","greeting","queueSelect","inputLabel","userCreation","options","enabled","disabled","timeCreateNewTicket","note","call","CheckMsgIsGroup","messagesList","header","assignedTo","return","resolve","reopen","messagesInput","placeholderOpen","placeholderClosed","signMessage","contactDrawer","ticketOptionsMenu","delete","transfer","confirm","messageOptionsMenu","reply","backendErrors","ERR_TAG_NAME_ALREADY_EXISTS","ERR_NO_OTHER_WHATSAPP","ERR_NO_DEF_WAPP_FOUND","ERR_WAPP_NOT_INITIALIZED","ERR_WAPP_CHECK_CONTACT","ERR_WAPP_INVALID_CONTACT","ERR_WAPP_DOWNLOAD_MEDIA","ERR_INVALID_CREDENTIALS","ERR_SENDING_WAPP_MSG","ERR_DELETE_WAPP_MSG","ERR_OTHER_OPEN_TICKET","ERR_SESSION_EXPIRED","ERR_USER_CREATION_DISABLED","ERR_NO_PERMISSION","ERR_DUPLICATED_CONTACT","ERR_NO_SETTING_FOUND","ERR_NO_CONTACT_FOUND","ERR_NO_TICKET_FOUND","ERR_NO_USER_FOUND","ERR_NO_WAPP_FOUND","ERR_CREATING_MESSAGE","ERR_CREATING_TICKET","ERR_FETCH_WAPP_MSG","ERR_QUEUE_COLOR_ALREADY_EXISTS","ERR_WAPP_GREETING_REQUIRED","en","titleFrom","es","i18n","use","LanguageDetector","init","debug","defaultNS","fallbackLng","ns","resources","api","axios","create","baseURL","withCredentials","toastError","err","_err$response","_err$response$data","errorMsg","response","data","error","exists","concat","toast","t","toastId","useAuth","history","useHistory","isAuth","setIsAuth","useState","loading","setLoading","setUser","interceptors","request","config","headers","Promise","reject","async","_error$response","_error$response2","originalRequest","_retry","post","setItem","stringify","defaults","Authorization","removeItem","useEffect","socket","on","action","id","handleLogin","userData","push","handleLogout","AuthContext","createContext","AuthProvider","_ref","children","React","createElement","Provider","value","reducer","state","type","payload","whatsApp","whatsAppIndex","findIndex","s","updatedAt","retries","whatsAppId","splice","useWhatsApps","whatsApps","dispatch","useReducer","get","fetchSession","whatsappId","WhatsAppsContext","WhatsAppsProvider","rules","static","admin","Can","role","perform","yes","no","check","permissions","staticPermissions","includes","dynamicPermissions","dynamic","permissionCondition","ListItemLink","props","icon","primary","to","className","renderLink","useMemo","forwardRef","itemProps","ref","RouterLink","Object","assign","ListItem","button","component","ListItemIcon","ListItemText","defaultProps","MainListItems","drawerClose","useContext","connectionWarning","setConnectionWarning","delayDebounceFn","setTimeout","filter","whats","clearTimeout","onClick","DashboardOutlinedIcon","Badge","overlap","badgeContent","SyncAltIcon","WhatsAppIcon","ContactPhoneOutlinedIcon","QuestionAnswerOutlinedIcon","Fragment","Divider","ListSubheader","inset","PeopleAltOutlinedIcon","AccountTreeOutlinedIcon","EventIcon","LocalOfferIcon","ChatBubbleOutlineOutlined","AddCircleOutline","LibraryBooks","SettingsOutlinedIcon","useStyles","makeStyles","theme","position","buttonProgress","green","top","left","marginTop","marginLeft","ButtonWithSpinner","rest","classes","Button","CircularProgress","size","elements","allowedElements","CustomLink","target","rel","MarkdownWrapper","_ref2","boldRegex","tildaRegex","test","replace","markdownOptions","disableParsingRawHTML","forceInline","overrides","a","forEach","element","el","Markdown","ticket","pendingTicket","cursor","noTicketsDiv","display","height","margin","flexDirection","alignItems","justifyContent","noTicketsText","textAlign","fontSize","lineHeight","fontWeight","contactNameWrapper","lastMessageTime","justifySelf","closedBadge","alignSelf","marginRight","contactLastMessage","paddingRight","newMessagesCount","badgeStyle","backgroundColor","acceptButton","ticketQueueColor","flex","width","userTag","right","bottom","background","border","padding","paddingLeft","borderRadius","TicketListItem","_ticket$queue","_ticket$queue2","_ticket$contact","_ticket$whatsapp","ticketId","useParams","isMounted","useRef","current","key","dense","e","selected","clsx","Tooltip","arrow","placement","queue","style","ListItemAvatar","Avatar","src","profilePicUrl","disableTypography","Typography","noWrap","variant","lastMessage","isSameDay","parseISO","Date","format","channel","secondary","unreadMessages","badge","put","userId","handleAcepptTicket","useTickets","searchParam","pageNumber","date","queueIds","withUnreadMessages","hasMore","setHasMore","setTickets","count","setCount","closeTicket","params","horasFecharAutomaticamente","Number","dataLimite","setHours","getHours","fetchTickets","tabContainer","overflowY","maxHeight","scrollbarStyles","popoverPaper","maxWidth","spacing","breakpoints","down","noShadow","boxShadow","NotificationsPopOver","ticketIdUrl","location","pathname","split","ticketIdRef","anchorEl","isOpen","setIsOpen","setNotifications","setDesktopNotifications","play","useSound","alertSound","soundAlertRef","historyRef","Notification","requestPermission","console","log","emit","prevState","ticketIndex","notfiticationIndex","n","tag","String","close","read","document","visibilityState","isGroup","handleNotifications","renotify","onclick","preventDefault","focus","handleClickAway","NotificationTicket","IconButton","handleClick","aria-label","ChatIcon","Popover","disableScrollLock","anchorOrigin","vertical","horizontal","transformOrigin","paper","onClose","List","map","chips","flexWrap","chip","QueueSelect","selectedQueueIds","onChange","setQueues","FormControl","fullWidth","InputLabel","Select","multiple","labelWidth","MenuProps","getContentAnchorEl","renderValue","find","q","Chip","label","MenuItem","root","multFieldLine","btnWrapper","formControl","minWidth","UserSchema","Yup","shape","min","max","required","UserModal","initialState","loggedInUser","setSelectedQueueIds","showPassword","setShowPassword","setWhatsappId","_data$queues","userQueueIds","fetchUser","handleClose","Dialog","scroll","DialogTitle","Formik","initialValues","enableReinitialize","validationSchema","onSubmit","values","handleSaveUser","setSubmitting","touched","errors","isSubmitting","Form","DialogContent","dividers","Field","as","TextField","autoFocus","Boolean","helperText","InputProps","endAdornment","InputAdornment","VisibilityOff","Visibility","labelId","DialogActions","backdrop","zIndex","drawer","BackdropLoading","Backdrop","toolbar","toolbarIcon","minHeight","transition","transitions","easing","sharp","duration","leavingScreen","appBarShift","enteringScreen","menuButton","menuButtonHidden","flexGrow","drawerPaper","whiteSpace","drawerPaperClose","overflowX","up","appBarSpacer","overflow","container","paddingTop","paddingBottom","LoggedInLayout","userModalOpen","setUserModalOpen","setAnchorEl","menuOpen","setMenuOpen","drawerOpen","setDrawerOpen","drawerVariant","setDrawerVariant","offsetWidth","handleCloseMenu","Drawer","ChevronLeftIcon","AppBar","Toolbar","edge","MenuIcon","aria-controls","aria-haspopup","event","currentTarget","AccountCircle","Menu","handleOpenUserModal","handleClickLogout","mainContainer","contentWrapper","MainContainer","Container","contactsHeader","MainHeader","MainHeaderButtonsWrapper","Title","gutterBottom","customTableCell","TableRowSkeleton","avatar","columns","TableRow","TableCell","Skeleton","animation","Array","from","_","index","align","expediente","tituloReceberMsg","marginBottom","reabrirTicket","textSize","paperReceberMsg","diasSemana","hora","textoExpediente","SessionSchema","memo","isDefault","setWhatsApp","defineWorkHours","SetDefineWorkHours","setOutOfWorkMessage","setStartWorkHour","setEndWorkHour","startWorkHourWeekend","setStartWorkHourWeekend","endWorkHourWeekend","setEndWorkHourWeekend","seg","setSeg","ter","setTer","quar","setQuar","quin","setQuin","sex","setSex","sab","setSab","dom","setDom","whatsQueueIds","handleChange","checked","whatsappData","handleSaveWhatsApp","textField","FormControlLabel","control","Switch","multiline","rows","Grid","item","xs","sm","FormGroup","row","sx","md","lg","xl","Checkbox","labelPlacement","Paper","selectedIds","ConfirmationModal","onConfirm","aria-labelledby","setQrCode","elevation","QRCode","mainPaper","tooltip","typography","pxToRem","tooltipPopper","CustomToolTip","popper","Connections","whatsAppModalOpen","setWhatsAppModalOpen","qrModalOpen","setQrModalOpen","selectedWhatsApp","setSelectedWhatsApp","confirmModalOpen","setConfirmModalOpen","confirmationModalInitialState","confirmModalInfo","setConfirmModalInfo","handleCloseWhatsAppModal","useCallback","handleCloseQrModal","handleOpenConfirmationModal","renderActionButtons","handleOpenQrModal","handleStartWhatsAppSession","handleRequestNewQrCode","QrcodeModal","WhatsAppModal","handleOpenWhatsAppModal","Table","TableHead","TableBody","SignalCellularConnectedNoInternet0Bar","CropFree","SignalCellular4Bar","SignalCellularConnectedNoInternet2Bar","renderStatusToolTips","CheckCircle","handleEditWhatsApp","Edit","DeleteOutline","extraAttr","ContactSchema","ContactModal","contactId","onSave","setContact","fetchContact","handleSaveContact","FieldArray","_ref3","remove","info","DeleteOutlineIcon","newContacts","contactIndex","c","Contacts","setPageNumber","setSearchParam","selectedContactId","setSelectedContactId","contactModalOpen","setContactModalOpen","deletingContact","setDeletingContact","confirmOpen","setConfirmOpen","fetchContacts","handleCloseContactModal","handleDeleteContact","go","handleimportContact","toLowerCase","startAdornment","SearchIcon","handleOpenContactModal","onScroll","scrollTop","scrollHeight","clientHeight","handleSaveTicket","hadleEditContact","EditIcon","Chart","useTheme","toISOString","chartData","setChartData","time","amount","aux","startOfHour","createdAt","ResponsiveContainer","BarChart","barSize","CartesianGrid","strokeDasharray","XAxis","dataKey","stroke","palette","text","YAxis","allowDecimals","Label","angle","textAnchor","fill","Bar","main","fixedHeightPaper","customFixedHeightPaper","customFixedHeightPaperLg","Dashboard","GetTickets","paragraph","backgroundImage","avatarImg","backgroundSize","backgroundPosition","backgroundRepeat","Login","handleChangeInput","CssBaseline","noValidate","autoComplete","Link","href","Box","mt","ColorPicker","currentColor","selectedColor","setSelectedColor","paperFullWidth","GithubPicker","triangle","colors","hex","onChangeComplete","ToolTip","QueueSchema","of","VerticalLinearStepper","activeStep","setActiveStep","steps","setSteps","isStepContent","setIsStepContent","isNameEdit","setIsNamedEdit","isGreetingMessageEdit","setGreetingMessageEdit","selectedQueue","setSelectedQueue","handleSaveBot","chatBotId","fetchList","handleCloseConfirmationModal","queueId","handleDeleteQueue","validateOnChange","render","handleSubmit","Stepper","nonLinear","orientation","_steps$options$index","_touched$options","_touched$options$inde","_errors$options","_errors$options$index","_steps$options$index2","step","Step","StepLabel","isAgent","SaveIcon","StepContent","HelpOutlineOutlinedIcon","colorAdorment","custom","chatbots","QueueModal","onEdit","colorPickerModalOpen","setColorPickerModalOpen","setQueue","greetingRef","optionsId","handleSaveQueue","onFocus","Colorize","inputRef","minRows","_queue$chatbots$index","_touched$chatbots","_touched$chatbots$ind","_errors$chatbots","_errors$chatbots$inde","_queue$chatbots$index2","OptionsChatBot","newQueues","queueIndex","u","Queues","queueModalOpen","setQueueModalOpen","handleEditQueue","handleCloseQueueModal","res","handleOpenQueueModal","textQuickAnswerContainer","QuickAnswerSchema","QuickAnswersModal","quickAnswerId","quickAnswer","setQuickAnswer","fetchQuickAnswer","handleSaveQuickAnswer","newQuickAnswers","quickAnswerIndex","QuickAnswers","selectedQuickAnswers","setSelectedQuickAnswers","quickAnswersModalOpen","setQuickAnswersModalOpen","deletingQuickAnswers","setDeletingQuickAnswers","fetchQuickAnswers","handleDeleteQuickAnswers","handleCloseQuickAnswersModal","handleOpenQuickAnswersModal","handleEditQuickAnswers","ScheduleSchema","ScheduleModal","scheduleId","cleanContact","reload","setContactId","moment","initialContact","schedule","setSchedule","currentContact","setCurrentContact","setContacts","contactList","customList","isArray","capitalize","scheduleData","handleSaveSchedule","Autocomplete","getOptionLabel","option","getOptionSelected","renderInput","InputLabelProps","shrink","newSchedules","scheduleIndex","Schedules","selectedSchedule","setSelectedSchedule","deletingSchedule","setDeletingSchedule","scheduleModalOpen","setScheduleModalOpen","param","URLSearchParams","fetchSchedules","handleOpenScheduleModalFromContactId","handleOpenScheduleModal","handleDeleteSchedule","handleCloseScheduleModal","str","len","substring","handleEditSchedule","truncate","LinearDeterminate","progressMessage","progress","setProgress","LinearProgress","SpacingGrid","phone","conectionNotDefault","conection","renderSelect","csv","model","RenderForm","handlePreview","SelectConection","LinearBuffer","setProgressMessage","startSendMessage","setMessage","formatNumber","startsWith","csvHeader","slice","indexOf","array","i","reduce","object","rawMsg","listMessage","match","getValueObject","PreviewMessage","withoutLabel","ConfigMessage","setValues","setState","photo","random","limit","seconds","then","catch","prop","handleChangeChecked","FormLabel","htmlFor","Input","handleSaveSettings","settingOption","Settings","setSettings","settingIndex","setting","handleChangeSetting","selectedValue","settingKey","getSettingValue","native","readonly","massMessageId","scheduleRecord","_quickAnswer$whatsapp","_quickAnswer$whatsapp2","SignUp","LockOutlined","handleSignUp","TagSchema","TagModal","tagId","setTag","tagData","handleSaveTag","prev","ColorBox","disableAlpha","hslGradient","val","newTags","tagIndex","Tags","selectedTag","setSelectedTag","deletingTag","setDeletingTag","tagModalOpen","setTagModalOpen","fetchTags","handleDeleteTag","handleCloseTagModal","handleOpenTagModal","textShadow","ticketsCount","handleEditTag","TagsFilter","onFiltered","setTags","selecteds","setSelecteds","loadTags","fetchData","v","r","renderTags","getTagProps","createFilterOptions","trim","NewTicketModal","modalOpen","setOptions","selectedContact","setSelectedContact","newContact","setNewContact","clearOnBlur","autoHighlight","freeSolo","clearOnEscape","renderOption","filterOptions","createAddContactOption","filtered","inputValue","newValue","handleSelectOption","onKeyPress","TicketsSkeleton","ticketsListWrapper","borderTopRightRadius","borderBottomRightRadius","borderTop","ticketsListHeader","borderBottom","unshift","TicketsList","updateCount","filteredTickets","shouldUpdateTicket","square","TicketsListSkeleton","TabPanel","TicketsQueueSelect","userQueues","displayEmpty","ticketsWrapper","tabsHeader","settingsIcon","tab","ticketOptionsBox","serachInputWrapper","searchIcon","searchInput","show","hide","TicketsManager","setTab","tabOpen","setTabOpen","newTicketModalOpen","setNewTicketModalOpen","showAllTickets","setShowAllTickets","searchInputRef","openCount","setOpenCount","pendingCount","setPendingCount","selectedTags","setSelectedTags","searchTimeout","toUpperCase","applyPanelStyle","Tabs","handleChangeTab","indicatorColor","textColor","Tab","MoveToInboxIcon","CheckBoxIcon","InputBase","searchedTerm","handleChangeTabOpen","TagsContainer","createTag","responseData","reason","optionsChanged","isString","newTag","syncTags","PaperComponent","ContactDrawerSkeleton","contactHeader","contactAvatar","contactDetails","contactExtraInfo","flexShrink","borderRight","ContactDrawer","_contact$extraInfo","handleDrawerClose","setModalOpen","anchor","PaperProps","BackdropProps","ModalProps","getElementById","CloseIcon","alt","timerBox","RecordingTimer","timer","setTimer","interval","setInterval","clearInterval","addZero","ReplyMessageContext","ReplyMessageProvider","replyingMessage","setReplyingMessage","Mp3Recorder","MicRecorder","bitRate","mainWrapper","newMessageBox","messageInputWrapper","messageInput","sendMessageIcons","uploadInput","viewMediaInputWrapper","emojiBox","circleLoading","opacity","audioLoading","recorderWrapper","alignContent","cancelAudioIcon","sendAudioIcon","replyginMsgWrapper","replyginMsgContainer","replyginMsgBody","replyginContactMsgSideColor","replyginSelfMsgSideColor","messageContactName","messageQuickAnswersWrapper","listStyle","textOverflow","MessageInput","_medias$","ticketStatus","medias","setMedias","inputMessage","setInputMessage","showEmoji","setShowEmoji","recording","setRecording","typeBar","setTypeBar","setSignMessage","initialValue","storedValue","setStoredValue","valueToStore","Function","useLocalStorage","handleLoadQuickAnswer","handleAddEmoji","emoji","handleChangeMedias","files","selectedMedias","handleSendMessage","fromMe","mediaUrl","quotedMsg","handleStartRecording","navigator","mediaDevices","getUserMedia","audio","start","handleUploadAudio","blob","stop","getMp3","formData","FormData","filename","getTime","append","handleCancelAudio","handleOpenMenuClick","handleMenuItemClick","CancelIcon","media","SendIcon","_message$contact","ClearIcon","renderReplyingMessage","Hidden","only","MoodIcon","ClickAwayListener","onClickAway","Picker","perLine","showPreview","showSkinTones","onSelect","AttachFileIcon","MoreVert","keepMounted","input","maxRows","onPaste","clipboardData","handleInputPaste","shiftKey","messageQuickAnswersWrapperItem","handleQuickAnswersClick","HighlightOffIcon","CheckCircleOutlineIcon","MicIcon","ticketHeader","TicketHeaderSkeleton","Card","CardHeader","titleTypographyProps","subheaderTypographyProps","subheader","TicketHeader","handleBack","ArrowBackIos","TicketInfo","useQueues","findAll","TransferTicketModal","ticketid","ticketWhatsappId","allQueues","setAllQueues","selectedUser","setSelectedUser","selectedWhatsapp","setSelectedWhatsapp","findAllQueues","loadingWhatsapps","list","loadQueues","fetchUsers","noOptionsText","whasapp","TicketOptionsMenu","confirmationOpen","setConfirmationOpen","transferTicketModalOpen","setTransferTicketModalOpen","handleCloseTransferTicketModal","actionButtons","TicketActionButtons","ticketOptionsMenuOpen","handleUpdateTicketStatus","startIcon","Replay","VcardPreview","numbers","contactObj","LocationPreview","image","link","description","handleLocation","float","dangerouslySetInnerHTML","__html","clear","messageMedia","objectFit","borderTopLeftRadius","borderBottomLeftRadius","ModalImageCors","imageUrl","fetching","setFetching","blobUrl","setBlobUrl","responseType","url","URL","createObjectURL","Blob","fetchImage","ModalImage","smallSrcSet","medium","large","MessageOptionsMenu","hanldeReplyMessage","messagesListWrapper","messageCenter","verticalAlign","whatsBackground","messageLeft","quotedContainerLeft","quotedSideColorLeft","messageRight","quotedContainerRight","quotedMsgRight","quotedSideColorRight","messageActionsButton","textContentItem","overflowWrap","textContentItemDeleted","fontStyle","timestamp","dailyTimestamp","dailyTimestampText","ackIcons","deletedIcon","ackDoneAllIcon","downloadMedia","newMessages","messageIndex","m","newMessage","messageToUpdate","MessagesList","lastMessageRef","selectedMessage","setSelectedMessage","messageOptionsMenuOpen","currentTicketId","scrollToBottom","fetchMessages","scrollIntoView","handleOpenMessageOptionsMenu","checkMessageMedia","mediaType","obj","ind","controls","GetApp","locationParts","imageLocation","linkLocation","descriptionLocation","_message$body","renderDailyTimestamps","messageDay","previousMessageDay","renderMessageDivider","renderNumberTicket","messageTicket","ticketNunber","renderQuotedMessage","_message$quotedMsg","_message$quotedMsg2","_message$quotedMsg3","_message$quotedMsg3$c","_message$quotedMsg4","prevPageNumber","renderMessages","_message$contact2","isDeleted","ExpandMore","xmlns","viewBox","d","Block","ack","AccessTime","Done","DoneAll","renderMessageAck","ticketInfo","flexBasis","ticketActionButtons","borderLeft","mainWrapperShift","easeOut","Ticket","setTicket","fetchTicket","_data$contact","handleDrawerOpen","chatContainer","chatPapper","contactsWrapper","contactsWrapperSmall","messagessWrapper","welcomeMsg","ticketsManagerClosed","Chat","newUsers","userIndex","Users","deletingUser","setDeletingUser","handleDeleteUser","handleCloseUserModal","_user$whatsapp","handleEditUser","Route","Component","isPrivate","Redirect","RouterRoute","Routes","BrowserRouter","exact","path","Signup","Tickets","SendMassMessage","ShippingReport","SettingMessage","ToastContainer","autoClose","App","locale","setLocale","createTheme","i18nlocale","ptBR","ThemeProvider","ReactDOM"],"mappings":"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KACA,KACA,KACA,OACA,SACA,SACA,KACA,OACA,IACA,SACA,MACA,QACA,MACA,MACA,SACA,QACA,SACA,KACA,OACA,OACA,MACA,OACA,UACA,OACA,WACA,OACA,QACA,MACA,WACA,SACA,KACA,WACA,SACA,SACA,IACA,QACA,UACA,MACA,WACA,IACA,KACA,KACA,OACA,IACA,OACA,SACA,UACA,SACA,QACA,SACA,OACA,SACA,QACA,MACA,UACA,MACA,QACA,QACA,KACA,WACA,QACA,KACA,QACA,OACA,QACA,KACA,QACA,IACA,KACA,MACA,QACA,MAGA,SACA,WACA,OACA,UACA,gBACA,IACA,QACA,OACA,iBACA,SACA,OACA,OACA,UACA,UACA,WACA,iBACA,OACA,OACA,MACA,OACA,SAGKC,GAAkB,CAAC,IAAK,IAAK,SAAU,KAAM,IAAK,OAAQ,OAE1DC,GAAa/G,IAAA,IAAC,SAAEC,KAAa0C,GAAO3C,EAAA,OACzCE,IAAAC,cAAA,IAAAmD,OAAAC,OAAA,GAAOZ,EAAK,CAAEqE,OAAO,SAASC,IAAI,wBAChChH,IA6CYiH,OAzCSC,IAAmB,IAAlB,SAAElH,GAAUkH,EACpC,MAAMC,EAAY,aACZC,EAAa,WAEhBpH,GAAYA,EAASqC,SAAS,iBAEhCrC,EAAW,MAETA,GAAYA,EAASqC,SAAS,iBAChCrC,EAAW,MAERA,GAAYmH,EAAUE,KAAKrH,KAC9BA,EAAWA,EAASsH,QAAQH,EAAW,WAEpCnH,GAAYoH,EAAWC,KAAKrH,KAC/BA,EAAWA,EAASsH,QAAQF,EAAY,WAGzC,MAAM3O,EAAUwH,IAAM+C,QAAQ,KAC7B,MAAMuE,EAAkB,CACvBC,uBAAuB,EACvBC,aAAa,EACbC,UAAW,CACVC,EAAG,CAAElE,UAAWqD,MAUlB,OANAF,GAASgB,QAAQC,IACXhB,GAAgBxE,SAASwF,KAC7BN,EAAgBG,UAAUG,GAAWC,GAAMA,EAAG9H,UAAY,QAIrDuH,GACL,IAEH,OAAKvH,EAEEC,IAAAC,cAAC6H,KAAQ,CAACtP,QAASA,GAAUuH,GAFd,M,UClKvB,MAAM4F,GAAYC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","file":"static/js/main.e76efe80.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/sound.9fd5812c.mp3\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/wa-background.adbccee0.png\";","function getConfig(name, defaultValue=null) {\n    // If inside a docker container, use window.ENV\n    if( window.ENV !== undefined ) {\n        return window.ENV[name] || defaultValue;\n    }\n\n    return process.env[name] || defaultValue;\n}\n\nexport function getBackendUrl() {\n    return getConfig('REACT_APP_BACKEND_URL');\n}\n\nexport function getHoursCloseTicketsAuto() {\n    return getConfig('REACT_APP_HOURS_CLOSE_TICKETS_AUTO');\n}","import openSocket from \"socket.io-client\";\nimport { getBackendUrl } from \"../config\";\nfunction connectToSocket() {\n  const token = localStorage.getItem(\"token\");\n  const socket = openSocket(getBackendUrl(), {\n    query: {\n      token: JSON.parse(token),\n    },\n  });\n\n  return socket;\n}\n\nexport default connectToSocket;\n","const messages = {\n  pt: {\n    translations: {\n      signup: {\n        title: \"Cadastre-se\",\n        toasts: {\n          success: \"Usurio criado com sucesso! Faa seu login!!!.\",\n          fail: \"Erro ao criar usurio. Verifique os dados informados.\",\n        },\n        form: {\n          name: \"Nome\",\n          email: \"Email\",\n          password: \"Senha\",\n        },\n        buttons: {\n          submit: \"Cadastrar\",\n          login: \"J tem uma conta? Entre!\",\n        },\n      },\n      login: {\n        title: \"Login\",\n        form: {\n          email: \"Email\",\n          password: \"Senha\",\n        },\n        buttons: {\n          submit: \"Entrar\",\n          register: \"No tem um conta? Cadastre-se!\",\n        },\n      },\n      auth: {\n        toasts: {\n          success: \"Login efetuado com sucesso!\",\n        },\n      },\n      dashboard: {\n        charts: {\n          perDay: {\n            title: \"Tickets hoje: \",\n          },\n        },\n        messages: {\n          inAttendance: {\n            title: \"Em Atendimento\"\n          },\n          waiting: {\n            title: \"Aguardando\"\n          },\n          closed: {\n            title: \"Finalizado\"\n          }\n        }\n      },\n      connections: {\n        title: \"Conexes\",\n        toasts: {\n          deleted: \"Conexo com o WhatsApp excluda com sucesso!\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Deletar\",\n          deleteMessage: \"Voc tem certeza? Essa ao no pode ser revertida.\",\n          disconnectTitle: \"Desconectar\",\n          disconnectMessage:\n            \"Tem certeza? Voc precisar ler o QR Code novamente.\",\n        },\n        buttons: {\n          add: \"Adicionar WhatsApp\",\n          disconnect: \"desconectar\",\n          tryAgain: \"Tentar novamente\",\n          qrcode: \"QR CODE\",\n          newQr: \"Novo QR CODE\",\n          connecting: \"Conectando\",\n        },\n        toolTips: {\n          disconnected: {\n            title: \"Falha ao iniciar sesso do WhatsApp\",\n            content:\n              \"Certifique-se de que seu celular esteja conectado  internet e tente novamente, ou solicite um novo QR Code\",\n          },\n          qrcode: {\n            title: \"Esperando leitura do QR Code\",\n            content:\n              \"Clique no boto 'QR CODE' e leia o QR Code com o seu celular para iniciar a sesso\",\n          },\n          connected: {\n            title: \"Conexo estabelecida!\",\n          },\n          timeout: {\n            title: \"A conexo com o celular foi perdida\",\n            content:\n              \"Certifique-se de que seu celular esteja conectado  internet e o WhatsApp esteja aberto, ou clique no boto 'Desconectar' para obter um novo QR Code\",\n          },\n        },\n        table: {\n          name: \"Nome\",\n          status: \"Status\",\n          lastUpdate: \"ltima atualizao\",\n          default: \"Padro\",\n          actions: \"Aes\",\n          session: \"Sesso\",\n        },\n      },\n      whatsappModal: {\n        title: {\n          add: \"Adicionar WhatsApp\",\n          edit: \"Editar WhatsApp\",\n        },\n        form: {\n          name: \"Nome\",\n          default: \"Padro\",\n          farewellMessage: \"Mensagem de despedida\",\n          isMultidevice: \"Multidevice\",\n          transferTicketMessage: \"Mensagem de Transferncia do Ticket\",\n          reopenLastTicket: \"Reabrir Ultimo Ticket\",\n          minutes: \"Minutos\",\n          newticketafter: \"Gerar um Novo Ticket aps\",\n          titlenewticketafter: \"Ao receber uma mensagem\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"WhatsApp salvo com sucesso.\",\n      },\n      qrCode: {\n        message: \"Leia o QrCode para iniciar a sesso\",\n      },\n      contacts: {\n        title: \"Contatos\",\n        toasts: {\n          deleted: \"Contato excludo com sucesso!\",\n        },\n        searchPlaceholder: \"Pesquisar...\",\n        confirmationModal: {\n          deleteTitle: \"Deletar \",\n          importTitlte: \"Importar contatos\",\n          deleteMessage:\n            \"Tem certeza que deseja deletar este contato? Todos os tickets relacionados sero perdidos.\",\n          importMessage: \"Deseja importas todos os contatos do telefone?\",\n        },\n        buttons: {\n          import: \"Importar Contatos\",\n          add: \"Adicionar Contato\",\n        },\n        table: {\n          name: \"Nome\",\n          whatsapp: \"WhatsApp\",\n          email: \"Email\",\n          actions: \"Aes\",\n        },\n      },\n      contactModal: {\n        title: {\n          add: \"Adicionar contato\",\n          edit: \"Editar contato\",\n        },\n        form: {\n          mainInfo: \"Dados do contato\",\n          extraInfo: \"Informaes adicionais\",\n          name: \"Nome\",\n          number: \"Nmero do Whatsapp\",\n          email: \"Email\",\n          extraName: \"Nome do campo\",\n          extraValue: \"Valor\",\n        },\n        buttons: {\n          addExtraInfo: \"Adicionar informao\",\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Contato salvo com sucesso.\",\n      },\n      quickAnswersModal: {\n        title: {\n          add: \"Adicionar Resposta Rpida\",\n          edit: \"Editar Resposta Rpida\",\n        },\n        form: {\n          shortcut: \"Atalho\",\n          message: \"Resposta Rpida\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Resposta Rpida salva com sucesso.\",\n      },\n      queueModal: {\n        title: {\n          add: \"Adicionar fila\",\n          edit: \"Editar fila\",\n        },\n        form: {\n          name: \"Nome\",\n          color: \"Cor\",\n          greetingMessage: \"Mensagem de saudao\",\n          transferQueueMessage: \"Mensagem de Transferncia entre Setor\",\n          outOfWorkMessage: \"Personalize a mensagem quando estiver fora do horrio de expediente\",\n          startWorkHour: \"Expediente: Abertura\",\n          endWorkHour: \"Expediente: Fechamento\",\n          monday: \"Segunda\",\n          tuesday: \"Tera\",\n          wednesday: \"Quarta\",\n          thursday: \"Quinta\",\n          friday: \"Sexta\",\n          saturday: \"Sbado\",\n          sunday: \"Domingo\",\n          holiday: \"Feriado\",\n          token: \"Token\",\n          checkHourExpedient: \"Checar Horrio de Expediente\"\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      userModal: {\n        title: {\n          add: \"Adicionar usurio\",\n          edit: \"Editar usurio\",\n        },\n        form: {\n          name: \"Nome\",\n          email: \"Email\",\n          password: \"Senha\",\n          profile: \"Perfil\",\n          whatsapp: \"Conexo Padro\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Usurio salvo com sucesso.\",\n      },\n      tagModal: {\n        title: {\n          add: \"Nova Tag\",\n          edit: \"Editar Tag\",\n        },\n        form: {\n          name: \"Nome\",\n          color: \"Cor\"\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Tag salvo com sucesso.\",\n      },\n      chat: {\n        noTicketMessage: \"Selecione um ticket para comear a conversar.\",\n      },\n      ticketsManager: {\n        buttons: {\n          newTicket: \"Novo\",\n        },\n      },\n      ticketsQueueSelect: {\n        placeholder: \"Filas\",\n      },\n      tickets: {\n        toasts: {\n          deleted: \"O ticket que voc estava foi deletado.\",\n        },\n        notification: {\n          message: \"Mensagem de\",\n        },\n        tabs: {\n          open: { title: \"Inbox\" },\n          closed: { title: \"Resolvidos\" },\n          search: { title: \"Busca\" },\n        },\n        search: {\n          placeholder: \"Buscar tickets e mensagens\",\n        },\n        buttons: {\n          showAll: \"Todos\",\n        },\n      },\n      transferTicketModal: {\n        title: \"Transferir Ticket\",\n        fieldLabel: \"Digite para buscar usurios\",\n        fieldQueueLabel: \"Transferir para fila\",\n        fieldConnectionLabel: \"Transferir para conexo\",\n        fieldQueuePlaceholder: \"Selecione uma fila\",\n        fieldConnectionPlaceholder: \"Selecione uma conexo\",\n        noOptions: \"Nenhum usurio encontrado com esse nome\",\n        buttons: {\n          ok: \"Transferir\",\n          cancel: \"Cancelar\",\n        },\n      },\n      ticketsList: {\n        pendingHeader: \"Aguardando\",\n        assignedHeader: \"Atendendo\",\n        noTicketsTitle: \"Nada aqui!\",\n        noTicketsMessage:\n          \"Nenhum ticket encontrado com esse status ou termo pesquisado\",\n        connectionTitle: \"Conexo que est sendo utilizada atualmente.\",\n        buttons: {\n          accept: \"Aceitar\",\n        },\n      },\n      newTicketModal: {\n        title: \"Criar Ticket\",\n        fieldLabel: \"Digite para pesquisar o contato\",\n        add: \"Adicionar\",\n        buttons: {\n          ok: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      mainDrawer: {\n        listItems: {\n          dashboard: \"Dashboard\",\n          connections: \"Conexes\",\n          tickets: \"Tickets\",\n          contacts: \"Contatos\",\n          quickAnswers: \"Respostas Rpidas\",\n          queues: \"Filas & Chatbot\",\n          schedules: \"Agendamentos\",\n          tags: \"Tags\",\n          administration: \"Administrao\",\n          users: \"Usurios\",\n          settings: \"Configuraes\",\n        },\n        appBar: {\n          user: {\n            profile: \"Perfil\",\n            logout: \"Sair\",\n          },\n        },\n      },\n      notifications: {\n        noTickets: \"Nenhuma notificao.\",\n      },\n      schedules: {\n        title: \"Agendamentos\",\n        confirmationModal: {\n          deleteTitle:\n            \"Voc tem certeza que quer excluir este Agendamento?\",\n          deleteMessage: \"Esta ao no pode ser revertida.\",\n        },\n        table: {\n          contact: \"Contato\",\n          body: \"Mensagem\",\n          sendAt: \"Data de Agendamento\",\n          sentAt: \"Data de Envio\",\n          status: \"Status\",\n          actions: \"Aes\",\n        },\n        buttons: {\n          add: \"Novo Agendamento\",\n        },\n        toasts: {\n          deleted: \"Agendamento excludo com sucesso.\",\n        }\n      },\n      scheduleModal: {\n        title: {\n          add: \"Novo Agendamento\",\n          edit: \"Editar Agendamento\",\n        },\n        form: {\n          body: \"Mensagem\",\n          contact: \"Contato\",\n          sendAt: \"Data de Agendamento\",\n          sentAt: \"Data de Envio\"\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Agendamento salvo com sucesso.\",\n      },\n      queues: {\n        title: \"Filas\",\n        table: {\n          name: \"Nome\",\n          color: \"Cor\",\n          greeting: \"Mensagem de saudao\",\n          actions: \"Aes\",\n        },\n        buttons: {\n          add: \"Adicionar fila\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage:\n            \"Voc tem certeza? Essa ao no pode ser revertida! Os tickets dessa fila continuaro existindo, mas no tero mais nenhuma fila atribuda.\",\n        },\n      },\n      queueSelect: {\n        inputLabel: \"Filas\",\n      },\n      quickAnswers: {\n        title: \"Respostas Rpidas\",\n        table: {\n          shortcut: \"Atalho\",\n          message: \"Resposta Rpida\",\n          actions: \"Aes\",\n        },\n        buttons: {\n          add: \"Adicionar Resposta Rpida\",\n        },\n        toasts: {\n          deleted: \"Resposta Rpida excluda com sucesso.\",\n        },\n        searchPlaceholder: \"Pesquisar...\",\n        confirmationModal: {\n          deleteTitle:\n            \"Voc tem certeza que quer excluir esta Resposta Rpida: \",\n          deleteMessage: \"Esta ao no pode ser revertida.\",\n        },\n      },\n      users: {\n        title: \"Usurios\",\n        table: {\n          name: \"Nome\",\n          email: \"Email\",\n          profile: \"Perfil\",\n          whatsapp: \"Conexo Padro\",\n          actions: \"Aes\",\n        },\n        buttons: {\n          add: \"Adicionar usurio\",\n        },\n        toasts: {\n          deleted: \"Usurio excludo com sucesso.\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage:\n            \"Todos os dados do usurio sero perdidos. Os tickets abertos deste usurio sero movidos para a fila.\",\n        },\n      },\n      tags: {\n        title: \"Tags\",\n        confirmationModal: {\n          deleteTitle:\n            \"Voc tem certeza que quer excluir esta Tag?\",\n          deleteMessage: \"Esta ao no pode ser revertida.\",\n        },\n        table: {\n          name: \"Nome\",\n          color: \"Cor\",\n          tickets: \"Registros Tagdos\",\n          actions: \"Aes\",\n        },\n        buttons: {\n          add: \"Nova Tag\",\n        },\n        toasts: {\n          deleted: \"Tag excludo com sucesso.\",\n        }\n      },\n      settings: {\n        success: \"Configuraes salvas com sucesso.\",\n        title: \"Configuraes\",\n        settings: {\n          userCreation: {\n            name: \"Criao de usurio\",\n            options: {\n              enabled: \"Ativado\",\n              disabled: \"Desativado\",\n            },\n          },\n          timeCreateNewTicket: {\n            name: \"Mensagem de boas-vindas aps\",\n            note: \"Selecione o tempo que ser necessrio para abrir um novo ticket, caso o cliente entre em contatos novamente\",\n            options: {\n              \"10\": \"10 Segundos\",\n              \"30\": \"30 Segundos\",\n              \"60\": \"1 minuto\",\n              \"300\": \"5 minutos\",\n              \"1800\" : \"30 minutos\",\n              \"3600\" : \"1 hora\",\n              \"7200\" : \"2 horas\",\n              \"21600\" : \"6 horas\",\n              \"43200\" : \"12 horas\",\n              \"86400\" : \"24 horas\",\n              \"172800\" : \"48 horas\",\n            },\n          },  \n          call: {\n            name: \"Aceitar chamadas\",\n            options: {\n              enabled: \"Ativado\",\n              disabled: \"Desativado\",\n            },\n          },\n          CheckMsgIsGroup: {\n            name: \"Ignorar Mensagens de Grupos\",\n            options: {\n                enabled: \"Ativado\",\n                disabled: \"Desativado\",\n            },\n          },\n        },\n      },\n      messagesList: {\n        header: {\n          assignedTo: \"Atribudo :\",\n          buttons: {\n            return: \"Retornar\",\n            resolve: \"Resolver\",\n            reopen: \"Reabrir\",\n            accept: \"Aceitar\",\n          },\n        },\n      },\n      messagesInput: {\n        placeholderOpen: \"Digite uma mensagem ou tecle ''/'' para utilizar as respostas rpidas cadastrada\",\n        placeholderClosed:\n          \"Reabra ou aceite esse ticket para enviar uma mensagem.\",\n        signMessage: \"Assinar\",\n      },\n      contactDrawer: {\n        header: \"Dados do contato\",\n        buttons: {\n          edit: \"Editar contato\",\n        },\n        extraInfo: \"Outras informaes\",\n      },\n      ticketOptionsMenu: {\n        delete: \"Deletar\",\n        transfer: \"Transferir\",\n        confirmationModal: {\n          title: \"Deletar o ticket do contato\",\n          message:\n            \"Ateno! Todas as mensagens relacionadas ao ticket sero perdidas.\",\n        },\n        buttons: {\n          delete: \"Excluir\",\n          cancel: \"Cancelar\",\n        },\n      },\n      confirmationModal: {\n        buttons: {\n          confirm: \"Ok\",\n          cancel: \"Cancelar\",\n        },\n      },\n      messageOptionsMenu: {\n        delete: \"Deletar\",\n        reply: \"Responder\",\n        confirmationModal: {\n          title: \"Apagar mensagem?\",\n          message: \"Esta ao no pode ser revertida.\",\n        },\n      },\n      backendErrors: {\n        ERR_TAG_NAME_ALREADY_EXISTS: \"J existe uma tag com esse nome.\",\n        ERR_NO_OTHER_WHATSAPP: \"Deve haver pelo menos um WhatsApp padro.\",\n        ERR_NO_DEF_WAPP_FOUND:\n          \"Nenhum WhatsApp padro encontrado. Verifique a pgina de conexes.\",\n        ERR_WAPP_NOT_INITIALIZED:\n          \"Esta sesso do WhatsApp no foi inicializada. Verifique a pgina de conexes.\",\n        ERR_WAPP_CHECK_CONTACT:\n          \"No foi possvel verificar o contato do WhatsApp. Verifique a pgina de conexes\",\n        ERR_WAPP_INVALID_CONTACT: \"Este no  um nmero de Whatsapp vlido.\",\n        ERR_WAPP_DOWNLOAD_MEDIA:\n          \"No foi possvel baixar mdia do WhatsApp. Verifique a pgina de conexes.\",\n        ERR_INVALID_CREDENTIALS:\n          \"Erro de autenticao. Por favor, tente novamente.\",\n        ERR_SENDING_WAPP_MSG:\n          \"Erro ao enviar mensagem do WhatsApp. Verifique a pgina de conexes.\",\n        ERR_DELETE_WAPP_MSG: \"No foi possvel excluir a mensagem do WhatsApp.\",\n        ERR_OTHER_OPEN_TICKET: \"J existe um tquete aberto para este contato.\",\n        ERR_SESSION_EXPIRED: \"Sesso expirada. Por favor entre.\",\n        ERR_USER_CREATION_DISABLED:\n          \"A criao do usurio foi desabilitada pelo administrador.\",\n        ERR_NO_PERMISSION: \"Voc no tem permisso para acessar este recurso.\",\n        ERR_DUPLICATED_CONTACT: \"J existe um contato com este nmero.\",\n        ERR_NO_SETTING_FOUND: \"Nenhuma configurao encontrada com este ID.\",\n        ERR_NO_CONTACT_FOUND: \"Nenhum contato encontrado com este ID.\",\n        ERR_NO_TICKET_FOUND: \"Nenhum tquete encontrado com este ID.\",\n        ERR_NO_USER_FOUND: \"Nenhum usurio encontrado com este ID.\",\n        ERR_NO_WAPP_FOUND: \"Nenhum WhatsApp encontrado com este ID.\",\n        ERR_CREATING_MESSAGE: \"Erro ao criar mensagem no banco de dados.\",\n        ERR_CREATING_TICKET: \"Erro ao criar tquete no banco de dados.\",\n        ERR_FETCH_WAPP_MSG:\n          \"Erro ao buscar a mensagem no WhtasApp, talvez ela seja muito antiga.\",\n        ERR_QUEUE_COLOR_ALREADY_EXISTS:\n          \"Esta cor j est em uso, escolha outra.\",\n        ERR_WAPP_GREETING_REQUIRED:\n          \"A mensagem de saudao  obrigatrio quando h mais de uma fila.\",\n      },\n    },\n  },\n};\n\nexport { messages };\n","import { messages as portugueseMessages } from \"./pt\";\nimport { messages as englishMessages } from \"./en\";\nimport { messages as spanishMessages } from \"./es\";\n\nconst messages = {\n\t...portugueseMessages,\n\t...englishMessages,\n\t...spanishMessages,\n};\n\nexport { messages };\n","const messages = {\n  en: {\n    translations: {\n      signup: {\n        title: \"Sign up\",\n        toasts: {\n          success: \"User created successfully! Please login!\",\n          fail: \"Error creating user. Check the reported data.\",\n        },\n        form: {\n          name: \"Name\",\n          email: \"Email\",\n          password: \"Password\",\n        },\n        buttons: {\n          submit: \"Register\",\n          login: \"Already have an account? Log in!\",\n        },\n      },\n      login: {\n        title: \"Login\",\n        form: {\n          email: \"Email\",\n          password: \"Password\",\n        },\n        buttons: {\n          submit: \"Enter\",\n          register: \"Don't have an account? Register!\",\n        },\n      },\n      auth: {\n        toasts: {\n          success: \"Login successfully!\",\n        },\n      },\n      dashboard: {\n        charts: {\n          perDay: {\n            title: \"Tickets today: \",\n          },\n        },\n        messages: {\n          inAttendance: {\n            title: \"In Service\"\n          },\n          waiting: {\n            title: \"Waiting\"\n          },\n          closed: {\n            title: \"Closed\"\n          }\n        }\n      },\n      connections: {\n        title: \"Connections\",\n        toasts: {\n          deleted: \"WhatsApp connection deleted sucessfully!\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Delete\",\n          deleteMessage: \"Are you sure? It cannot be reverted.\",\n          disconnectTitle: \"Disconnect\",\n          disconnectMessage: \"Are you sure? You'll need to read QR Code again.\",\n        },\n        buttons: {\n          add: \"Add WhatsApp\",\n          disconnect: \"Disconnect\",\n          tryAgain: \"Try Again\",\n          qrcode: \"QR CODE\",\n          newQr: \"New QR CODE\",\n          connecting: \"Connectiing\",\n        },\n        toolTips: {\n          disconnected: {\n            title: \"Failed to start WhatsApp session\",\n            content:\n              \"Make sure your cell phone is connected to the internet and try again, or request a new QR Code\",\n          },\n          qrcode: {\n            title: \"Waiting for QR Code read\",\n            content:\n              \"Click on 'QR CODE' button and read the QR Code with your cell phone to start session\",\n          },\n          connected: {\n            title: \"Connection established\",\n          },\n          timeout: {\n            title: \"Connection with cell phone has been lost\",\n            content:\n              \"Make sure your cell phone is connected to the internet and WhatsApp is open, or click on 'Disconnect' button to get a new QRcode\",\n          },\n        },\n        table: {\n          name: \"Name\",\n          status: \"Status\",\n          lastUpdate: \"Last Update\",\n          default: \"Default\",\n          actions: \"Actions\",\n          session: \"Session\",\n        },\n      },\n      whatsappModal: {\n        title: {\n          add: \"Add WhatsApp\",\n          edit: \"Edit WhatsApp\",\n        },\n        form: {\n          name: \"Name\",\n          default: \"Default\",\n        },\n        buttons: {\n          okAdd: \"Add\",\n          okEdit: \"Save\",\n          cancel: \"Cancel\",\n        },\n        success: \"WhatsApp saved successfully.\",\n      },\n      qrCode: {\n        message: \"Read QrCode to start the session\",\n      },\n      contacts: {\n        title: \"Contacts\",\n        toasts: {\n          deleted: \"Contact deleted sucessfully!\",\n        },\n        searchPlaceholder: \"Search ...\",\n        confirmationModal: {\n          deleteTitle: \"Delete\",\n          importTitlte: \"Import contacts\",\n          deleteMessage:\n            \"Are you sure you want to delete this contact? All related tickets will be lost.\",\n          importMessage: \"Do you want to import all contacts from the phone?\",\n        },\n        buttons: {\n          import: \"Import Contacts\",\n          add: \"Add Contact\",\n        },\n        table: {\n          name: \"Name\",\n          whatsapp: \"WhatsApp\",\n          email: \"Email\",\n          actions: \"Actions\",\n        },\n      },\n      contactModal: {\n        title: {\n          add: \"Add contact\",\n          edit: \"Edit contact\",\n        },\n        form: {\n          mainInfo: \"Contact details\",\n          extraInfo: \"Additional information\",\n          name: \"Name\",\n          number: \"Whatsapp number\",\n          email: \"Email\",\n          extraName: \"Field name\",\n          extraValue: \"Value\",\n        },\n        buttons: {\n          addExtraInfo: \"Add information\",\n          okAdd: \"Add\",\n          okEdit: \"Save\",\n          cancel: \"Cancel\",\n        },\n        success: \"Contact saved successfully.\",\n      },\n      quickAnswersModal: {\n        title: {\n          add: \"Add Quick Reply\",\n          edit: \"Edit Quick Answer\",\n        },\n        form: {\n          shortcut: \"Shortcut\",\n          message: \"Quick Reply\",\n        },\n        buttons: {\n          okAdd: \"Add\",\n          okEdit: \"Save\",\n          cancel: \"Cancel\",\n        },\n        success: \"Quick Reply saved successfully.\",\n      },\n      queueModal: {\n        title: {\n          add: \"Add queue\",\n          edit: \"Edit queue\",\n        },\n        form: {\n          name: \"Name\",\n          color: \"Color\",\n          greetingMessage: \"Greeting Message\",\n        },\n        buttons: {\n          okAdd: \"Add\",\n          okEdit: \"Save\",\n          cancel: \"Cancel\",\n        },\n      },\n      userModal: {\n        title: {\n          add: \"Add user\",\n          edit: \"Edit user\",\n        },\n        form: {\n          name: \"Name\",\n          email: \"Email\",\n          password: \"Password\",\n          profile: \"Profile\",\n          whatsapp: \"Default Connection\",\n        },\n        buttons: {\n          okAdd: \"Add\",\n          okEdit: \"Save\",\n          cancel: \"Cancel\",\n        },\n        success: \"User saved successfully.\",\n      },\n      chat: {\n        noTicketMessage: \"Select a ticket to start chatting.\",\n      },\n      ticketsManager: {\n        buttons: {\n          newTicket: \"New\",\n        },\n      },\n      ticketsQueueSelect: {\n        placeholder: \"Queues\",\n      },\n      tickets: {\n        toasts: {\n          deleted: \"The ticket you were on has been deleted.\",\n        },\n        notification: {\n          message: \"Message from\",\n        },\n        tabs: {\n          open: { title: \"Inbox\" },\n          closed: { title: \"Resolved\" },\n          search: { title: \"Search\" },\n        },\n        search: {\n          placeholder: \"Search tickets and messages.\",\n        },\n        buttons: {\n          showAll: \"All\",\n        },\n      },\n      transferTicketModal: {\n        title: \"Transfer Ticket\",\n        fieldLabel: \"Type to search for users\",\n        fieldQueueLabel: \"Transfer to queue\",\n        fieldConnectionLabel: \"Transfer to connection\",\n        fieldQueuePlaceholder: \"Please select a queue\",\n        fieldConnectionPlaceholder: \"Please select a connection\",\n        noOptions: \"No user found with this name\",\n        buttons: {\n          ok: \"Transfer\",\n          cancel: \"Cancel\",\n        },\n      },\n      ticketsList: {\n        pendingHeader: \"Queue\",\n        assignedHeader: \"Working on\",\n        noTicketsTitle: \"Nothing here!\",\n        noTicketsMessage: \"No tickets found with this status or search term.\",\n        connectionTitle: \"Connection that is currently being used.\",\n        buttons: {\n          accept: \"Accept\",\n        },\n      },\n      newTicketModal: {\n        title: \"Create Ticket\",\n        fieldLabel: \"Type to search for a contact\",\n        add: \"Add\",\n        buttons: {\n          ok: \"Save\",\n          cancel: \"Cancel\",\n        },\n      },\n      mainDrawer: {\n        listItems: {\n          dashboard: \"Dashboard\",\n          connections: \"Connections\",\n          tickets: \"Tickets\",\n          contacts: \"Contacts\",\n          quickAnswers: \"Quick Answers\",\n          queues: \"Queues\",\n          administration: \"Administration\",\n          users: \"Users\",\n          settings: \"Settings\",\n        },\n        appBar: {\n          user: {\n            profile: \"Profile\",\n            logout: \"Logout\",\n          },\n        },\n      },\n      notifications: {\n        noTickets: \"No notifications.\",\n      },\n      queues: {\n        title: \"Queues\",\n        table: {\n          name: \"Name\",\n          color: \"Color\",\n          greeting: \"Greeting message\",\n          actions: \"Actions\",\n        },\n        buttons: {\n          add: \"Add queue\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Delete\",\n          deleteMessage:\n            \"Are you sure? It cannot be reverted! Tickets in this queue will still exist, but will not have any queues assigned.\",\n        },\n      },\n      queueSelect: {\n        inputLabel: \"Queues\",\n      },\n      quickAnswers: {\n        title: \"Quick Answers\",\n        table: {\n          shortcut: \"Shortcut\",\n          message: \"Quick Reply\",\n          actions: \"Actions\",\n        },\n        buttons: {\n          add: \"Add Quick Reply\",\n        },\n        toasts: {\n          deleted: \"Quick Reply deleted successfully.\",\n        },\n        searchPlaceholder: \"Search...\",\n        confirmationModal: {\n          deleteTitle: \"Are you sure you want to delete this Quick Reply: \",\n          deleteMessage: \"This action cannot be undone.\",\n        },\n      },\n      users: {\n        title: \"Users\",\n        table: {\n          name: \"Name\",\n          email: \"Email\",\n          profile: \"Profile\",\n          whatsapp: \"Default Connection\",\n          actions: \"Actions\",\n        },\n        buttons: {\n          add: \"Add user\",\n        },\n        toasts: {\n          deleted: \"User deleted sucessfully.\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Delete\",\n          deleteMessage:\n            \"All user data will be lost. Users' open tickets will be moved to queue.\",\n        },\n      },\n      settings: {\n        success: \"Settings saved successfully.\",\n        title: \"Settings\",\n        settings: {\n          userCreation: {\n            name: \"User creation\",\n            options: {\n              enabled: \"Enabled\",\n              disabled: \"Disabled\",\n            },\n          },\n        },\n      },\n      messagesList: {\n        header: {\n          assignedTo: \"Assigned to:\",\n          buttons: {\n            return: \"Return\",\n            resolve: \"Resolve\",\n            reopen: \"Reopen\",\n            accept: \"Accept\",\n          },\n        },\n      },\n      messagesInput: {\n        placeholderOpen: \"Type a message or press ''/'' to use the registered quick responses\",\n        placeholderClosed: \"Reopen or accept this ticket to send a message.\",\n        signMessage: \"Sign\",\n      },\n      contactDrawer: {\n        header: \"Contact details\",\n        buttons: {\n          edit: \"Edit contact\",\n        },\n        extraInfo: \"Other information\",\n      },\n      ticketOptionsMenu: {\n        delete: \"Delete\",\n        transfer: \"Transfer\",\n        confirmationModal: {\n          title: \"Delete ticket #\",\n          titleFrom: \"from contact \",\n          message: \"Attention! All ticket's related messages will be lost.\",\n        },\n        buttons: {\n          delete: \"Delete\",\n          cancel: \"Cancel\",\n        },\n      },\n      confirmationModal: {\n        buttons: {\n          confirm: \"Ok\",\n          cancel: \"Cancel\",\n        },\n      },\n      messageOptionsMenu: {\n        delete: \"Delete\",\n        reply: \"Reply\",\n        confirmationModal: {\n          title: \"Delete message?\",\n          message: \"This action cannot be reverted.\",\n        },\n      },\n      backendErrors: {\n        ERR_NO_OTHER_WHATSAPP:\n          \"There must be at lest one default WhatsApp connection.\",\n        ERR_NO_DEF_WAPP_FOUND:\n          \"No default WhatsApp found. Check connections page.\",\n        ERR_WAPP_NOT_INITIALIZED:\n          \"This WhatsApp session is not initialized. Check connections page.\",\n        ERR_WAPP_CHECK_CONTACT:\n          \"Could not check WhatsApp contact. Check connections page.\",\n        ERR_WAPP_INVALID_CONTACT: \"This is not a valid whatsapp number.\",\n        ERR_WAPP_DOWNLOAD_MEDIA:\n          \"Could not download media from WhatsApp. Check connections page.\",\n        ERR_INVALID_CREDENTIALS: \"Authentication error. Please try again.\",\n        ERR_SENDING_WAPP_MSG:\n          \"Error sending WhatsApp message. Check connections page.\",\n        ERR_DELETE_WAPP_MSG: \"Couldn't delete message from WhatsApp.\",\n        ERR_OTHER_OPEN_TICKET:\n          \"There's already an open ticket for this contact.\",\n        ERR_SESSION_EXPIRED: \"Session expired. Please login.\",\n        ERR_USER_CREATION_DISABLED:\n          \"User creation was disabled by administrator.\",\n        ERR_NO_PERMISSION: \"You don't have permission to access this resource.\",\n        ERR_DUPLICATED_CONTACT: \"A contact with this number already exists.\",\n        ERR_NO_SETTING_FOUND: \"No setting found with this ID.\",\n        ERR_NO_CONTACT_FOUND: \"No contact found with this ID.\",\n        ERR_NO_TICKET_FOUND: \"No ticket found with this ID.\",\n        ERR_NO_USER_FOUND: \"No user found with this ID.\",\n        ERR_NO_WAPP_FOUND: \"No WhatsApp found with this ID.\",\n        ERR_CREATING_MESSAGE: \"Error while creating message on database.\",\n        ERR_CREATING_TICKET: \"Error while creating ticket on database.\",\n        ERR_FETCH_WAPP_MSG:\n          \"Error fetching the message in WhtasApp, maybe it is too old.\",\n        ERR_QUEUE_COLOR_ALREADY_EXISTS:\n          \"This color is already in use, pick another one.\",\n        ERR_WAPP_GREETING_REQUIRED:\n          \"Greeting message is required if there is more than one queue.\",\n      },\n    },\n  },\n};\n\nexport { messages };\n","const messages = {\n  es: {\n    translations: {\n      signup: {\n        title: \"Registro\",\n        toasts: {\n          success:\n            \"El usuario ha sido creado satisfactoriamente! Ahora inicia sesin!\",\n          fail: \"Error creando el usuario. Verifica la data reportada.\",\n        },\n        form: {\n          name: \"Nombre\",\n          email: \"Correo Electrnico\",\n          password: \"Contrasea\",\n        },\n        buttons: {\n          submit: \"Regstrate\",\n          login: \"Ya tienes una cuenta? Inicia sesin!\",\n        },\n      },\n      login: {\n        title: \"Inicio de Sesin\",\n        form: {\n          email: \"Correo Electrnico\",\n          password: \"Contrasea\",\n        },\n        buttons: {\n          submit: \"Ingresa\",\n          register: \"No tienes cuenta? Regstrate!\",\n        },\n      },\n      auth: {\n        toasts: {\n          success: \"Inicio de sesin exitoso!\",\n        },\n      },\n      dashboard: {\n        charts: {\n          perDay: {\n            title: \"Tickets hoy: \",\n          },\n        },\n        messages: {\n          inAttendance: {\n            title: \"En servicio\"\n          },\n          waiting: {\n            title: \"Esperando\"\n          },\n          closed: {\n            title: \"Finalizado\"\n          }\n        }\n      },\n      connections: {\n        title: \"Conexiones\",\n        toasts: {\n          deleted:\n            \"La conexin de WhatsApp ha sido borrada satisfactoriamente!\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Borrar\",\n          deleteMessage: \"Ests seguro? Este proceso no puede ser revertido.\",\n          disconnectTitle: \"Desconectar\",\n          disconnectMessage: \"Ests seguro? Deber volver a leer el cdigo QR\",\n        },\n        buttons: {\n          add: \"Agrega WhatsApp\",\n          disconnect: \"Desconectar\",\n          tryAgain: \"Intntalo de nuevo\",\n          qrcode: \"QR CODE\",\n          newQr: \"Nuevo QR CODE\",\n          connecting: \"Conectando\",\n        },\n        toolTips: {\n          disconnected: {\n            title: \"No se pudo iniciar la sesin de WhatsApp\",\n            content:\n              \"Asegrese de que su telfono celular est conectado a Internet y vuelva a intentarlo o solicite un nuevo cdigo QR\",\n          },\n          qrcode: {\n            title: \"Esperando la lectura del cdigo QR\",\n            content:\n              \"Haga clic en el botn 'CDIGO QR' y lea el Cdigo QR con su telfono celular para iniciar la sesin\",\n          },\n          connected: {\n            title: \"Conexin establecida\",\n          },\n          timeout: {\n            title: \"Se perdi la conexin con el telfono celular\",\n            content:\n              \"Asegrese de que su telfono celular est conectado a Internet y que WhatsApp est abierto, o haga clic en el botn 'Desconectar' para obtener un nuevo cdigo QR\",\n          },\n        },\n        table: {\n          name: \"Nombre\",\n          status: \"Estado\",\n          lastUpdate: \"ltima Actualizacin\",\n          default: \"Por Defecto\",\n          actions: \"Acciones\",\n          session: \"Sesin\",\n        },\n      },\n      whatsappModal: {\n        title: {\n          add: \"Agrega WhatsApp\",\n          edit: \"Edita WhatsApp\",\n        },\n        form: {\n          name: \"Nombre\",\n          default: \"Por Defecto\",\n        },\n        buttons: {\n          okAdd: \"Agregar\",\n          okEdit: \"Guardar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"WhatsApp guardado satisfactoriamente.\",\n      },\n      qrCode: {\n        message: \"Le el cdigo QR para empezar la sesin.\",\n      },\n      contacts: {\n        title: \"Contactos\",\n        toasts: {\n          deleted: \"Contacto borrado satisfactoriamente!\",\n        },\n        searchPlaceholder: \"Buscar...\",\n        confirmationModal: {\n          deleteTitle: \"Borrar\",\n          importTitlte: \"Importar contactos\",\n          deleteMessage:\n            \"Ests seguro que deseas borrar este contacto? Todos los tickets relacionados se perdern.\",\n          importMessage:\n            \"Quieres importar todos los contactos desde tu telfono?\",\n        },\n        buttons: {\n          import: \"Importar Contactos\",\n          add: \"Agregar Contacto\",\n        },\n        table: {\n          name: \"Nombre\",\n          whatsapp: \"WhatsApp\",\n          email: \"Correo Electrnico\",\n          actions: \"Acciones\",\n        },\n      },\n      contactModal: {\n        title: {\n          add: \"Agregar contacto\",\n          edit: \"Editar contacto\",\n        },\n        form: {\n          mainInfo: \"Detalles del contacto\",\n          extraInfo: \"Informacin adicional\",\n          name: \"Nombre\",\n          number: \"Nmero de Whatsapp\",\n          email: \"Correo Electrnico\",\n          extraName: \"Nombre del Campo\",\n          extraValue: \"Valor\",\n        },\n        buttons: {\n          addExtraInfo: \"Agregar informacin\",\n          okAdd: \"Agregar\",\n          okEdit: \"Guardar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Contacto guardado satisfactoriamente.\",\n      },\n      quickAnswersModal: {\n        title: {\n          add: \"Agregar respuesta rpida\",\n          edit: \"Editar respuesta rpida\",\n        },\n        form: {\n          shortcut: \"Atajo\",\n          message: \"Respuesta rpida\",\n        },\n        buttons: {\n          okAdd: \"Agregar\",\n          okEdit: \"Guardar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Respuesta rpida guardada correctamente.\",\n      },\n      queueModal: {\n        title: {\n          add: \"Agregar cola\",\n          edit: \"Editar cola\",\n        },\n        form: {\n          name: \"Nombre\",\n          color: \"Color\",\n          greetingMessage: \"Mensaje de saludo\",\n        },\n        buttons: {\n          okAdd: \"Aadir\",\n          okEdit: \"Ahorrar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      userModal: {\n        title: {\n          add: \"Agregar usuario\",\n          edit: \"Editar usuario\",\n        },\n        form: {\n          name: \"Nombre\",\n          email: \"Correo Electrnico\",\n          password: \"Contrasea\",\n          profile: \"Perfil\",\n          whatsapp: \"Conexin estndar\",\n        },\n        buttons: {\n          okAdd: \"Agregar\",\n          okEdit: \"Guardar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Usuario guardado satisfactoriamente.\",\n      },\n      chat: {\n        noTicketMessage: \"Selecciona un ticket para empezar a chatear.\",\n      },\n      ticketsManager: {\n        buttons: {\n          newTicket: \"Nuevo\",\n        },\n      },\n      ticketsQueueSelect: {\n        placeholder: \"Linhas\",\n      },\n      tickets: {\n        toasts: {\n          deleted: \"El ticket en el que estabas ha sido borrado.\",\n        },\n        notification: {\n          message: \"Mensaje de\",\n        },\n        tabs: {\n          open: { title: \"Bandeja\" },\n          closed: { title: \"Resueltos\" },\n          search: { title: \"Buscar\" },\n        },\n        search: {\n          placeholder: \"Buscar tickets y mensajes.\",\n        },\n        buttons: {\n          showAll: \"Todos\",\n        },\n      },\n      transferTicketModal: {\n        title: \"Transferir Ticket\",\n        fieldLabel: \"Escriba para buscar usuarios\",\n        fieldQueueLabel: \"Transferir a la cola\",\n        fieldConnectionLabel: \"Transferir to conexin\",\n        fieldQueuePlaceholder: \"Seleccione una cola\",\n        fieldConnectionPlaceholder: \"Seleccione una conexin\",\n        noOptions: \"No se encontraron usuarios con ese nombre\",\n        buttons: {\n          ok: \"Transferir\",\n          cancel: \"Cancelar\",\n        },\n      },\n      ticketsList: {\n        pendingHeader: \"Cola\",\n        assignedHeader: \"Trabajando en\",\n        noTicketsTitle: \"Nada ac!\",\n        connectionTitle: \"Conexin que se est utilizando actualmente.\",\n        noTicketsMessage:\n          \"No se encontraron tickets con este estado o trmino de bsqueda\",\n        buttons: {\n          accept: \"Acceptar\",\n        },\n      },\n      newTicketModal: {\n        title: \"Crear Ticket\",\n        fieldLabel: \"Escribe para buscar un contacto\",\n        add: \"Aadir\",\n        buttons: {\n          ok: \"Guardar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      mainDrawer: {\n        listItems: {\n          dashboard: \"Dashboard\",\n          connections: \"Conexiones\",\n          tickets: \"Tickets\",\n          contacts: \"Contactos\",\n          quickAnswers: \"Respuestas rpidas\",\n          queues: \"Linhas\",\n          administration: \"Administracin\",\n          users: \"Usuarios\",\n          settings: \"Configuracin\",\n        },\n        appBar: {\n          user: {\n            profile: \"Perfil\",\n            logout: \"Cerrar Sesin\",\n          },\n        },\n      },\n      notifications: {\n        noTickets: \"Sin notificaciones.\",\n      },\n      queues: {\n        title: \"Linhas\",\n        table: {\n          name: \"Nombre\",\n          color: \"Color\",\n          greeting: \"Mensaje de saludo\",\n          actions: \"Comportamiento\",\n        },\n        buttons: {\n          add: \"Agregar cola\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Eliminar\",\n          deleteMessage:\n            \"Ests seguro? Esta accin no se puede revertir! Los tickets en esa cola seguirn existiendo, pero ya no tendrn ninguna cola asignada.\",\n        },\n      },\n      queueSelect: {\n        inputLabel: \"Linhas\",\n      },\n      quickAnswers: {\n        title: \"Respuestas rpidas\",\n        table: {\n          shortcut: \"Atajo\",\n          message: \"Respuesta rpida\",\n          actions: \"Acciones\",\n        },\n        buttons: {\n          add: \"Agregar respuesta rpida\",\n        },\n        toasts: {\n          deleted: \"Respuesta rpida eliminada correctamente\",\n        },\n        searchPlaceholder: \"Buscar ...\",\n        confirmationModal: {\n          deleteTitle:\n            \"Est seguro de que desea eliminar esta respuesta rpida?\",\n          deleteMessage: \"Esta accin no se puede deshacer.\",\n        },\n      },\n      users: {\n        title: \"Usuarios\",\n        table: {\n          name: \"Nombre\",\n          email: \"Correo Electrnico\",\n          profile: \"Perfil\",\n          whatsapp: \"Conexin estndar\",\n          actions: \"Acciones\",\n        },\n        buttons: {\n          add: \"Agregar usuario\",\n        },\n        toasts: {\n          deleted: \"Usuario borrado satisfactoriamente.\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Borrar\",\n          deleteMessage:\n            \"Toda la informacin del usuario se perder. Los tickets abiertos de los usuarios se movern a la cola.\",\n        },\n      },\n      settings: {\n        success: \"Configuracin guardada satisfactoriamente.\",\n        title: \"Configuracin\",\n        settings: {\n          userCreation: {\n            name: \"Creacin de usuarios\",\n            options: {\n              enabled: \"Habilitado\",\n              disabled: \"Deshabilitado\",\n            },\n          },\n        },\n      },\n      messagesList: {\n        header: {\n          assignedTo: \"Asignado a:\",\n          buttons: {\n            return: \"Devolver\",\n            resolve: \"Resolver\",\n            reopen: \"Reabrir\",\n            accept: \"Aceptar\",\n          },\n        },\n      },\n      messagesInput: {\n        placeholderOpen: \"Escriba un mensaje o presione '' / '' para usar las respuestas rpidas registradas\",\n        placeholderClosed:\n          \"Vuelva a abrir o acepte este ticket para enviar un mensaje.\",\n        signMessage: \"Firmar\",\n      },\n      contactDrawer: {\n        header: \"Detalles del contacto\",\n        buttons: {\n          edit: \"Editar contacto\",\n        },\n        extraInfo: \"Otra informacin\",\n      },\n      ticketOptionsMenu: {\n        delete: \"Borrar\",\n        transfer: \"Transferir\",\n        confirmationModal: {\n          title: \"Borrar ticket #\",\n          titleFrom: \"del contacto \",\n          message:\n            \"Atencin! Todos los mensajes Todos los mensajes relacionados con el ticket se perdern.\",\n        },\n        buttons: {\n          delete: \"Borrar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      confirmationModal: {\n        buttons: {\n          confirm: \"Ok\",\n          cancel: \"Cancelar\",\n        },\n      },\n      messageOptionsMenu: {\n        delete: \"Borrar\",\n        reply: \"Responder\",\n        confirmationModal: {\n          title: \"Borrar mensaje?\",\n          message: \"Esta accin no puede ser revertida.\",\n        },\n      },\n      backendErrors: {\n        ERR_NO_OTHER_WHATSAPP:\n          \"Debe haber al menos una conexin de WhatsApp predeterminada.\",\n        ERR_NO_DEF_WAPP_FOUND:\n          \"No se encontr WhatsApp predeterminado. Verifique la pgina de conexiones.\",\n        ERR_WAPP_NOT_INITIALIZED:\n          \"Esta sesin de WhatsApp no est inicializada. Verifique la pgina de conexiones.\",\n        ERR_WAPP_CHECK_CONTACT:\n          \"No se pudo verificar el contacto de WhatsApp. Verifique la pgina de conexiones.\",\n        ERR_WAPP_INVALID_CONTACT: \"Este no es un nmero de whatsapp vlido.\",\n        ERR_WAPP_DOWNLOAD_MEDIA:\n          \"No se pudieron descargar los medios de WhatsApp. Verifique la pgina de conexiones.\",\n        ERR_INVALID_CREDENTIALS: \"Error de autenticacin. Vuelva a intentarlo.\",\n        ERR_SENDING_WAPP_MSG:\n          \"Error al enviar el mensaje de WhatsApp. Verifique la pgina de conexiones.\",\n        ERR_DELETE_WAPP_MSG: \"No se pudo borrar el mensaje de WhatsApp.\",\n        ERR_OTHER_OPEN_TICKET: \"Ya hay un ticket abierto para este contacto.\",\n        ERR_SESSION_EXPIRED: \"Sesin caducada. Inicie sesin.\",\n        ERR_USER_CREATION_DISABLED:\n          \"La creacin de usuarios fue deshabilitada por el administrador.\",\n        ERR_NO_PERMISSION: \"No tienes permiso para acceder a este recurso.\",\n        ERR_DUPLICATED_CONTACT: \"Ya existe un contacto con este nmero.\",\n        ERR_NO_SETTING_FOUND:\n          \"No se encontr ninguna configuracin con este ID.\",\n        ERR_NO_CONTACT_FOUND: \"No se encontr ningn contacto con este ID.\",\n        ERR_NO_TICKET_FOUND: \"No se encontr ningn ticket con este ID.\",\n        ERR_NO_USER_FOUND: \"No se encontr ningn usuario con este ID.\",\n        ERR_NO_WAPP_FOUND: \"No se encontr WhatsApp con este ID.\",\n        ERR_CREATING_MESSAGE: \"Error al crear el mensaje en la base de datos.\",\n        ERR_CREATING_TICKET: \"Error al crear el ticket en la base de datos.\",\n        ERR_FETCH_WAPP_MSG:\n          \"Error al obtener el mensaje en WhtasApp, tal vez sea demasiado antiguo.\",\n        ERR_QUEUE_COLOR_ALREADY_EXISTS:\n          \"Este color ya est en uso, elija otro.\",\n        ERR_WAPP_GREETING_REQUIRED:\n          \"El mensaje de saludo es obligatorio cuando hay ms de una cola.\",\n      },\n    },\n  },\n};\n\nexport { messages };\n","import i18n from \"i18next\";\nimport LanguageDetector from \"i18next-browser-languagedetector\";\n\nimport { messages } from \"./languages\";\n\ni18n.use(LanguageDetector).init({\n\tdebug: false,\n\tdefaultNS: [\"translations\"],\n\tfallbackLng: \"en\",\n\tns: [\"translations\"],\n\tresources: messages,\n});\n\nexport { i18n };\n","import axios from \"axios\";\nimport { getBackendUrl } from \"../config\";\n\nconst api = axios.create({\n\tbaseURL: getBackendUrl(),\n\twithCredentials: true,\n});\n\nexport default api;\n","import { toast } from \"react-toastify\";\nimport { i18n } from \"../translate/i18n\";\n\nconst toastError = err => {\n\tconst errorMsg = err.response?.data?.message || err.response.data.error;\n\tif (errorMsg) {\n\t\tif (i18n.exists(`backendErrors.${errorMsg}`)) {\n\t\t\ttoast.error(i18n.t(`backendErrors.${errorMsg}`), {\n\t\t\t\ttoastId: errorMsg,\n\t\t\t});\n\t\t} else {\n\t\t\ttoast.error(errorMsg, {\n\t\t\t\ttoastId: errorMsg,\n\t\t\t});\n\t\t}\n\t} else {\n\t\ttoast.error(\"An error occurred!\");\n\t}\n};\n\nexport default toastError;\n","import { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport openSocket from \"../../services/socket-io\";\n\nimport { toast } from \"react-toastify\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useAuth = () => {\n\tconst history = useHistory();\n\tconst [isAuth, setIsAuth] = useState(false);\n\tconst [loading, setLoading] = useState(true);\n\tconst [user, setUser] = useState({});\n\n\tapi.interceptors.request.use(\n\t\tconfig => {\n\t\t\tconst token = localStorage.getItem(\"token\");\n\t\t\tif (token) {\n\t\t\t\tconfig.headers[\"Authorization\"] = `Bearer ${JSON.parse(token)}`;\n\t\t\t\tsetIsAuth(true);\n\t\t\t}\n\t\t\treturn config;\n\t\t},\n\t\terror => {\n\t\t\tPromise.reject(error);\n\t\t}\n\t);\n\n\tapi.interceptors.response.use(\n\t\tresponse => {\n\t\t\treturn response;\n\t\t},\n\t\tasync error => {\n\t\t\tconst originalRequest = error.config;\n\t\t\tif (error?.response?.status === 403 && !originalRequest._retry) {\n\t\t\t\toriginalRequest._retry = true;\n\n\t\t\t\tconst { data } = await api.post(\"/auth/refresh_token\");\n\t\t\t\tif (data) {\n\t\t\t\t\tlocalStorage.setItem(\"token\", JSON.stringify(data.token));\n\t\t\t\t\tapi.defaults.headers.Authorization = `Bearer ${data.token}`;\n\t\t\t\t}\n\t\t\t\treturn api(originalRequest);\n\t\t\t}\n\t\t\tif (error?.response?.status === 401) {\n\t\t\t\tlocalStorage.removeItem(\"token\");\n\t\t\t\tapi.defaults.headers.Authorization = undefined;\n\t\t\t\tsetIsAuth(false);\n\t\t\t}\n\t\t\treturn Promise.reject(error);\n\t\t}\n\t);\n\n\tuseEffect(() => {\n\t\tconst token = localStorage.getItem(\"token\");\n\t\t(async () => {\n\t\t\tif (token) {\n\t\t\t\ttry {\n\t\t\t\t\tconst { data } = await api.post(\"/auth/refresh_token\");\n\t\t\t\t\tapi.defaults.headers.Authorization = `Bearer ${data.token}`;\n\t\t\t\t\tsetIsAuth(true);\n\t\t\t\t\tsetUser(data.user);\n\t\t\t\t} catch (err) {\n\t\t\t\t\ttoastError(err);\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetLoading(false);\n\t\t})();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst socket = openSocket();\n\n\t\tsocket.on(\"user\", data => {\n\t\t\tif (data.action === \"update\" && data.user.id === user.id) {\n\t\t\t\tsetUser(data.user);\n\t\t\t}\n\t\t});\n\n\t\treturn () => {\n\t\t\tsocket.disconnect();\n\t\t};\n\t}, [user]);\n\n\tconst handleLogin = async userData => {\n\t\tsetLoading(true);\n\n\t\ttry {\n\t\t\tconst { data } = await api.post(\"/auth/login\", userData);\n\t\t\tlocalStorage.setItem(\"token\", JSON.stringify(data.token));\n\t\t\tapi.defaults.headers.Authorization = `Bearer ${data.token}`;\n\t\t\tsetUser(data.user);\n\t\t\tsetIsAuth(true);\n\t\t\ttoast.success(i18n.t(\"auth.toasts.success\"));\n\t\t\thistory.push(\"/tickets\");\n\t\t\tsetLoading(false);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\tconst handleLogout = async () => {\n\t\tsetLoading(true);\n\n\t\ttry {\n\t\t\tawait api.delete(\"/auth/logout\");\n\t\t\tsetIsAuth(false);\n\t\t\tsetUser({});\n\t\t\tlocalStorage.removeItem(\"token\");\n\t\t\tapi.defaults.headers.Authorization = undefined;\n\t\t\tsetLoading(false);\n\t\t\thistory.push(\"/login\");\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\treturn { isAuth, user, loading, handleLogin, handleLogout };\n};\n\nexport default useAuth;\n","import React, { createContext } from \"react\";\n\nimport useAuth from \"../../hooks/useAuth.js\";\n\nconst AuthContext = createContext();\n\nconst AuthProvider = ({ children }) => {\n\tconst { loading, user, isAuth, handleLogin, handleLogout } = useAuth();\n\n\treturn (\n\t\t<AuthContext.Provider\n\t\t\tvalue={{ loading, user, isAuth, handleLogin, handleLogout }}\n\t\t>\n\t\t\t{children}\n\t\t</AuthContext.Provider>\n\t);\n};\n\nexport { AuthContext, AuthProvider };\n","import { useState, useEffect, useReducer } from \"react\";\nimport openSocket from \"../../services/socket-io\";\nimport toastError from \"../../errors/toastError\";\n\nimport api from \"../../services/api\";\n\nconst reducer = (state, action) => {\n\tif (action.type === \"LOAD_WHATSAPPS\") {\n\t\tconst whatsApps = action.payload;\n\n\t\treturn [...whatsApps];\n\t}\n\n\tif (action.type === \"UPDATE_WHATSAPPS\") {\n\t\tconst whatsApp = action.payload;\n\t\tconst whatsAppIndex = state.findIndex(s => s.id === whatsApp.id);\n\n\t\tif (whatsAppIndex !== -1) {\n\t\t\tstate[whatsAppIndex] = whatsApp;\n\t\t\treturn [...state];\n\t\t} else {\n\t\t\treturn [whatsApp, ...state];\n\t\t}\n\t}\n\n\tif (action.type === \"UPDATE_SESSION\") {\n\t\tconst whatsApp = action.payload;\n\t\tconst whatsAppIndex = state.findIndex(s => s.id === whatsApp.id);\n\n\t\tif (whatsAppIndex !== -1) {\n\t\t\tstate[whatsAppIndex].status = whatsApp.status;\n\t\t\tstate[whatsAppIndex].updatedAt = whatsApp.updatedAt;\n\t\t\tstate[whatsAppIndex].qrcode = whatsApp.qrcode;\n\t\t\tstate[whatsAppIndex].retries = whatsApp.retries;\n\t\t\treturn [...state];\n\t\t} else {\n\t\t\treturn [...state];\n\t\t}\n\t}\n\n\tif (action.type === \"DELETE_WHATSAPPS\") {\n\t\tconst whatsAppId = action.payload;\n\n\t\tconst whatsAppIndex = state.findIndex(s => s.id === whatsAppId);\n\t\tif (whatsAppIndex !== -1) {\n\t\t\tstate.splice(whatsAppIndex, 1);\n\t\t}\n\t\treturn [...state];\n\t}\n\n\tif (action.type === \"RESET\") {\n\t\treturn [];\n\t}\n};\n\nconst useWhatsApps = () => {\n\tconst [whatsApps, dispatch] = useReducer(reducer, []);\n\tconst [loading, setLoading] = useState(true);\n\n\tuseEffect(() => {\n\t\tsetLoading(true);\n\t\tconst fetchSession = async () => {\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(\"/whatsapp/\");\n\t\t\t\tdispatch({ type: \"LOAD_WHATSAPPS\", payload: data });\n\t\t\t\tsetLoading(false);\n\t\t\t} catch (err) {\n\t\t\t\tsetLoading(false);\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\t\tfetchSession();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst socket = openSocket();\n\n\t\tsocket.on(\"whatsapp\", data => {\n\t\t\tif (data.action === \"update\") {\n\t\t\t\tdispatch({ type: \"UPDATE_WHATSAPPS\", payload: data.whatsapp });\n\t\t\t}\n\t\t});\n\n\t\tsocket.on(\"whatsapp\", data => {\n\t\t\tif (data.action === \"delete\") {\n\t\t\t\tdispatch({ type: \"DELETE_WHATSAPPS\", payload: data.whatsappId });\n\t\t\t}\n\t\t});\n\n\t\tsocket.on(\"whatsappSession\", data => {\n\t\t\tif (data.action === \"update\") {\n\t\t\t\tdispatch({ type: \"UPDATE_SESSION\", payload: data.session });\n\t\t\t}\n\t\t});\n\n\t\treturn () => {\n\t\t\tsocket.disconnect();\n\t\t};\n\t}, []);\n\n\treturn { whatsApps, loading };\n};\n\nexport default useWhatsApps;\n","import React, { createContext } from \"react\";\n\nimport useWhatsApps from \"../../hooks/useWhatsApps\";\n\nconst WhatsAppsContext = createContext();\n\nconst WhatsAppsProvider = ({ children }) => {\n\tconst { loading, whatsApps } = useWhatsApps();\n\n\treturn (\n\t\t<WhatsAppsContext.Provider value={{ whatsApps, loading }}>\n\t\t\t{children}\n\t\t</WhatsAppsContext.Provider>\n\t);\n};\n\nexport { WhatsAppsContext, WhatsAppsProvider };\n","const rules = {\n\tuser: {\n\t\tstatic: [],\n\t},\n\n\tadmin: {\n\t\tstatic: [\n\t\t\t\"drawer-admin-items:view\",\n\t\t\t\"tickets-manager:showall\",\n\t\t\t\"user-modal:editProfile\",\n\t\t\t\"user-modal:editQueues\",\n\t\t\t\"ticket-options:deleteTicket\",\n\t\t\t\"ticket-options:transferWhatsapp\",\n\t\t\t\"contacts-page:deleteContact\",\n\t\t],\n\t},\n};\n\nexport default rules;\n","import rules from \"../../rules\";\n\nconst check = (role, action, data) => {\n\tconst permissions = rules[role];\n\tif (!permissions) {\n\t\t// role is not present in the rules\n\t\treturn false;\n\t}\n\n\tconst staticPermissions = permissions.static;\n\n\tif (staticPermissions && staticPermissions.includes(action)) {\n\t\t// static rule not provided for action\n\t\treturn true;\n\t}\n\n\tconst dynamicPermissions = permissions.dynamic;\n\n\tif (dynamicPermissions) {\n\t\tconst permissionCondition = dynamicPermissions[action];\n\t\tif (!permissionCondition) {\n\t\t\t// dynamic rule not provided for action\n\t\t\treturn false;\n\t\t}\n\n\t\treturn permissionCondition(data);\n\t}\n\treturn false;\n};\n\nconst Can = ({ role, perform, data, yes, no }) =>\n\tcheck(role, perform, data) ? yes() : no();\n\nCan.defaultProps = {\n\tyes: () => null,\n\tno: () => null,\n};\n\nexport { Can };\n","import { Badge } from \"@material-ui/core\";\nimport Divider from \"@material-ui/core/Divider\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListSubheader from \"@material-ui/core/ListSubheader\";\nimport { AddCircleOutline, ChatBubbleOutlineOutlined, LibraryBooks } from \"@material-ui/icons\";\nimport AccountTreeOutlinedIcon from \"@material-ui/icons/AccountTreeOutlined\";\nimport ContactPhoneOutlinedIcon from \"@material-ui/icons/ContactPhoneOutlined\";\nimport DashboardOutlinedIcon from \"@material-ui/icons/DashboardOutlined\";\nimport EventIcon from \"@material-ui/icons/Event\";\nimport LocalOfferIcon from \"@material-ui/icons/LocalOffer\";\nimport PeopleAltOutlinedIcon from \"@material-ui/icons/PeopleAltOutlined\";\nimport QuestionAnswerOutlinedIcon from \"@material-ui/icons/QuestionAnswerOutlined\";\nimport SettingsOutlinedIcon from \"@material-ui/icons/SettingsOutlined\";\nimport SyncAltIcon from \"@material-ui/icons/SyncAlt\";\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { Can } from \"../components/Can\";\nimport { AuthContext } from \"../context/Auth/AuthContext\";\nimport { WhatsAppsContext } from \"../context/WhatsApp/WhatsAppsContext\";\nimport { i18n } from \"../translate/i18n\";\n\n\nfunction ListItemLink(props) {\n  const { icon, primary, to, className } = props;\n\n  const renderLink = React.useMemo(\n    () =>\n      React.forwardRef((itemProps, ref) => (\n        <RouterLink to={to} ref={ref} {...itemProps} />\n      )),\n    [to]\n  );\n\n  return (\n    <li>\n      <ListItem button component={renderLink} className={className}>\n        {icon ? <ListItemIcon>{icon}</ListItemIcon> : null}\n        <ListItemText primary={primary} />\n      </ListItem>\n    </li>\n  );\n}\n\nconst MainListItems = (props) => {\n  const { drawerClose } = props;\n  const { whatsApps } = useContext(WhatsAppsContext);\n  const { user } = useContext(AuthContext);\n  const [connectionWarning, setConnectionWarning] = useState(false);\n\n  useEffect(() => {\n    const delayDebounceFn = setTimeout(() => {\n      if (whatsApps.length > 0) {\n        const offlineWhats = whatsApps.filter((whats) => {\n          return (\n            whats.status === \"qrcode\" ||\n            whats.status === \"PAIRING\" ||\n            whats.status === \"DISCONNECTED\" ||\n            whats.status === \"TIMEOUT\" ||\n            whats.status === \"OPENING\"\n          );\n        });\n        if (offlineWhats.length > 0) {\n          setConnectionWarning(true);\n        } else {\n          setConnectionWarning(false);\n        }\n      }\n    }, 2000);\n    return () => clearTimeout(delayDebounceFn);\n  }, [whatsApps]);\n\n  return (\n    <div onClick={drawerClose}>\n      <ListItemLink\n        to=\"/\"\n        primary=\"Dashboard\"\n        icon={<DashboardOutlinedIcon />}\n      />\n      <ListItemLink\n        to=\"/connections\"\n        primary={i18n.t(\"mainDrawer.listItems.connections\")}\n        icon={\n          <Badge\n            overlap=\"rectangular\"\n            badgeContent={connectionWarning ? \"!\" : 0}\n            color=\"error\"\n          >\n            <SyncAltIcon />\n          </Badge>\n        }\n      />\n      <ListItemLink\n        to=\"/tickets\"\n        primary={i18n.t(\"mainDrawer.listItems.tickets\")}\n        icon={<WhatsAppIcon />}\n      />\n\n      <ListItemLink\n        to=\"/contacts\"\n        primary={i18n.t(\"mainDrawer.listItems.contacts\")}\n        icon={<ContactPhoneOutlinedIcon />}\n      />\n      <ListItemLink\n        to=\"/quickAnswers\"\n        primary={i18n.t(\"mainDrawer.listItems.quickAnswers\")}\n        icon={<QuestionAnswerOutlinedIcon />}\n      />\n      <Can\n        role={user.profile}\n        perform=\"drawer-admin-items:view\"\n        yes={() => (\n          <>\n            <Divider />\n            <ListSubheader inset>\n              {i18n.t(\"mainDrawer.listItems.administration\")}\n            </ListSubheader>\n            <ListItemLink\n              to=\"/users\"\n              primary={i18n.t(\"mainDrawer.listItems.users\")}\n              icon={<PeopleAltOutlinedIcon />}\n            />\n            <ListItemLink\n              to=\"/queues\"\n              primary={i18n.t(\"mainDrawer.listItems.queues\")}\n              icon={<AccountTreeOutlinedIcon />}\n            />\n            <ListItemLink\n              to=\"/schedules\"\n              primary={i18n.t(\"mainDrawer.listItems.schedules\")}\n              icon={<EventIcon />}\n            />\n            <ListItemLink\n              to=\"/tags\"\n              primary={i18n.t(\"mainDrawer.listItems.tags\")}\n              icon={<LocalOfferIcon />}\n            />\n\n<ListItemLink\n              to=\"/BulkMessage\"\n              primary=\"Bulk Message\"\n              icon={<ChatBubbleOutlineOutlined />}\n            />\n\n            <ListItemLink\n              to=\"/SettingsMessage\"\n              primary=\"Configuraes Envio\"\n              icon={<AddCircleOutline />}\n            />\n\n            <ListItemLink\n              to=\"/ShippingReport\"\n              primary=\"Relatrio Envio\"\n              icon={<LibraryBooks />}\n            />\n            \n            <ListItemLink\n              to=\"/settings\"\n              primary={i18n.t(\"mainDrawer.listItems.settings\")}\n              icon={<SettingsOutlinedIcon />}\n            />\n          </>\n        )}\n      />\n    </div>\n  );\n};\n\nexport default MainListItems;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport { CircularProgress, Button } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n\tbutton: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n}));\n\nconst ButtonWithSpinner = ({ loading, children, ...rest }) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Button className={classes.button} disabled={loading} {...rest}>\n\t\t\t{children}\n\t\t\t{loading && (\n\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\n\t\t\t)}\n\t\t</Button>\n\t);\n};\n\nexport default ButtonWithSpinner;\n","import React from \"react\";\nimport Markdown from \"markdown-to-jsx\";\n\nconst elements = [\n\t\"a\",\n\t\"abbr\",\n\t\"address\",\n\t\"area\",\n\t\"article\",\n\t\"aside\",\n\t\"audio\",\n\t\"b\",\n\t\"base\",\n\t\"bdi\",\n\t\"bdo\",\n\t\"big\",\n\t\"blockquote\",\n\t\"body\",\n\t\"br\",\n\t\"button\",\n\t\"canvas\",\n\t\"caption\",\n\t\"cite\",\n\t\"code\",\n\t\"col\",\n\t\"colgroup\",\n\t\"data\",\n\t\"datalist\",\n\t\"dd\",\n\t\"del\",\n\t\"details\",\n\t\"dfn\",\n\t\"dialog\",\n\t\"div\",\n\t\"dl\",\n\t\"dt\",\n\t\"em\",\n\t\"embed\",\n\t\"fieldset\",\n\t\"figcaption\",\n\t\"figure\",\n\t\"footer\",\n\t\"form\",\n\t\"h1\",\n\t\"h2\",\n\t\"h3\",\n\t\"h4\",\n\t\"h5\",\n\t\"h6\",\n\t\"head\",\n\t\"header\",\n\t\"hgroup\",\n\t\"hr\",\n\t\"html\",\n\t\"i\",\n\t\"iframe\",\n\t\"img\",\n\t\"input\",\n\t\"ins\",\n\t\"kbd\",\n\t\"keygen\",\n\t\"label\",\n\t\"legend\",\n\t\"li\",\n\t\"link\",\n\t\"main\",\n\t\"map\",\n\t\"mark\",\n\t\"marquee\",\n\t\"menu\",\n\t\"menuitem\",\n\t\"meta\",\n\t\"meter\",\n\t\"nav\",\n\t\"noscript\",\n\t\"object\",\n\t\"ol\",\n\t\"optgroup\",\n\t\"option\",\n\t\"output\",\n\t\"p\",\n\t\"param\",\n\t\"picture\",\n\t\"pre\",\n\t\"progress\",\n\t\"q\",\n\t\"rp\",\n\t\"rt\",\n\t\"ruby\",\n\t\"s\",\n\t\"samp\",\n\t\"script\",\n\t\"section\",\n\t\"select\",\n\t\"small\",\n\t\"source\",\n\t\"span\",\n\t\"strong\",\n\t\"style\",\n\t\"sub\",\n\t\"summary\",\n\t\"sup\",\n\t\"table\",\n\t\"tbody\",\n\t\"td\",\n\t\"textarea\",\n\t\"tfoot\",\n\t\"th\",\n\t\"thead\",\n\t\"time\",\n\t\"title\",\n\t\"tr\",\n\t\"track\",\n\t\"u\",\n\t\"ul\",\n\t\"var\",\n\t\"video\",\n\t\"wbr\",\n\n\t// SVG\n\t\"circle\",\n\t\"clipPath\",\n\t\"defs\",\n\t\"ellipse\",\n\t\"foreignObject\",\n\t\"g\",\n\t\"image\",\n\t\"line\",\n\t\"linearGradient\",\n\t\"marker\",\n\t\"mask\",\n\t\"path\",\n\t\"pattern\",\n\t\"polygon\",\n\t\"polyline\",\n\t\"radialGradient\",\n\t\"rect\",\n\t\"stop\",\n\t\"svg\",\n\t\"text\",\n\t\"tspan\",\n];\n\nconst allowedElements = [\"a\", \"b\", \"strong\", \"em\", \"u\", \"code\", \"del\"];\n\nconst CustomLink = ({ children, ...props }) => (\n\t<a {...props} target=\"_blank\" rel=\"noopener noreferrer\">\n\t\t{children}\n\t</a>\n);\n\nconst MarkdownWrapper = ({ children }) => {\n\tconst boldRegex = /\\*(.*?)\\*/g;\n\tconst tildaRegex = /~(.*?)~/g;\n\t\n\tif(children && children.includes('BEGIN:VCARD'))\n\t\t//children = \"Diga ol ao seu novo contato clicando em *conversar*!\";\n\t\tchildren = null;\n\t\n\tif(children && children.includes('data:image/'))\n\t\tchildren = null;\n\t\n\tif (children && boldRegex.test(children)) {\n\t\tchildren = children.replace(boldRegex, \"**$1**\");\n\t}\n\tif (children && tildaRegex.test(children)) {\n\t\tchildren = children.replace(tildaRegex, \"~~$1~~\");\n\t}\n\n\tconst options = React.useMemo(() => {\n\t\tconst markdownOptions = {\n\t\t\tdisableParsingRawHTML: true,\n\t\t\tforceInline: true,\n\t\t\toverrides: {\n\t\t\t\ta: { component: CustomLink },\n\t\t\t},\n\t\t};\n\n\t\telements.forEach(element => {\n\t\t\tif (!allowedElements.includes(element)) {\n\t\t\t\tmarkdownOptions.overrides[element] = el => el.children || null;\n\t\t\t}\n\t\t});\n\n\t\treturn markdownOptions;\n\t}, []);\n\n\tif (!children) return null;\n\t\n\treturn <Markdown options={options}>{children}</Markdown>;\n};\n\nexport default MarkdownWrapper;","import React, { useState, useEffect, useRef, useContext } from \"react\";\n\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { parseISO, format, isSameDay } from \"date-fns\";\nimport clsx from \"clsx\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Badge from \"@material-ui/core/Badge\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport MarkdownWrapper from \"../MarkdownWrapper\";\nimport { Tooltip } from \"@material-ui/core\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles((theme) => ({\n  ticket: {\n    position: \"relative\",\n  },\n\n  pendingTicket: {\n    cursor: \"unset\",\n  },\n\n  noTicketsDiv: {\n    display: \"flex\",\n    height: \"100px\",\n    margin: 40,\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n\n  noTicketsText: {\n    textAlign: \"center\",\n    color: \"rgb(104, 121, 146)\",\n    fontSize: \"14px\",\n    lineHeight: \"1.4\",\n  },\n\n  noTicketsTitle: {\n    textAlign: \"center\",\n    fontSize: \"16px\",\n    fontWeight: \"600\",\n    margin: \"0px\",\n  },\n\n  contactNameWrapper: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n  },\n\n  lastMessageTime: {\n    justifySelf: \"flex-end\",\n  },\n\n  closedBadge: {\n    alignSelf: \"center\",\n    justifySelf: \"flex-end\",\n    marginRight: 32,\n    marginLeft: \"auto\",\n  },\n\n  contactLastMessage: {\n    paddingRight: 20,\n  },\n\n  newMessagesCount: {\n    alignSelf: \"center\",\n    marginRight: 8,\n    marginLeft: \"auto\",\n  },\n\n  badgeStyle: {\n    color: \"white\",\n    backgroundColor: green[500],\n  },\n\n  acceptButton: {\n    position: \"absolute\",\n    left: \"50%\",\n  },\n\n  ticketQueueColor: {\n    flex: \"none\",\n    width: \"8px\",\n    height: \"100%\",\n    position: \"absolute\",\n    top: \"0%\",\n    left: \"0%\",\n  },\n\n  userTag: {\n    position: \"absolute\",\n    marginRight: 5,\n    right: 5,\n    bottom: 5,\n    background: \"#2576D2\",\n    color: \"#ffffff\",\n    border: \"1px solid #CCC\",\n    padding: 1,\n    paddingLeft: 5,\n    paddingRight: 5,\n    borderRadius: 10,\n    fontSize: \"0.9em\",\n  },\n}));\n\nconst TicketListItem = ({ ticket }) => {\n  const classes = useStyles();\n  const history = useHistory();\n  const [loading, setLoading] = useState(false);\n  const { ticketId } = useParams();\n  const isMounted = useRef(true);\n  const { user } = useContext(AuthContext);\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  const handleAcepptTicket = async (id) => {\n    setLoading(true);\n    try {\n      await api.put(`/tickets/${id}`, {\n        status: \"open\",\n        userId: user?.id,\n      });\n    } catch (err) {\n      setLoading(false);\n      toastError(err);\n    }\n    if (isMounted.current) {\n      setLoading(false);\n    }\n    history.push(`/tickets/${id}`);\n  };\n\n  const handleSelectTicket = (id) => {\n    history.push(`/tickets/${id}`);\n  };\n\n  return (\n    <React.Fragment key={ticket.id}>\n      <ListItem\n        dense\n        button\n        onClick={(e) => {\n          if (ticket.status === \"pending\") return;\n          handleSelectTicket(ticket.id);\n        }}\n        selected={ticketId && +ticketId === ticket.id}\n        className={clsx(classes.ticket, {\n          [classes.pendingTicket]: ticket.status === \"pending\",\n        })}\n      >\n        <Tooltip\n          arrow\n          placement=\"right\"\n          title={ticket.queue?.name || \"Sem fila\"}\n        >\n          <span\n            style={{ backgroundColor: ticket.queue?.color || \"#7C7C7C\" }}\n            className={classes.ticketQueueColor}\n          ></span>\n        </Tooltip>\n        <ListItemAvatar>\n          <Avatar src={ticket?.contact?.profilePicUrl} />\n        </ListItemAvatar>\n        <ListItemText\n          disableTypography\n          primary={\n            <span className={classes.contactNameWrapper}>\n              <Typography\n                noWrap\n                component=\"span\"\n                variant=\"body2\"\n                color=\"textPrimary\"\n              >\n                {ticket.contact.name}\n              </Typography>\n              {ticket.status === \"closed\" && (\n                <Badge\n                  className={classes.closedBadge}\n                  badgeContent={\"closed\"}\n                  color=\"primary\"\n                />\n              )}\n              {ticket.lastMessage && (\n                <Typography\n                  className={classes.lastMessageTime}\n                  component=\"span\"\n                  variant=\"body2\"\n                  color=\"textSecondary\"\n                >\n                  {isSameDay(parseISO(ticket.updatedAt), new Date()) ? (\n                    <>{format(parseISO(ticket.updatedAt), \"HH:mm\")}</>\n                  ) : (\n                    <>{format(parseISO(ticket.updatedAt), \"dd/MM/yyyy\")}</>\n                  )}\n                </Typography>\n              )}\n              {ticket.whatsappId && (\n                <div\n                  className={classes.userTag}\n                  title={i18n.t(\"ticketsList.connectionTitle\")}\n                >\n                  {ticket.whatsapp?.name}\n                </div>\n              )}\n\n              {ticket.channel !== \"whatsapp\" && (\n                <div\n                  className={classes.userTag}\n                  title={i18n.t(\"ticketsList.connectionTitle\")}\n                >\n                  {ticket.channel}\n                </div>\n              )}\n            </span>\n          }\n          secondary={\n            <span className={classes.contactNameWrapper}>\n              <Typography\n                className={classes.contactLastMessage}\n                noWrap\n                component=\"span\"\n                variant=\"body2\"\n                color=\"textSecondary\"\n              >\n                {ticket.lastMessage ? (\n                  <MarkdownWrapper>{ticket.lastMessage}</MarkdownWrapper>\n                ) : (\n                  <br />\n                )}\n              </Typography>\n\n              <Badge\n                className={classes.newMessagesCount}\n                badgeContent={ticket.unreadMessages}\n                classes={{\n                  badge: classes.badgeStyle,\n                }}\n              />\n            </span>\n          }\n        />\n        {ticket.status === \"pending\" && (\n          <ButtonWithSpinner\n            color=\"primary\"\n            variant=\"contained\"\n            className={classes.acceptButton}\n            size=\"small\"\n            loading={loading}\n            onClick={(e) => handleAcepptTicket(ticket.id)}\n          >\n            {i18n.t(\"ticketsList.buttons.accept\")}\n          </ButtonWithSpinner>\n        )}\n      </ListItem>\n      <Divider variant=\"inset\" component=\"li\" />\n    </React.Fragment>\n  );\n};\n\nexport default TicketListItem;\n","import { useState, useEffect } from \"react\";\nimport { getHoursCloseTicketsAuto } from \"../../config\";\nimport toastError from \"../../errors/toastError\";\n\nimport api from \"../../services/api\";\n\nconst useTickets = ({\n    searchParam,\n    pageNumber,\n    status,\n    date,\n    showAll,\n    queueIds,\n    withUnreadMessages,\n    tags,\n}) => {\n    const [loading, setLoading] = useState(true);\n    const [hasMore, setHasMore] = useState(false);\n    const [tickets, setTickets] = useState([]);\n    const [count, setCount] = useState(0);\n\n    useEffect(() => {\n        setLoading(true);\n        const delayDebounceFn = setTimeout(() => {\n            const fetchTickets = async() => {\n                try {\n                    const { data } = await api.get(\"/tickets\", {\n                        params: {\n                            searchParam,\n                            pageNumber,\n                            status,\n                            date,\n                            showAll,\n                            queueIds,\n                            withUnreadMessages,\n                            tags,\n                        },\n                    })\n                    setTickets(data.tickets)\n\n                    let horasFecharAutomaticamente = getHoursCloseTicketsAuto(); \n\n                    if (status === \"open\" && horasFecharAutomaticamente && horasFecharAutomaticamente !== \"\" &&\n                        horasFecharAutomaticamente !== \"0\" && Number(horasFecharAutomaticamente) > 0) {\n\n                        let dataLimite = new Date()\n                        dataLimite.setHours(dataLimite.getHours() - Number(horasFecharAutomaticamente))\n\n                        data.tickets.forEach(ticket => {\n                            if (ticket.status !== \"closed\") {\n                                let dataUltimaInteracaoChamado = new Date(ticket.updatedAt)\n                                if (dataUltimaInteracaoChamado < dataLimite)\n                                    closeTicket(ticket)\n                            }\n                        })\n                    }\n\n                    setHasMore(data.hasMore)\n                    setCount(data.count)\n                    setLoading(false)\n                } catch (err) {\n                    setLoading(false)\n                    toastError(err)\n                }\n            }\n\n            const closeTicket = async(ticket) => {\n                await api.put(`/tickets/${ticket.id}`, {\n                    status: \"closed\",\n                    userId: ticket.userId || null,\n                })\n            }\n\n            fetchTickets()\n        }, 500)\n        return () => clearTimeout(delayDebounceFn)\n    }, [\n        searchParam,\n        pageNumber,\n        status,\n        date,\n        showAll,\n        queueIds,\n        withUnreadMessages,\n        tags,\n    ])\n\n    return { tickets, loading, hasMore, count };\n};\n\nexport default useTickets;","import React, { useState, useRef, useEffect, useContext } from \"react\";\n\nimport { useHistory } from \"react-router-dom\";\nimport { format } from \"date-fns\";\nimport openSocket from \"../../services/socket-io\";\nimport useSound from \"use-sound\";\n\nimport Popover from \"@material-ui/core/Popover\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Badge from \"@material-ui/core/Badge\";\nimport ChatIcon from \"@material-ui/icons/Chat\";\n\nimport TicketListItem from \"../TicketListItem\";\nimport { i18n } from \"../../translate/i18n\";\nimport useTickets from \"../../hooks/useTickets\";\nimport alertSound from \"../../assets/sound.mp3\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles(theme => ({\n\ttabContainer: {\n\t\toverflowY: \"auto\",\n\t\tmaxHeight: 350,\n\t\t...theme.scrollbarStyles,\n\t},\n\tpopoverPaper: {\n\t\twidth: \"100%\",\n\t\tmaxWidth: 350,\n\t\tmarginLeft: theme.spacing(2),\n\t\tmarginRight: theme.spacing(1),\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\tmaxWidth: 270,\n\t\t},\n\t},\n\tnoShadow: {\n\t\tboxShadow: \"none !important\",\n\t},\n}));\n\nconst NotificationsPopOver = () => {\n\tconst classes = useStyles();\n\n\tconst history = useHistory();\n\tconst { user } = useContext(AuthContext);\n\tconst ticketIdUrl = +history.location.pathname.split(\"/\")[2];\n\tconst ticketIdRef = useRef(ticketIdUrl);\n\tconst anchorEl = useRef();\n\tconst [isOpen, setIsOpen] = useState(false);\n\tconst [notifications, setNotifications] = useState([]);\n\n\tconst [, setDesktopNotifications] = useState([]);\n\n\tconst { tickets } = useTickets({ withUnreadMessages: \"true\" });\n\tconst [play] = useSound(alertSound);\n\tconst soundAlertRef = useRef();\n\n\tconst historyRef = useRef(history);\n\n\tuseEffect(() => {\n\t\tsoundAlertRef.current = play;\n\n\t\tif (!(\"Notification\" in window)) {\n\t\t\tconsole.log(\"This browser doesn't support notifications\");\n\t\t} else {\n\t\t\tNotification.requestPermission();\n\t\t}\n\t}, [play]);\n\n\tuseEffect(() => {\n\t\tsetNotifications(tickets);\n\t}, [tickets]);\n\n\tuseEffect(() => {\n\t\tticketIdRef.current = ticketIdUrl;\n\t}, [ticketIdUrl]);\n\n\tuseEffect(() => {\n\t\tconst socket = openSocket();\n\n\t\tsocket.on(\"ready\", () => socket.emit(\"joinNotification\"));\n\n\t\tsocket.on(\"ticket\", data => {\n\t\t\tif (data.action === \"updateUnread\" || data.action === \"delete\") {\n\t\t\t\tsetNotifications(prevState => {\n\t\t\t\t\tconst ticketIndex = prevState.findIndex(t => t.id === data.ticketId);\n\t\t\t\t\tif (ticketIndex !== -1) {\n\t\t\t\t\t\tprevState.splice(ticketIndex, 1);\n\t\t\t\t\t\treturn [...prevState];\n\t\t\t\t\t}\n\t\t\t\t\treturn prevState;\n\t\t\t\t});\n\n\t\t\t\tsetDesktopNotifications(prevState => {\n\t\t\t\t\tconst notfiticationIndex = prevState.findIndex(\n\t\t\t\t\t\tn => n.tag === String(data.ticketId)\n\t\t\t\t\t);\n\t\t\t\t\tif (notfiticationIndex !== -1) {\n\t\t\t\t\t\tprevState[notfiticationIndex].close();\n\t\t\t\t\t\tprevState.splice(notfiticationIndex, 1);\n\t\t\t\t\t\treturn [...prevState];\n\t\t\t\t\t}\n\t\t\t\t\treturn prevState;\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tsocket.on(\"appMessage\", data => {\n\t\t\tif (\n\t\t\t\tdata.action === \"create\" &&\n\t\t\t\t!data.message.read &&\n\t\t\t\t(data.ticket.userId === user?.id || !data.ticket.userId)\n\t\t\t) {\n\t\t\t\tsetNotifications(prevState => {\n\t\t\t\t\tconst ticketIndex = prevState.findIndex(t => t.id === data.ticket.id);\n\t\t\t\t\tif (ticketIndex !== -1) {\n\t\t\t\t\t\tprevState[ticketIndex] = data.ticket;\n\t\t\t\t\t\treturn [...prevState];\n\t\t\t\t\t}\n\t\t\t\t\treturn [data.ticket, ...prevState];\n\t\t\t\t});\n\n\t\t\t\tconst shouldNotNotificate =\n\t\t\t\t\t(data.message.ticketId === ticketIdRef.current &&\n\t\t\t\t\t\tdocument.visibilityState === \"visible\") ||\n\t\t\t\t\t(data.ticket.userId && data.ticket.userId !== user?.id) ||\n\t\t\t\t\tdata.ticket.isGroup;\n\n\t\t\t\tif (shouldNotNotificate) return;\n\n\t\t\t\thandleNotifications(data);\n\t\t\t}\n\t\t});\n\n\t\treturn () => {\n\t\t\tsocket.disconnect();\n\t\t};\n\t}, [user]);\n\n\tconst handleNotifications = data => {\n\t\tconst { message, contact, ticket } = data;\n\n\t\tconst options = {\n\t\t\tbody: `${message.body} - ${format(new Date(), \"HH:mm\")}`,\n\t\t\ticon: contact.profilePicUrl,\n\t\t\ttag: ticket.id,\n\t\t\trenotify: true,\n\t\t};\n\n\t\tconst notification = new Notification(\n\t\t\t`${i18n.t(\"tickets.notification.message\")} ${contact.name}`,\n\t\t\toptions\n\t\t);\n\n\t\tnotification.onclick = e => {\n\t\t\te.preventDefault();\n\t\t\twindow.focus();\n\t\t\thistoryRef.current.push(`/tickets/${ticket.id}`);\n\t\t};\n\n\t\tsetDesktopNotifications(prevState => {\n\t\t\tconst notfiticationIndex = prevState.findIndex(\n\t\t\t\tn => n.tag === notification.tag\n\t\t\t);\n\t\t\tif (notfiticationIndex !== -1) {\n\t\t\t\tprevState[notfiticationIndex] = notification;\n\t\t\t\treturn [...prevState];\n\t\t\t}\n\t\t\treturn [notification, ...prevState];\n\t\t});\n\n\t\tsoundAlertRef.current();\n\t};\n\n\tconst handleClick = () => {\n\t\tsetIsOpen(prevState => !prevState);\n\t};\n\n\tconst handleClickAway = () => {\n\t\tsetIsOpen(false);\n\t};\n\n\tconst NotificationTicket = ({ children }) => {\n\t\treturn <div onClick={handleClickAway}>{children}</div>;\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<IconButton\n\t\t\t\tonClick={handleClick}\n\t\t\t\tref={anchorEl}\n\t\t\t\taria-label=\"Open Notifications\"\n\t\t\t\tcolor=\"inherit\"\n\t\t\t>\n\t\t\t\t<Badge badgeContent={notifications.length} color=\"secondary\">\n\t\t\t\t\t<ChatIcon />\n\t\t\t\t</Badge>\n\t\t\t</IconButton>\n\t\t\t<Popover\n\t\t\t\tdisableScrollLock\n\t\t\t\topen={isOpen}\n\t\t\t\tanchorEl={anchorEl.current}\n\t\t\t\tanchorOrigin={{\n\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\ttransformOrigin={{\n\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\tclasses={{ paper: classes.popoverPaper }}\n\t\t\t\tonClose={handleClickAway}\n\t\t\t>\n\t\t\t\t<List dense className={classes.tabContainer}>\n\t\t\t\t\t{notifications.length === 0 ? (\n\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t<ListItemText>{i18n.t(\"notifications.noTickets\")}</ListItemText>\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t) : (\n\t\t\t\t\t\tnotifications.map(ticket => (\n\t\t\t\t\t\t\t<NotificationTicket key={ticket.id}>\n\t\t\t\t\t\t\t\t<TicketListItem ticket={ticket} />\n\t\t\t\t\t\t\t</NotificationTicket>\n\t\t\t\t\t\t))\n\t\t\t\t\t)}\n\t\t\t\t</List>\n\t\t\t</Popover>\n\t\t</>\n\t);\n};\n\nexport default NotificationsPopOver;","import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport Chip from \"@material-ui/core/Chip\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles(theme => ({\n\tchips: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tchip: {\n\t\tmargin: 2,\n\t},\n}));\n\nconst QueueSelect = ({ selectedQueueIds, onChange }) => {\n\tconst classes = useStyles();\n\tconst [queues, setQueues] = useState([]);\n\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(\"/queue\");\n\t\t\t\tsetQueues(data);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t})();\n\t}, []);\n\n\tconst handleChange = e => {\n\t\tonChange(e.target.value);\n\t};\n\n\treturn (\n\t\t<div style={{ marginTop: 6 }}>\n\t\t\t<FormControl fullWidth margin=\"dense\" variant=\"outlined\">\n\t\t\t\t<InputLabel>{i18n.t(\"queueSelect.inputLabel\")}</InputLabel>\n\t\t\t\t<Select\n\t\t\t\t\tmultiple\n\t\t\t\t\tlabelWidth={60}\n\t\t\t\t\tvalue={selectedQueueIds}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t}}\n\t\t\t\t\trenderValue={selected => (\n\t\t\t\t\t\t<div className={classes.chips}>\n\t\t\t\t\t\t\t{selected?.length > 0 &&\n\t\t\t\t\t\t\t\tselected.map(id => {\n\t\t\t\t\t\t\t\t\tconst queue = queues.find(q => q.id === id);\n\t\t\t\t\t\t\t\t\treturn queue ? (\n\t\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: queue.color }}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tlabel={queue.name}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.chip}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : null;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{queues.map(queue => (\n\t\t\t\t\t\t<MenuItem key={queue.id} value={queue.id}>\n\t\t\t\t\t\t\t{queue.name}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t))}\n\t\t\t\t</Select>\n\t\t\t</FormControl>\n\t\t</div>\n\t);\n};\n\nexport default QueueSelect;\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport {\n\tButton,\n\tDialog,\n\tDialogActions,\n\tDialogContent,\n\tDialogTitle,\n\tCircularProgress,\n\tSelect,\n\tInputLabel,\n\tMenuItem,\n\tFormControl,\n\tTextField,\n\tInputAdornment,\n\tIconButton\n  } from '@material-ui/core';\n\nimport { Visibility, VisibilityOff } from '@material-ui/icons';\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport QueueSelect from \"../QueueSelect\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../Can\";\nimport useWhatsApps from \"../../hooks/useWhatsApps\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tmultFieldLine: {\n\t\tdisplay: \"flex\",\n\t\t\"& > *:not(:last-child)\": {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tformControl: {\n\t\tmargin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n}));\n\nconst UserSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tpassword: Yup.string().min(5, \"Too Short!\").max(50, \"Too Long!\"),\n\temail: Yup.string().email(\"Invalid email\").required(\"Required\"),\n});\n\nconst UserModal = ({ open, onClose, userId }) => {\n\tconst classes = useStyles();\n\n\tconst initialState = {\n\t\tname: \"\",\n\t\temail: \"\",\n\t\tpassword: \"\",\n\t\tprofile: \"user\"\n\t};\n\n\tconst { user: loggedInUser } = useContext(AuthContext);\n\n\tconst [user, setUser] = useState(initialState);\n\tconst [selectedQueueIds, setSelectedQueueIds] = useState([]);\n\tconst [showPassword, setShowPassword] = useState(false);\n\tconst [whatsappId, setWhatsappId] = useState(false);\n\tconst {loading, whatsApps} = useWhatsApps();\n\n\tuseEffect(() => {\n\t\tconst fetchUser = async () => {\n\t\t\tif (!userId) return;\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(`/users/${userId}`);\n\t\t\t\tsetUser(prevState => {\n\t\t\t\t\treturn { ...prevState, ...data };\n\t\t\t\t});\n\t\t\t\tconst userQueueIds = data.queues?.map(queue => queue.id);\n\t\t\t\tsetSelectedQueueIds(userQueueIds);\n\t\t\t\tsetWhatsappId(data.whatsappId ? data.whatsappId : '');\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\n\t\tfetchUser();\n\t}, [userId, open]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetUser(initialState);\n\t};\n\n\tconst handleSaveUser = async values => {\n\t\tconst userData = { ...values, whatsappId, queueIds: selectedQueueIds };\n\t\ttry {\n\t\t\tif (userId) {\n\t\t\t\tawait api.put(`/users/${userId}`, userData);\n\t\t\t} else {\n\t\t\t\tawait api.post(\"/users\", userData);\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"userModal.success\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\thandleClose();\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tmaxWidth=\"xs\"\n\t\t\t\tfullWidth\n\t\t\t\tscroll=\"paper\"\n\t\t\t>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{userId\n\t\t\t\t\t\t? `${i18n.t(\"userModal.title.edit\")}`\n\t\t\t\t\t\t: `${i18n.t(\"userModal.title.add\")}`}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={user}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={UserSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveUser(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.name\")}\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.password\")}\n\t\t\t\t\t\t\t\t\t\terror={touched.password && Boolean(errors.password)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.password && errors.password}\n\t\t\t\t\t\t\t\t\t\ttype={showPassword ? 'text' : 'password'}\n\t\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"toggle password visibility\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setShowPassword((e) => !e)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{showPassword ? <VisibilityOff /> : <Visibility />}\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.email\")}\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tclassName={classes.formControl}\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\n\t\t\t\t\t\t\t\t\t\t\tperform=\"user-modal:editProfile\"\n\t\t\t\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"profile-selection-input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.profile\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.profile\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"profile\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"profile-selection-label\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"profile-selection\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"admin\">Admin</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"user\">User</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\n\t\t\t\t\t\t\t\t\tperform=\"user-modal:editQueues\"\n\t\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t\t<QueueSelect\n\t\t\t\t\t\t\t\t\t\t\tselectedQueueIds={selectedQueueIds}\n\t\t\t\t\t\t\t\t\t\t\tonChange={values => setSelectedQueueIds(values)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\n\t\t\t\t\t\t\t\t\tperform=\"user-modal:editQueues\"\n\t\t\t\t\t\t\t\t\tyes={() => (!loading &&\n\t\t\t\t\t\t\t\t\t\t<FormControl variant=\"outlined\" margin=\"dense\" className={classes.maxWidth} fullWidth>\n\t\t\t\t\t\t\t\t\t\t\t<InputLabel>{i18n.t(\"userModal.form.whatsapp\")}</InputLabel>\n\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={whatsappId}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setWhatsappId(e.target.value)}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.whatsapp\")}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={''}>&nbsp;</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t{whatsApps.map((whatsapp) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={whatsapp.id} value={whatsapp.id}>{whatsapp.name}</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{userId\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"userModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"userModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default UserModal;\n","import React from \"react\";\n\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\tbackdrop: {\n\t\tzIndex: theme.zIndex.drawer + 1,\n\t\tcolor: \"#fff\",\n\t},\n}));\n\nconst BackdropLoading = () => {\n\tconst classes = useStyles();\n\treturn (\n\t\t<Backdrop className={classes.backdrop} open={true}>\n\t\t\t<CircularProgress color=\"inherit\" />\n\t\t</Backdrop>\n\t);\n};\n\nexport default BackdropLoading;\n","import React, { useState, useContext, useEffect } from \"react\";\nimport clsx from \"clsx\";\n\nimport {\n  makeStyles,\n  Drawer,\n  AppBar,\n  Toolbar,\n  List,\n  Typography,\n  Divider,\n  MenuItem,\n  IconButton,\n  Menu,\n} from \"@material-ui/core\";\n\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\n\nimport MainListItems from \"./MainListItems\";\nimport NotificationsPopOver from \"../components/NotificationsPopOver\";\nimport UserModal from \"../components/UserModal\";\nimport { AuthContext } from \"../context/Auth/AuthContext\";\nimport BackdropLoading from \"../components/BackdropLoading\";\nimport { i18n } from \"../translate/i18n\";\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    height: \"100vh\",\n    [theme.breakpoints.down(\"sm\")]: {\n      height: \"calc(100vh - 56px)\",\n    },\n  },\n\n  toolbar: {\n    paddingRight: 24, // keep right padding when drawer closed\n  },\n  toolbarIcon: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"flex-end\",\n    padding: \"0 8px\",\n    minHeight: \"48px\",\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginRight: 36,\n  },\n  menuButtonHidden: {\n    display: \"none\",\n  },\n  title: {\n    flexGrow: 1,\n  },\n  drawerPaper: {\n    position: \"relative\",\n    whiteSpace: \"nowrap\",\n    width: drawerWidth,\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  drawerPaperClose: {\n    overflowX: \"hidden\",\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    width: theme.spacing(7),\n    [theme.breakpoints.up(\"sm\")]: {\n      width: theme.spacing(9),\n    },\n  },\n  appBarSpacer: {\n    minHeight: \"48px\",\n  },\n  content: {\n    flex: 1,\n    overflow: \"auto\",\n  },\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n  paper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n  },\n}));\n\nconst LoggedInLayout = ({ children }) => {\n  const classes = useStyles();\n  const [userModalOpen, setUserModalOpen] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [menuOpen, setMenuOpen] = useState(false);\n  const { handleLogout, loading } = useContext(AuthContext);\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [drawerVariant, setDrawerVariant] = useState(\"permanent\");\n  const { user } = useContext(AuthContext);\n\n  useEffect(() => {\n    if (document.body.offsetWidth > 600) {\n      setDrawerOpen(true);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (document.body.offsetWidth < 600) {\n      setDrawerVariant(\"temporary\");\n    } else {\n      setDrawerVariant(\"permanent\");\n    }\n  }, [drawerOpen]);\n\n  const handleMenu = (event) => {\n    setAnchorEl(event.currentTarget);\n    setMenuOpen(true);\n  };\n\n  const handleCloseMenu = () => {\n    setAnchorEl(null);\n    setMenuOpen(false);\n  };\n\n  const handleOpenUserModal = () => {\n    setUserModalOpen(true);\n    handleCloseMenu();\n  };\n\n  const handleClickLogout = () => {\n    handleCloseMenu();\n    handleLogout();\n  };\n\n  const drawerClose = () => {\n    if (document.body.offsetWidth < 600) {\n      setDrawerOpen(false);\n    }\n  };\n\n  if (loading) {\n    return <BackdropLoading />;\n  }\n\n  return (\n    <div className={classes.root}>\n      <Drawer\n        variant={drawerVariant}\n        className={drawerOpen ? classes.drawerPaper : classes.drawerPaperClose}\n        classes={{\n          paper: clsx(\n            classes.drawerPaper,\n            !drawerOpen && classes.drawerPaperClose\n          ),\n        }}\n        open={drawerOpen}\n      >\n        <div className={classes.toolbarIcon}>\n          <IconButton onClick={() => setDrawerOpen(!drawerOpen)}>\n            <ChevronLeftIcon />\n          </IconButton>\n        </div>\n        <Divider />\n        <List>\n          <MainListItems drawerClose={drawerClose} />\n        </List>\n        <Divider />\n      </Drawer>\n      <UserModal\n        open={userModalOpen}\n        onClose={() => setUserModalOpen(false)}\n        userId={user?.id}\n      />\n      <AppBar\n        position=\"absolute\"\n        className={clsx(classes.appBar, drawerOpen && classes.appBarShift)}\n        color={process.env.NODE_ENV === \"development\" ? \"inherit\" : \"primary\"}\n      >\n        <Toolbar variant=\"dense\" className={classes.toolbar}>\n          <IconButton\n            edge=\"start\"\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            onClick={() => setDrawerOpen(!drawerOpen)}\n            className={clsx(\n              classes.menuButton,\n              drawerOpen && classes.menuButtonHidden\n            )}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography\n            component=\"h1\"\n            variant=\"h6\"\n            color=\"inherit\"\n            noWrap\n            className={classes.title}\n          >\n            WhaTicket\n          </Typography>\n          {user.id && <NotificationsPopOver />}\n\n          <div>\n            <IconButton\n              aria-label=\"account of current user\"\n              aria-controls=\"menu-appbar\"\n              aria-haspopup=\"true\"\n              onClick={handleMenu}\n              color=\"inherit\"\n            >\n              <AccountCircle />\n            </IconButton>\n            <Menu\n              id=\"menu-appbar\"\n              anchorEl={anchorEl}\n              getContentAnchorEl={null}\n              anchorOrigin={{\n                vertical: \"bottom\",\n                horizontal: \"right\",\n              }}\n              transformOrigin={{\n                vertical: \"top\",\n                horizontal: \"right\",\n              }}\n              open={menuOpen}\n              onClose={handleCloseMenu}\n            >\n              <MenuItem onClick={handleOpenUserModal}>\n                {i18n.t(\"mainDrawer.appBar.user.profile\")}\n              </MenuItem>\n              <MenuItem onClick={handleClickLogout}>\n                {i18n.t(\"mainDrawer.appBar.user.logout\")}\n              </MenuItem>\n            </Menu>\n          </div>\n        </Toolbar>\n      </AppBar>\n      <main className={classes.content}>\n        <div className={classes.appBarSpacer} />\n\n        {children ? children : null}\n      </main>\n    </div>\n  );\n};\n\nexport default LoggedInLayout;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainContainer: {\n    flex: 1,\n    padding: 16,\n    height: `calc(100% - 48px)`\n  },\n\n  contentWrapper: {\n    height: \"100%\",\n    overflowY: \"hidden\",\n    display: \"flex\",\n    flexDirection: \"column\",\n  },\n}));\n\nconst MainContainer = ({ children }) => {\n  const classes = useStyles();\n\n  return (\n    <Container className={classes.mainContainer} maxWidth={false}>\n      <div className={classes.contentWrapper}>{children}</div>\n    </Container>\n  );\n};\n\nexport default MainContainer;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\tcontactsHeader: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tpadding: \"0px 6px 6px 6px\",\n\t},\n}));\n\nconst MainHeader = ({ children }) => {\n\tconst classes = useStyles();\n\n\treturn <div className={classes.contactsHeader}>{children}</div>;\n};\n\nexport default MainHeader;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\tMainHeaderButtonsWrapper: {\n\t\tflex: \"none\",\n\t\tmarginLeft: \"auto\",\n\t\t\"& > *\": {\n\t\t\tmargin: theme.spacing(1),\n\t\t},\n\t},\n}));\n\nconst MainHeaderButtonsWrapper = ({ children }) => {\n\tconst classes = useStyles();\n\n\treturn <div className={classes.MainHeaderButtonsWrapper}>{children}</div>;\n};\n\nexport default MainHeaderButtonsWrapper;\n","import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\n\nexport default function Title(props) {\n\treturn (\n\t\t<Typography variant=\"h5\" color=\"primary\" gutterBottom>\n\t\t\t{props.children}\n\t\t</Typography>\n\t);\n}\n","import React from \"react\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nimport { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n\tcustomTableCell: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t},\n}));\n\nconst TableRowSkeleton = ({ avatar, columns }) => {\n\tconst classes = useStyles();\n\treturn (\n\t\t<>\n\t\t\t<TableRow>\n\t\t\t\t{avatar && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<TableCell style={{ paddingRight: 0 }}>\n\t\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\t\tanimation=\"wave\"\n\t\t\t\t\t\t\t\tvariant=\"circle\"\n\t\t\t\t\t\t\t\twidth={40}\n\t\t\t\t\t\t\t\theight={40}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t<Skeleton animation=\"wave\" height={30} width={80} />\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{Array.from({ length: columns }, (_, index) => (\n\t\t\t\t\t<TableCell align=\"center\" key={index}>\n\t\t\t\t\t\t<div className={classes.customTableCell}>\n\t\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\t\talign=\"center\"\n\t\t\t\t\t\t\t\tanimation=\"wave\"\n\t\t\t\t\t\t\t\theight={30}\n\t\t\t\t\t\t\t\twidth={80}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</TableCell>\n\t\t\t\t))}\n\t\t\t</TableRow>\n\t\t</>\n\t);\n};\n\nexport default TableRowSkeleton;\n","import React, { useState, useEffect } from \"react\";\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\n\nimport {\n  Dialog,\n  DialogContent,\n  DialogTitle,\n  Button,\n  DialogActions,\n  CircularProgress,\n  TextField,\n  Switch,\n  FormControlLabel,\n  FormControl,\n  FormGroup,\n  Tooltip,\n  Paper,\n  Grid,\n  Checkbox,\n} from \"@material-ui/core\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\nimport QueueSelect from \"../QueueSelect\";\n\nconst longText = `\nDesmarque esta opo para definir um horrio de expediente para os atendimentos.\nQuando um usurio escolher ser direcionado a um atendente, o sistema ir\nverificar o horrio e o dia, se estiver fora do expediente, envia um aviso\nao usurio e no direciona ao atendente escolhido.\n`;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n\n  multFieldLine: {\n    display: \"flex\",\n    \"& > *:not(:last-child)\": {\n      marginRight: theme.spacing(1),\n    },\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n\n  expediente: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  tituloReceberMsg: {\n    fontSize: 12,\n    marginLeft: theme.spacing(1),\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n  },\n  reabrirTicket: {\n    fontSize: 12,\n    display: \"flex\",\n    marginLeft: theme.spacing(2),\n  },\n  textSize: {\n    fontSize: 12,\n  },\n  paperReceberMsg: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n  },\n  diasSemana: {\n    marginLeft: theme.spacing(1),\n  },\n  hora: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n    width: 250,\n  },\n  textoExpediente: {\n    marginTop: theme.spacing(2),\n    marginLeft: theme.spacing(1),\n    marginBottom: theme.spacing(3),\n    width: \"100%\",\n  },\n}));\n\nconst SessionSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n});\n\nconst WhatsAppModal = ({ open, onClose, whatsAppId }) => {\n  const classes = useStyles();\n  const initialState = {\n    name: \"\",\n    greetingMessage: \"\",\n    farewellMessage: \"\",\n    isDefault: false,\n    isMultidevice: true,\n    transferTicketMessage: \"\",\n  };\n  const [whatsApp, setWhatsApp] = useState(initialState);\n  const [selectedQueueIds, setSelectedQueueIds] = useState([]);\n  const [defineWorkHours, SetDefineWorkHours] = useState(false);\n  const [outOfWorkMessage, setOutOfWorkMessage] = useState(\"\");\n  const [startWorkHour, setStartWorkHour] = useState(\"08:00\");\n  const [endWorkHour, setEndWorkHour] = useState(\"17:30\");\n  const [startWorkHourWeekend, setStartWorkHourWeekend] = useState(\"08:00\");\n  const [endWorkHourWeekend, setEndWorkHourWeekend] = useState(\"17:30\");\n  const [seg, setSeg] = useState(true);\n  const [ter, setTer] = useState(true);\n  const [quar, setQuar] = useState(true);\n  const [quin, setQuin] = useState(true);\n  const [sex, setSex] = useState(true);\n  const [sab, setSab] = useState(false);\n  const [dom, setDom] = useState(false);\n\n  useEffect(() => {\n    const fetchSession = async () => {\n      if (!whatsAppId) return;\n\n      try {\n        const { data } = await api.get(`whatsapp/${whatsAppId}`);\n        setWhatsApp(data);\n        setSeg(data.monday);\n        setTer(data.tuesday);\n        setQuar(data.wednesday);\n        setQuin(data.thursday);\n        setSex(data.friday);\n        setSab(data.saturday);\n        setDom(data.sunday);\n        SetDefineWorkHours(data.defineWorkHours);\n        setOutOfWorkMessage(data.outOfWorkMessage);\n        setStartWorkHour(data.startWorkHour);\n        setEndWorkHour(data.endWorkHour);\n        setStartWorkHourWeekend(data.startWorkHourWeekend);\n        setEndWorkHourWeekend(data.endWorkHourWeekend);\n        const whatsQueueIds = data.queues?.map((queue) => queue.id);\n        setSelectedQueueIds(whatsQueueIds);\n      } catch (err) {\n        toastError(err);\n      }\n    };\n    fetchSession();\n  }, [whatsAppId]);\n\n  const handleChange = (e) => {\n    if (e.target.value === \"MON\") {\n      setSeg(e.target.checked);\n    }\n    if (e.target.value === \"TUE\") {\n      setTer(e.target.checked);\n    }\n    if (e.target.value === \"WED\") {\n      setQuar(e.target.checked);\n    }\n    if (e.target.value === \"THU\") {\n      setQuin(e.target.checked);\n    }\n    if (e.target.value === \"FRI\") {\n      setSex(e.target.checked);\n    }\n    if (e.target.value === \"SAT\") {\n      setSab(e.target.checked);\n    }\n    if (e.target.value === \"SUN\") {\n      setDom(e.target.checked);\n    }\n\n    if (e.target.value === \"defineWorkHours\") {\n      SetDefineWorkHours(e.target.checked);\n    }\n  };\n\n  const handleSaveWhatsApp = async (values) => {\n    const whatsappData = {\n      ...values,\n      queueIds: selectedQueueIds,\n      startWorkHour: startWorkHour,\n      endWorkHour: endWorkHour,\n      defineWorkHours: defineWorkHours,\n      outOfWorkMessage: outOfWorkMessage,\n      startWorkHourWeekend: startWorkHourWeekend,\n      endWorkHourWeekend: endWorkHourWeekend,\n      monday: seg,\n      tuesday: ter,\n      wednesday: quar,\n      thursday: quin,\n      friday: sex,\n      saturday: sab,\n      sunday: dom,\n    };\n\n    try {\n      if (whatsAppId) {\n        await api.put(`/whatsapp/${whatsAppId}`, whatsappData);\n      } else {\n        await api.post(\"/whatsapp\", whatsappData);\n      }\n      toast.success(i18n.t(\"whatsappModal.success\"));\n      handleClose();\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleClose = () => {\n    onClose();\n    setWhatsApp(initialState);\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        maxWidth=\"sm\"\n        fullWidth\n        scroll=\"paper\"\n      >\n        <DialogTitle>\n          {whatsAppId\n            ? i18n.t(\"whatsappModal.title.edit\")\n            : i18n.t(\"whatsappModal.title.add\")}\n        </DialogTitle>\n        <Formik\n          initialValues={whatsApp}\n          enableReinitialize={true}\n          validationSchema={SessionSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveWhatsApp(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ values, touched, errors, isSubmitting }) => (\n            <Form>\n              <DialogContent dividers>\n                <div className={classes.multFieldLine}>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"whatsappModal.form.name\")}\n                    autoFocus\n                    name=\"name\"\n                    error={touched.name && Boolean(errors.name)}\n                    helperText={touched.name && errors.name}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    className={classes.textField}\n                  />\n                  <FormControlLabel\n                    control={\n                      <Field\n                        as={Switch}\n                        color=\"primary\"\n                        name=\"isDefault\"\n                        checked={values.isDefault}\n                      />\n                    }\n                    label={i18n.t(\"whatsappModal.form.default\")}\n                  />\n\n              \n                </div>\n                <div>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"queueModal.form.greetingMessage\")}\n                    type=\"greetingMessage\"\n                    multiline\n                    rows={5}\n                    fullWidth\n                    name=\"greetingMessage\"\n                    error={\n                      touched.greetingMessage && Boolean(errors.greetingMessage)\n                    }\n                    helperText={\n                      touched.greetingMessage && errors.greetingMessage\n                    }\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                  />\n                </div>\n                <div>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"whatsappModal.form.farewellMessage\")}\n                    type=\"farewellMessage\"\n                    multiline\n                    rows={5}\n                    fullWidth\n                    name=\"farewellMessage\"\n                    error={\n                      touched.farewellMessage && Boolean(errors.farewellMessage)\n                    }\n                    helperText={\n                      touched.farewellMessage && errors.farewellMessage\n                    }\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                  />\n                </div>\n\n                <div>\n                  <Field\n                    as={TextField}\n                    label=\"Mensagem de trasnferencia de atendimento\"\n                    type=\"transferTicketMessage\"\n                    multiline\n                    rows={5}\n                    fullWidth\n                    name=\"transferTicketMessage\"\n                    error={\n                      touched.transferTicketMessage &&\n                      Boolean(errors.transferTicketMessage)\n                    }\n                    helperText={\n                      touched.transferTicketMessage &&\n                      errors.transferTicketMessage\n                    }\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                  />\n                </div>\n\n                <div>\n                  {/* Expediente */}\n\n                  {defineWorkHours === true ? (\n                    <div\n                    // className={classes.textoExpediente}\n                    >\n                      <TextField\n                        label={i18n.t(\"queueModal.form.outOfWorkMessage\")}\n                        rows={4}\n                        multiline\n                        fullWidth\n                        name=\"outOfWorkMessage\"\n                        value={outOfWorkMessage}\n                        error={\n                          touched.outOfWorkMessage &&\n                          Boolean(errors.outOfWorkMessage)\n                        }\n                        helperText={\n                          touched.outOfWorkMessage && errors.outOfWorkMessage\n                        }\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                        onChange={(e) => setOutOfWorkMessage(e.target.value)}\n                      />\n                    </div>\n                  ) : (\n                    \"\"\n                  )}\n                  <Grid container spacing={2}>\n                    <Grid item xs={12} sm={12} className={classes.diasSemana}>\n                      <FormControl component=\"fieldset\">\n                        <FormGroup\n                          aria-label=\"position\"\n                          row\n                          sx={{\n                            width: {\n                              xs: 100,\n                              sm: 200,\n                              md: 300,\n                              lg: 600,\n                              xl: 700,\n                            },\n                          }}\n                        >\n                          <Tooltip title={longText} placement=\"top\">\n                            <FormControlLabel\n                              value=\"defineWorkHours\"\n                              control={\n                                <Checkbox\n                                  size=\"small\"\n                                  checked={defineWorkHours}\n                                  onChange={handleChange}\n                                />\n                              }\n                              label=\"Definir horrio de expediente\"\n                              labelPlacement=\"end\"\n                            />\n                          </Tooltip>\n                        </FormGroup>\n                      </FormControl>\n                    </Grid>\n                    {defineWorkHours === true ? (\n                      <>\n                        <Grid item xs={12} sm={6}>\n                          <TextField\n                            className={classes.hora}\n                            type=\"time\"\n                            label={i18n.t(\"queueModal.form.startWorkHour\")}\n                            name=\"startWorkHour\"\n                            value={startWorkHour}\n                            onChange={(e) => setStartWorkHour(e.target.value)}\n                          />\n                        </Grid>\n                        <Grid item xs={12} sm={6}>\n                          <TextField\n                            className={classes.hora}\n                            type=\"time\"\n                            label={i18n.t(\"queueModal.form.endWorkHour\")}\n                            name=\"endWorkHour\"\n                            value={endWorkHour}\n                            onChange={(e) => setEndWorkHour(e.target.value)}\n                          />\n                        </Grid>\n                      </>\n                    ) : (\n                      \"\"\n                    )}\n                  </Grid>\n                  {defineWorkHours === true ? (\n                    <>\n                      <Grid item xs={12} sm={12} className={classes.diasSemana}>\n                        <FormControl component=\"fieldset\">\n                          <FormGroup\n                            aria-label=\"position\"\n                            row\n                            sx={{\n                              width: {\n                                xs: 100,\n                                sm: 200,\n                                md: 300,\n                                lg: 600,\n                                xl: 700,\n                              },\n                            }}\n                          >\n                            <FormControlLabel\n                              value=\"MON\"\n                              control={\n                                <Checkbox\n                                  size=\"small\"\n                                  checked={seg}\n                                  onChange={handleChange}\n                                />\n                              }\n                              label={i18n.t(\"queueModal.form.monday\")}\n                              labelPlacement=\"end\"\n                            />\n                            <FormControlLabel\n                              value=\"TUE\"\n                              control={\n                                <Checkbox\n                                  size=\"small\"\n                                  checked={ter}\n                                  onChange={handleChange}\n                                />\n                              }\n                              label={i18n.t(\"queueModal.form.tuesday\")}\n                              labelPlacement=\"end\"\n                            />\n                            <FormControlLabel\n                              value=\"WED\"\n                              control={\n                                <Checkbox\n                                  size=\"small\"\n                                  checked={quar}\n                                  onChange={handleChange}\n                                />\n                              }\n                              label={i18n.t(\"queueModal.form.wednesday\")}\n                              labelPlacement=\"end\"\n                            />\n                            <FormControlLabel\n                              value=\"THU\"\n                              control={\n                                <Checkbox\n                                  size=\"small\"\n                                  checked={quin}\n                                  onChange={handleChange}\n                                />\n                              }\n                              label={i18n.t(\"queueModal.form.thursday\")}\n                              labelPlacement=\"end\"\n                            />\n                            <FormControlLabel\n                              value=\"FRI\"\n                              control={\n                                <Checkbox\n                                  size=\"small\"\n                                  checked={sex}\n                                  onChange={handleChange}\n                                />\n                              }\n                              label={i18n.t(\"queueModal.form.friday\")}\n                              labelPlacement=\"end\"\n                            />\n                          </FormGroup>\n                        </FormControl>\n                      </Grid>\n                    </>\n                  ) : (\n                    \"\"\n                  )}\n                  {defineWorkHours === true ? (\n                    <>\n                      <Paper>\n                        <Grid container spacing={2} style={{ marginTop: 10 }}>\n                          <Grid item xs={12} sm={6}>\n                            <TextField\n                              className={classes.hora}\n                              type=\"time\"\n                              label={i18n.t(\"queueModal.form.startWorkHour\")}\n                              name=\"StartWorkHourWeekend\"\n                              value={startWorkHourWeekend}\n                              onChange={(e) =>\n                                setStartWorkHourWeekend(e.target.value)\n                              }\n                            />\n                          </Grid>\n                          <Grid item xs={12} sm={6}>\n                            <TextField\n                              className={classes.hora}\n                              type=\"time\"\n                              label={i18n.t(\"queueModal.form.endWorkHour\")}\n                              name=\"EndWorkHourWeekend\"\n                              value={endWorkHourWeekend}\n                              onChange={(e) =>\n                                setEndWorkHourWeekend(e.target.value)\n                              }\n                            />\n                          </Grid>\n                        </Grid>\n                        <Grid\n                          item\n                          xs={12}\n                          sm={12}\n                          className={classes.diasSemana}\n                        >\n                          <FormControl component=\"fieldset\">\n                            <FormGroup\n                              aria-label=\"position\"\n                              row\n                              sx={{\n                                width: {\n                                  xs: 100,\n                                  sm: 200,\n                                  md: 300,\n                                  lg: 600,\n                                  xl: 700,\n                                },\n                              }}\n                            >\n                              <FormControlLabel\n                                value=\"SAT\"\n                                control={\n                                  <Checkbox\n                                    size=\"small\"\n                                    checked={sab}\n                                    onChange={handleChange}\n                                  />\n                                }\n                                label={i18n.t(\"queueModal.form.saturday\")}\n                                labelPlacement=\"end\"\n                              />\n                              <FormControlLabel\n                                value=\"SUN\"\n                                control={\n                                  <Checkbox\n                                    size=\"small\"\n                                    checked={dom}\n                                    onChange={handleChange}\n                                  />\n                                }\n                                label={i18n.t(\"queueModal.form.sunday\")}\n                                labelPlacement=\"end\"\n                              />\n                            </FormGroup>\n                          </FormControl>\n                        </Grid>\n                      </Paper>\n                    </>\n                  ) : (\n                    \"\"\n                  )}\n                </div>\n\n                <QueueSelect\n                  selectedQueueIds={selectedQueueIds}\n                  onChange={(selectedIds) => setSelectedQueueIds(selectedIds)}\n                />\n              </DialogContent>\n              <DialogActions>\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"whatsappModal.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {whatsAppId\n                    ? i18n.t(\"whatsappModal.buttons.okEdit\")\n                    : i18n.t(\"whatsappModal.buttons.okAdd\")}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default React.memo(WhatsAppModal);\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nconst ConfirmationModal = ({ title, children, open, onClose, onConfirm }) => {\n\treturn (\n\t\t<Dialog\n\t\t\topen={open}\n\t\t\tonClose={() => onClose(false)}\n\t\t\taria-labelledby=\"confirm-dialog\"\n\t\t>\n\t\t\t<DialogTitle id=\"confirm-dialog\">{title}</DialogTitle>\n\t\t\t<DialogContent dividers>\n\t\t\t\t<Typography>{children}</Typography>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tonClick={() => onClose(false)}\n\t\t\t\t\tcolor=\"default\"\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"confirmationModal.buttons.cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tonClose(false);\n\t\t\t\t\t\tonConfirm();\n\t\t\t\t\t}}\n\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"confirmationModal.buttons.confirm\")}\n\t\t\t\t</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t);\n};\n\nexport default ConfirmationModal;\n","import React, { useEffect, useState } from \"react\";\nimport QRCode from \"qrcode.react\";\nimport openSocket from \"../../services/socket-io\";\nimport toastError from \"../../errors/toastError\";\n\nimport { Dialog, DialogContent, Paper, Typography } from \"@material-ui/core\";\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\n\nconst QrcodeModal = ({ open, onClose, whatsAppId }) => {\n\tconst [qrCode, setQrCode] = useState(\"\");\n\n\tuseEffect(() => {\n\t\tconst fetchSession = async () => {\n\t\t\tif (!whatsAppId) return;\n\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(`/whatsapp/${whatsAppId}`);\n\t\t\t\tsetQrCode(data.qrcode);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\t\tfetchSession();\n\t}, [whatsAppId]);\n\n\tuseEffect(() => {\n\t\tif (!whatsAppId) return;\n\t\tconst socket = openSocket();\n\n\t\tsocket.on(\"whatsappSession\", data => {\n\t\t\tif (data.action === \"update\" && data.session.id === whatsAppId) {\n\t\t\t\tsetQrCode(data.session.qrcode);\n\t\t\t}\n\n\t\t\tif (data.action === \"update\" && data.session.qrcode === \"\") {\n\t\t\t\tonClose();\n\t\t\t}\n\t\t});\n\n\t\treturn () => {\n\t\t\tsocket.disconnect();\n\t\t};\n\t}, [whatsAppId, onClose]);\n\n\treturn (\n\t\t<Dialog open={open} onClose={onClose} maxWidth=\"lg\" scroll=\"paper\">\n\t\t\t<DialogContent>\n\t\t\t\t<Paper elevation={0}>\n\t\t\t\t\t<Typography color=\"primary\" gutterBottom>\n\t\t\t\t\t\t{i18n.t(\"qrCode.message\")}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t{qrCode ? (\n\t\t\t\t\t\t<QRCode value={qrCode} size={256} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<span>Waiting for QR Code</span>\n\t\t\t\t\t)}\n\t\t\t\t</Paper>\n\t\t\t</DialogContent>\n\t\t</Dialog>\n\t);\n};\n\nexport default React.memo(QrcodeModal);\n","import React, { useState, useCallback, useContext } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { format, parseISO } from \"date-fns\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport {\n\tButton,\n\tTableBody,\n\tTableRow,\n\tTableCell,\n\tIconButton,\n\tTable,\n\tTableHead,\n\tPaper,\n\tTooltip,\n\tTypography,\n\tCircularProgress,\n} from \"@material-ui/core\";\nimport {\n\tEdit,\n\tCheckCircle,\n\tSignalCellularConnectedNoInternet2Bar,\n\tSignalCellularConnectedNoInternet0Bar,\n\tSignalCellular4Bar,\n\tCropFree,\n\tDeleteOutline,\n} from \"@material-ui/icons\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\n\nimport api from \"../../services/api\";\nimport WhatsAppModal from \"../../components/WhatsAppModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport QrcodeModal from \"../../components/QrcodeModal\";\nimport { i18n } from \"../../translate/i18n\";\nimport { WhatsAppsContext } from \"../../context/WhatsApp/WhatsAppsContext\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles(theme => ({\n\tmainPaper: {\n\t\tflex: 1,\n\t\tpadding: theme.spacing(1),\n\t\toverflowY: \"scroll\",\n\t\t...theme.scrollbarStyles,\n\t},\n\tcustomTableCell: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t},\n\ttooltip: {\n\t\tbackgroundColor: \"#f5f5f9\",\n\t\tcolor: \"rgba(0, 0, 0, 0.87)\",\n\t\tfontSize: theme.typography.pxToRem(14),\n\t\tborder: \"1px solid #dadde9\",\n\t\tmaxWidth: 450,\n\t},\n\ttooltipPopper: {\n\t\ttextAlign: \"center\",\n\t},\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t},\n}));\n\nconst CustomToolTip = ({ title, content, children }) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Tooltip\n\t\t\tarrow\n\t\t\tclasses={{\n\t\t\t\ttooltip: classes.tooltip,\n\t\t\t\tpopper: classes.tooltipPopper,\n\t\t\t}}\n\t\t\ttitle={\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<Typography gutterBottom color=\"inherit\">\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t{content && <Typography>{content}</Typography>}\n\t\t\t\t</React.Fragment>\n\t\t\t}\n\t\t>\n\t\t\t{children}\n\t\t</Tooltip>\n\t);\n};\n\nconst Connections = () => {\n\tconst classes = useStyles();\n\n\tconst { whatsApps, loading } = useContext(WhatsAppsContext);\n\tconst [whatsAppModalOpen, setWhatsAppModalOpen] = useState(false);\n\tconst [qrModalOpen, setQrModalOpen] = useState(false);\n\tconst [selectedWhatsApp, setSelectedWhatsApp] = useState(null);\n\tconst [confirmModalOpen, setConfirmModalOpen] = useState(false);\n\tconst confirmationModalInitialState = {\n\t\taction: \"\",\n\t\ttitle: \"\",\n\t\tmessage: \"\",\n\t\twhatsAppId: \"\",\n\t\topen: false,\n\t};\n\tconst [confirmModalInfo, setConfirmModalInfo] = useState(\n\t\tconfirmationModalInitialState\n\t);\n\n\tconst handleStartWhatsAppSession = async whatsAppId => {\n\t\ttry {\n\t\t\tawait api.post(`/whatsappsession/${whatsAppId}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst handleRequestNewQrCode = async whatsAppId => {\n\t\ttry {\n\t\t\tawait api.put(`/whatsappsession/${whatsAppId}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst handleOpenWhatsAppModal = () => {\n\t\tsetSelectedWhatsApp(null);\n\t\tsetWhatsAppModalOpen(true);\n\t};\n\n\tconst handleCloseWhatsAppModal = useCallback(() => {\n\t\tsetWhatsAppModalOpen(false);\n\t\tsetSelectedWhatsApp(null);\n\t}, [setSelectedWhatsApp, setWhatsAppModalOpen]);\n\n\tconst handleOpenQrModal = whatsApp => {\n\t\tsetSelectedWhatsApp(whatsApp);\n\t\tsetQrModalOpen(true);\n\t};\n\n\tconst handleCloseQrModal = useCallback(() => {\n\t\tsetSelectedWhatsApp(null);\n\t\tsetQrModalOpen(false);\n\t}, [setQrModalOpen, setSelectedWhatsApp]);\n\n\tconst handleEditWhatsApp = whatsApp => {\n\t\tsetSelectedWhatsApp(whatsApp);\n\t\tsetWhatsAppModalOpen(true);\n\t};\n\n\tconst handleOpenConfirmationModal = (action, whatsAppId) => {\n\t\tif (action === \"disconnect\") {\n\t\t\tsetConfirmModalInfo({\n\t\t\t\taction: action,\n\t\t\t\ttitle: i18n.t(\"connections.confirmationModal.disconnectTitle\"),\n\t\t\t\tmessage: i18n.t(\"connections.confirmationModal.disconnectMessage\"),\n\t\t\t\twhatsAppId: whatsAppId,\n\t\t\t});\n\t\t}\n\n\t\tif (action === \"delete\") {\n\t\t\tsetConfirmModalInfo({\n\t\t\t\taction: action,\n\t\t\t\ttitle: i18n.t(\"connections.confirmationModal.deleteTitle\"),\n\t\t\t\tmessage: i18n.t(\"connections.confirmationModal.deleteMessage\"),\n\t\t\t\twhatsAppId: whatsAppId,\n\t\t\t});\n\t\t}\n\t\tsetConfirmModalOpen(true);\n\t};\n\n\tconst handleSubmitConfirmationModal = async () => {\n\t\tif (confirmModalInfo.action === \"disconnect\") {\n\t\t\ttry {\n\t\t\t\tawait api.delete(`/whatsappsession/${confirmModalInfo.whatsAppId}`);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t}\n\n\t\tif (confirmModalInfo.action === \"delete\") {\n\t\t\ttry {\n\t\t\t\tawait api.delete(`/whatsapp/${confirmModalInfo.whatsAppId}`);\n\t\t\t\ttoast.success(i18n.t(\"connections.toasts.deleted\"));\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t}\n\n\t\tsetConfirmModalInfo(confirmationModalInitialState);\n\t};\n\n\tconst renderActionButtons = whatsApp => {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{whatsApp.status === \"qrcode\" && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tonClick={() => handleOpenQrModal(whatsApp)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"connections.buttons.qrcode\")}\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"DISCONNECTED\" && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tonClick={() => handleStartWhatsAppSession(whatsApp.id)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{i18n.t(\"connections.buttons.tryAgain\")}\n\t\t\t\t\t\t</Button>{\" \"}\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\tonClick={() => handleRequestNewQrCode(whatsApp.id)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{i18n.t(\"connections.buttons.newQr\")}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{(whatsApp.status === \"CONNECTED\" ||\n\t\t\t\t\twhatsApp.status === \"PAIRING\" ||\n\t\t\t\t\twhatsApp.status === \"TIMEOUT\") && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\thandleOpenConfirmationModal(\"disconnect\", whatsApp.id);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"connections.buttons.disconnect\")}\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"OPENING\" && (\n\t\t\t\t\t<Button size=\"small\" variant=\"outlined\" disabled color=\"default\">\n\t\t\t\t\t\t{i18n.t(\"connections.buttons.connecting\")}\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t</>\n\t\t);\n\t};\n\n\tconst renderStatusToolTips = whatsApp => {\n\t\treturn (\n\t\t\t<div className={classes.customTableCell}>\n\t\t\t\t{whatsApp.status === \"DISCONNECTED\" && (\n\t\t\t\t\t<CustomToolTip\n\t\t\t\t\t\ttitle={i18n.t(\"connections.toolTips.disconnected.title\")}\n\t\t\t\t\t\tcontent={i18n.t(\"connections.toolTips.disconnected.content\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SignalCellularConnectedNoInternet0Bar color=\"secondary\" />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"OPENING\" && (\n\t\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"qrcode\" && (\n\t\t\t\t\t<CustomToolTip\n\t\t\t\t\t\ttitle={i18n.t(\"connections.toolTips.qrcode.title\")}\n\t\t\t\t\t\tcontent={i18n.t(\"connections.toolTips.qrcode.content\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<CropFree />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"CONNECTED\" && (\n\t\t\t\t\t<CustomToolTip title={i18n.t(\"connections.toolTips.connected.title\")}>\n\t\t\t\t\t\t<SignalCellular4Bar style={{ color: green[500] }} />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t\t{(whatsApp.status === \"TIMEOUT\" || whatsApp.status === \"PAIRING\") && (\n\t\t\t\t\t<CustomToolTip\n\t\t\t\t\t\ttitle={i18n.t(\"connections.toolTips.timeout.title\")}\n\t\t\t\t\t\tcontent={i18n.t(\"connections.toolTips.timeout.content\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SignalCellularConnectedNoInternet2Bar color=\"secondary\" />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t};\n\n\treturn (\n\t\t<MainContainer>\n\t\t\t<ConfirmationModal\n\t\t\t\ttitle={confirmModalInfo.title}\n\t\t\t\topen={confirmModalOpen}\n\t\t\t\tonClose={setConfirmModalOpen}\n\t\t\t\tonConfirm={handleSubmitConfirmationModal}\n\t\t\t>\n\t\t\t\t{confirmModalInfo.message}\n\t\t\t</ConfirmationModal>\n\t\t\t<QrcodeModal\n\t\t\t\topen={qrModalOpen}\n\t\t\t\tonClose={handleCloseQrModal}\n\t\t\t\twhatsAppId={!whatsAppModalOpen && selectedWhatsApp?.id}\n\t\t\t/>\n\t\t\t<WhatsAppModal\n\t\t\t\topen={whatsAppModalOpen}\n\t\t\t\tonClose={handleCloseWhatsAppModal}\n\t\t\t\twhatsAppId={!qrModalOpen && selectedWhatsApp?.id}\n\t\t\t/>\n\t\t\t<MainHeader>\n\t\t\t\t<Title>{i18n.t(\"connections.title\")}</Title>\n\t\t\t\t<MainHeaderButtonsWrapper>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tonClick={handleOpenWhatsAppModal}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"connections.buttons.add\")}\n\t\t\t\t\t</Button>\n\t\t\t\t</MainHeaderButtonsWrapper>\n\t\t\t</MainHeader>\n\t\t\t<Paper className={classes.mainPaper} variant=\"outlined\">\n\t\t\t\t<Table size=\"small\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.name\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.status\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.session\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.lastUpdate\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.default\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.actions\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{loading ? (\n\t\t\t\t\t\t\t<TableRowSkeleton />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{whatsApps?.length > 0 &&\n\t\t\t\t\t\t\t\t\twhatsApps.map(whatsApp => (\n\t\t\t\t\t\t\t\t\t\t<TableRow key={whatsApp.id}>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">{whatsApp.name}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{renderStatusToolTips(whatsApp)}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{renderActionButtons(whatsApp)}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{format(parseISO(whatsApp.updatedAt), \"dd/MM/yy HH:mm\")}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{whatsApp.isDefault && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className={classes.customTableCell}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckCircle style={{ color: green[500] }} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleEditWhatsApp(whatsApp)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={e => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleOpenConfirmationModal(\"delete\", whatsApp.id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteOutline />\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</Paper>\n\t\t</MainContainer>\n\t);\n};\n\nexport default Connections;\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, FieldArray, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\ttextField: {\n\t\tmarginRight: theme.spacing(1),\n\t\tflex: 1,\n\t},\n\n\textraAttr: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n}));\n\nconst ContactSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tnumber: Yup.string().min(8, \"Too Short!\").max(50, \"Too Long!\"),\n\temail: Yup.string().email(\"Invalid email\"),\n});\n\nconst ContactModal = ({ open, onClose, contactId, initialValues, onSave }) => {\n\tconst classes = useStyles();\n\tconst isMounted = useRef(true);\n\n\tconst initialState = {\n\t\tname: \"\",\n\t\tnumber: \"\",\n\t\temail: \"\",\n\t};\n\n\tconst [contact, setContact] = useState(initialState);\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tisMounted.current = false;\n\t\t};\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst fetchContact = async () => {\n\t\t\tif (initialValues) {\n\t\t\t\tsetContact(prevState => {\n\t\t\t\t\treturn { ...prevState, ...initialValues };\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (!contactId) return;\n\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(`/contacts/${contactId}`);\n\t\t\t\tif (isMounted.current) {\n\t\t\t\t\tsetContact(data);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\n\t\tfetchContact();\n\t}, [contactId, open, initialValues]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetContact(initialState);\n\t};\n\n\tconst handleSaveContact = async values => {\n\t\ttry {\n\t\t\tif (contactId) {\n\t\t\t\tawait api.put(`/contacts/${contactId}`, values);\n\t\t\t\thandleClose();\n\t\t\t} else {\n\t\t\t\tconst { data } = await api.post(\"/contacts\", values);\n\t\t\t\tif (onSave) {\n\t\t\t\t\tonSave(data);\n\t\t\t\t}\n\t\t\t\thandleClose();\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"contactModal.success\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog open={open} onClose={handleClose} maxWidth=\"lg\" scroll=\"paper\">\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{contactId\n\t\t\t\t\t\t? `${i18n.t(\"contactModal.title.edit\")}`\n\t\t\t\t\t\t: `${i18n.t(\"contactModal.title.add\")}`}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={contact}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={ContactSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveContact(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ values, errors, touched, isSubmitting }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" gutterBottom>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.mainInfo\")}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.name\")}\n\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.number\")}\n\t\t\t\t\t\t\t\t\tname=\"number\"\n\t\t\t\t\t\t\t\t\terror={touched.number && Boolean(errors.number)}\n\t\t\t\t\t\t\t\t\thelperText={touched.number && errors.number}\n\t\t\t\t\t\t\t\t\tplaceholder=\"5513912344321\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.email\")}\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Email address\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tstyle={{ marginBottom: 8, marginTop: 12 }}\n\t\t\t\t\t\t\t\t\tvariant=\"subtitle1\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.extraInfo\")}\n\t\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t\t<FieldArray name=\"extraInfo\">\n\t\t\t\t\t\t\t\t\t{({ push, remove }) => (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t{values.extraInfo &&\n\t\t\t\t\t\t\t\t\t\t\t\tvalues.extraInfo.length > 0 &&\n\t\t\t\t\t\t\t\t\t\t\t\tvalues.extraInfo.map((info, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.extraAttr}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={`${index}-info`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.extraName\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`extraInfo[${index}].name`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.extraValue\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`extraInfo[${index}].value`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => remove(index)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteOutlineIcon />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t<div className={classes.extraAttr}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ flex: 1, marginTop: 8 }}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => push({ name: \"\", value: \"\" })}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{`+ ${i18n.t(\"contactModal.buttons.addExtraInfo\")}`}\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</FieldArray>\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{contactId\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"contactModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"contactModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default ContactModal;\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\nimport openSocket from \"../../services/socket-io\";\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport api from \"../../services/api\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport ContactModal from \"../../components/ContactModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal/\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport MainContainer from \"../../components/MainContainer\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../../components/Can\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CONTACTS\") {\n    const contacts = action.payload;\n    const newContacts = [];\n\n    contacts.forEach((contact) => {\n      const contactIndex = state.findIndex((c) => c.id === contact.id);\n      if (contactIndex !== -1) {\n        state[contactIndex] = contact;\n      } else {\n        newContacts.push(contact);\n      }\n    });\n\n    return [...state, ...newContacts];\n  }\n\n  if (action.type === \"UPDATE_CONTACTS\") {\n    const contact = action.payload;\n    const contactIndex = state.findIndex((c) => c.id === contact.id);\n\n    if (contactIndex !== -1) {\n      state[contactIndex] = contact;\n      return [...state];\n    } else {\n      return [contact, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CONTACT\") {\n    const contactId = action.payload;\n\n    const contactIndex = state.findIndex((c) => c.id === contactId);\n    if (contactIndex !== -1) {\n      state.splice(contactIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Contacts = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const { user } = useContext(AuthContext);\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [contacts, dispatch] = useReducer(reducer, []);\n  const [selectedContactId, setSelectedContactId] = useState(null);\n  const [contactModalOpen, setContactModalOpen] = useState(false);\n  const [deletingContact, setDeletingContact] = useState(null);\n  const [confirmOpen, setConfirmOpen] = useState(false);\n  const [hasMore, setHasMore] = useState(false);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContacts = async () => {\n        try {\n          const { data } = await api.get(\"/contacts/\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_CONTACTS\", payload: data.contacts });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchContacts();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const socket = openSocket();\n\n    socket.on(\"contact\", (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_CONTACTS\", payload: data.contact });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_CONTACT\", payload: +data.contactId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleOpenContactModal = () => {\n    setSelectedContactId(null);\n    setContactModalOpen(true);\n  };\n\n  const handleCloseContactModal = () => {\n    setSelectedContactId(null);\n    setContactModalOpen(false);\n  };\n\n  const handleSaveTicket = async (contactId) => {\n    if (!contactId) return;\n    setLoading(true);\n    try {\n      const { data: ticket } = await api.post(\"/tickets\", {\n        contactId: contactId,\n        userId: user?.id,\n        status: \"open\",\n      });\n      history.push(`/tickets/${ticket.id}`);\n    } catch (err) {\n      toastError(err);\n    }\n    setLoading(false);\n  };\n\n  const hadleEditContact = (contactId) => {\n    setSelectedContactId(contactId);\n    setContactModalOpen(true);\n  };\n\n  const handleDeleteContact = async (contactId) => {\n    try {\n      await api.delete(`/contacts/${contactId}`);\n      toast.success(i18n.t(\"contacts.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingContact(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const handleimportContact = async () => {\n    try {\n      await api.post(\"/contacts/import\");\n      history.go(0);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer className={classes.mainContainer}>\n      <ContactModal\n        open={contactModalOpen}\n        onClose={handleCloseContactModal}\n        aria-labelledby=\"form-dialog-title\"\n        contactId={selectedContactId}\n      ></ContactModal>\n      <ConfirmationModal\n        title={\n          deletingContact\n            ? `${i18n.t(\"contacts.confirmationModal.deleteTitle\")} ${\n                deletingContact.name\n              }?`\n            : `${i18n.t(\"contacts.confirmationModal.importTitlte\")}`\n        }\n        open={confirmOpen}\n        onClose={setConfirmOpen}\n        onConfirm={(e) =>\n          deletingContact\n            ? handleDeleteContact(deletingContact.id)\n            : handleimportContact()\n        }\n      >\n        {deletingContact\n          ? `${i18n.t(\"contacts.confirmationModal.deleteMessage\")}`\n          : `${i18n.t(\"contacts.confirmationModal.importMessage\")}`}\n      </ConfirmationModal>\n      <MainHeader>\n        <Title>{i18n.t(\"contacts.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={(e) => setConfirmOpen(true)}\n          >\n            {i18n.t(\"contacts.buttons.import\")}\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenContactModal}\n          >\n            {i18n.t(\"contacts.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell padding=\"checkbox\" />\n              <TableCell>{i18n.t(\"contacts.table.name\")}</TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contacts.table.whatsapp\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contacts.table.email\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contacts.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {contacts.map((contact) => (\n                <TableRow key={contact.id}>\n                  <TableCell style={{ paddingRight: 0 }}>\n                    {<Avatar src={contact.profilePicUrl} />}\n                  </TableCell>\n                  <TableCell>{contact.name}</TableCell>\n                  <TableCell align=\"center\">{contact.number}</TableCell>\n                  <TableCell align=\"center\">{contact.email}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleSaveTicket(contact.id)}\n                    >\n                      <WhatsAppIcon />\n                    </IconButton>\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => hadleEditContact(contact.id)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n                    <Can\n                      role={user.profile}\n                      perform=\"contacts-page:deleteContact\"\n                      yes={() => (\n                        <IconButton\n                          size=\"small\"\n                          onClick={(e) => {\n                            setConfirmOpen(true);\n                            setDeletingContact(contact);\n                          }}\n                        >\n                          <DeleteOutlineIcon />\n                        </IconButton>\n                      )}\n                    />\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton avatar columns={3} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Contacts;\n","import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst Title = props => {\n\treturn (\n\t\t<Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\n\t\t\t{props.children}\n\t\t</Typography>\n\t);\n};\n\nexport default Title;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport {\n\tBarChart,\n\tCartesianGrid,\n\tBar,\n\tXAxis,\n\tYAxis,\n\tLabel,\n\tResponsiveContainer,\n} from \"recharts\";\nimport { startOfHour, parseISO, format } from \"date-fns\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport Title from \"./Title\";\nimport useTickets from \"../../hooks/useTickets\";\n\nconst Chart = () => {\n\tconst theme = useTheme();\n\n\tconst date = useRef(new Date().toISOString());\n\tconst { tickets } = useTickets({ date: date.current });\n\n\tconst [chartData, setChartData] = useState([\n\t\t{ time: \"08:00\", amount: 0 },\n\t\t{ time: \"09:00\", amount: 0 },\n\t\t{ time: \"10:00\", amount: 0 },\n\t\t{ time: \"11:00\", amount: 0 },\n\t\t{ time: \"12:00\", amount: 0 },\n\t\t{ time: \"13:00\", amount: 0 },\n\t\t{ time: \"14:00\", amount: 0 },\n\t\t{ time: \"15:00\", amount: 0 },\n\t\t{ time: \"16:00\", amount: 0 },\n\t\t{ time: \"17:00\", amount: 0 },\n\t\t{ time: \"18:00\", amount: 0 },\n\t\t{ time: \"19:00\", amount: 0 },\n\t]);\n\n\tuseEffect(() => {\n\t\tsetChartData(prevState => {\n\t\t\tlet aux = [...prevState];\n\n\t\t\taux.forEach(a => {\n\t\t\t\ttickets.forEach(ticket => {\n\t\t\t\t\tformat(startOfHour(parseISO(ticket.createdAt)), \"HH:mm\") === a.time &&\n\t\t\t\t\t\ta.amount++;\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn aux;\n\t\t});\n\t}, [tickets]);\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<Title>{`${i18n.t(\"dashboard.charts.perDay.title\")}${\n\t\t\t\ttickets.length\n\t\t\t}`}</Title>\n\t\t\t<ResponsiveContainer>\n\t\t\t\t<BarChart\n\t\t\t\t\tdata={chartData}\n\t\t\t\t\tbarSize={40}\n\t\t\t\t\twidth={730}\n\t\t\t\t\theight={250}\n\t\t\t\t\tmargin={{\n\t\t\t\t\t\ttop: 16,\n\t\t\t\t\t\tright: 16,\n\t\t\t\t\t\tbottom: 0,\n\t\t\t\t\t\tleft: 24,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<CartesianGrid strokeDasharray=\"3 3\" />\n\t\t\t\t\t<XAxis dataKey=\"time\" stroke={theme.palette.text.secondary} />\n\t\t\t\t\t<YAxis\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tallowDecimals={false}\n\t\t\t\t\t\tstroke={theme.palette.text.secondary}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Label\n\t\t\t\t\t\t\tangle={270}\n\t\t\t\t\t\t\tposition=\"left\"\n\t\t\t\t\t\t\tstyle={{ textAnchor: \"middle\", fill: theme.palette.text.primary }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tTickets\n\t\t\t\t\t\t</Label>\n\t\t\t\t\t</YAxis>\n\t\t\t\t\t<Bar dataKey=\"amount\" fill={theme.palette.primary.main} />\n\t\t\t\t</BarChart>\n\t\t\t</ResponsiveContainer>\n\t\t</React.Fragment>\n\t);\n};\n\nexport default Chart;\n","import React, { useContext } from \"react\"\n\nimport Paper from \"@material-ui/core/Paper\"\nimport Container from \"@material-ui/core/Container\"\nimport Grid from \"@material-ui/core/Grid\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport Typography from \"@material-ui/core/Typography\";\n\nimport useTickets from \"../../hooks/useTickets\"\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport Chart from \"./Chart\"\n\nconst useStyles = makeStyles(theme => ({\n\tcontainer: {\n\t\tpaddingTop: theme.spacing(4),\n\t\tpaddingBottom: theme.spacing(4),\n\t},\n\tfixedHeightPaper: {\n\t\tpadding: theme.spacing(2),\n\t\tdisplay: \"flex\",\n\t\toverflow: \"auto\",\n\t\tflexDirection: \"column\",\n\t\theight: 240,\n\t},\n\tcustomFixedHeightPaper: {\n\t\tpadding: theme.spacing(2),\n\t\tdisplay: \"flex\",\n\t\toverflow: \"auto\",\n\t\tflexDirection: \"column\",\n\t\theight: 120,\n\t},\n\tcustomFixedHeightPaperLg: {\n\t\tpadding: theme.spacing(2),\n\t\tdisplay: \"flex\",\n\t\toverflow: \"auto\",\n\t\tflexDirection: \"column\",\n\t\theight: \"100%\",\n\t},\n}))\n\nconst Dashboard = () => {\n\tconst classes = useStyles()\n\n\tconst { user } = useContext(AuthContext);\n\tvar userQueueIds = [];\n\n\tif (user.queues && user.queues.length > 0) {\n\t\tuserQueueIds = user.queues.map(q => q.id);\n\t}\n\n\tconst GetTickets = (status, showAll, withUnreadMessages) => {\n\n\t\tconst { count } = useTickets({\n\t\t\tstatus: status,\n\t\t\tshowAll: showAll,\n\t\t\twithUnreadMessages: withUnreadMessages,\n\t\t\tqueueIds: JSON.stringify(userQueueIds)\n\t\t});\n\t\treturn count;\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<Container maxWidth=\"lg\" className={classes.container}>\n\t\t\t\t<Grid container spacing={3}>\n\t\t\t\t\t<Grid item xs={4}>\n\t\t\t\t\t\t<Paper className={classes.customFixedHeightPaper} style={{ overflow: \"hidden\" }}>\n\t\t\t\t\t\t\t<Typography component=\"h3\" variant=\"h6\" color=\"primary\" paragraph>\n\t\t\t\t\t\t\t\t{i18n.t(\"dashboard.messages.inAttendance.title\")}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t<Typography component=\"h1\" variant=\"h4\">\n\t\t\t\t\t\t\t\t\t{GetTickets(\"open\", \"true\", \"false\")}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={4}>\n\t\t\t\t\t\t<Paper className={classes.customFixedHeightPaper} style={{ overflow: \"hidden\" }}>\n\t\t\t\t\t\t\t<Typography component=\"h3\" variant=\"h6\" color=\"primary\" paragraph>\n\t\t\t\t\t\t\t\t{i18n.t(\"dashboard.messages.waiting.title\")}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t<Typography component=\"h1\" variant=\"h4\">\n\t\t\t\t\t\t\t\t\t{GetTickets(\"pending\", \"true\", \"false\")}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={4}>\n\t\t\t\t\t\t<Paper className={classes.customFixedHeightPaper} style={{ overflow: \"hidden\" }}>\n\t\t\t\t\t\t\t<Typography component=\"h3\" variant=\"h6\" color=\"primary\" paragraph>\n\t\t\t\t\t\t\t\t{i18n.t(\"dashboard.messages.closed.title\")}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t<Typography component=\"h1\" variant=\"h4\">\n\t\t\t\t\t\t\t\t\t{GetTickets(\"closed\", \"true\", \"false\")}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Paper className={classes.fixedHeightPaper}>\n\t\t\t\t\t\t\t<Chart />\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Container>\n\t\t</div>\n\t)\n}\n\nexport default Dashboard","import React, { useState, useContext } from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\n\nimport {\n  Avatar,\n  Button,\n  CssBaseline,\n  TextField,\n  Grid,\n  Box,\n  Typography,\n  Container,\n  InputAdornment,\n  IconButton,\n  Link\n} from '@material-ui/core';\n\nimport { LockOutlined, Visibility, VisibilityOff } from '@material-ui/icons';\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\n// Importe a imagem\nimport avatarImg from '../../assets/fenixlogo.png'; // Caminho da imagem na pasta src\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    width: theme.spacing(7), // Defina um tamanho fixo para o Avatar\n    height: theme.spacing(7), // Defina um tamanho fixo para o Avatar\n    backgroundImage: `url(${avatarImg})`, // Usando a importao da imagem\n    backgroundSize: 'cover', // Ajusta o tamanho da imagem para cobrir o Avatar\n    backgroundPosition: 'center', // Centraliza a imagem\n    backgroundRepeat: 'no-repeat', // Evita que a imagem se repita\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nconst Login = () => {\n  const classes = useStyles();\n\n  const [user, setUser] = useState({ email: \"\", password: \"\" });\n  const [showPassword, setShowPassword] = useState(false);\n\n  const { handleLogin } = useContext(AuthContext);\n\n  const handleChangeInput = (e) => {\n    setUser({ ...user, [e.target.name]: e.target.value });\n  };\n\n  const handlSubmit = (e) => {\n    e.preventDefault();\n    handleLogin(user);\n  };\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar} />\n        <Typography component=\"h1\" variant=\"h5\">\n          {i18n.t(\"login.title\")}\n        </Typography>\n        <form className={classes.form} noValidate onSubmit={handlSubmit}>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"email\"\n            label={i18n.t(\"login.form.email\")}\n            name=\"email\"\n            value={user.email}\n            onChange={handleChangeInput}\n            autoComplete=\"email\"\n            autoFocus\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"password\"\n            label={i18n.t(\"login.form.password\")}\n            id=\"password\"\n            value={user.password}\n            onChange={handleChangeInput}\n            autoComplete=\"current-password\"\n            type={showPassword ? 'text' : 'password'}\n            InputProps={{\n              endAdornment: (\n                <InputAdornment position=\"end\">\n                  <IconButton\n                    aria-label=\"toggle password visibility\"\n                    onClick={() => setShowPassword((e) => !e)}\n                  >\n                    {showPassword ? <VisibilityOff /> : <Visibility />}\n                  </IconButton>\n                </InputAdornment>\n              )\n            }}\n          />\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n          >\n            {i18n.t(\"login.buttons.submit\")}\n          </Button>\n          <Grid container>\n            <Grid item>\n              <Link\n                href=\"#\"\n                variant=\"body2\"\n                component={RouterLink}\n                to=\"/signup\"\n              >\n                {i18n.t(\"login.buttons.register\")}\n              </Link>\n            </Grid>\n          </Grid>\n        </form>\n      </div>\n      <Box mt={8}>{/* <Copyright /> */}</Box>\n    </Container>\n  );\n};\n\nexport default Login;\n","import { Dialog } from \"@material-ui/core\";\nimport React, { useState } from \"react\";\n\nimport { GithubPicker } from \"react-color\";\n\nconst ColorPicker = ({ onChange, currentColor, handleClose, open }) => {\n  const [selectedColor, setSelectedColor] = useState(currentColor);\n  const colors = [\n    \"#B80000\",\n    \"#DB3E00\",\n    \"#FCCB00\",\n    \"#008B02\",\n    \"#006B76\",\n    \"#1273DE\",\n    \"#004DCF\",\n    \"#5300EB\",\n    \"#EB9694\",\n    \"#FAD0C3\",\n    \"#FEF3BD\",\n    \"#C1E1C5\",\n    \"#BEDADC\",\n    \"#C4DEF6\",\n    \"#BED3F3\",\n    \"#D4C4FB\",\n    \"#4D4D4D\",\n    \"#999999\",\n    \"#FFFFFF\",\n    \"#F44E3B\",\n    \"#FE9200\",\n    \"#FCDC00\",\n    \"#DBDF00\",\n    \"#A4DD00\",\n    \"#68CCCA\",\n    \"#73D8FF\",\n    \"#AEA1FF\",\n    \"#FDA1FF\",\n    \"#333333\",\n    \"#808080\",\n    \"#cccccc\",\n    \"#D33115\",\n    \"#E27300\",\n    \"#FCC400\",\n    \"#B0BC00\",\n    \"#68BC00\",\n    \"#16A5A5\",\n    \"#009CE0\",\n    \"#7B64FF\",\n    \"#FA28FF\",\n    \"#666666\",\n    \"#B3B3B3\",\n    \"#9F0500\",\n    \"#C45100\",\n    \"#FB9E00\",\n    \"#808900\",\n    \"#194D33\",\n    \"#0C797D\",\n    \"#0062B1\",\n    \"#653294\",\n    \"#AB149E\",\n  ];\n\n  const handleChange = (color) => {\n    setSelectedColor(color.hex);\n    handleClose();\n  };\n\n  return (\n    <Dialog\n      onClose={handleClose}\n      aria-labelledby=\"simple-dialog-title\"\n      open={open}\n      maxWidth=\"xs\"\n      paperFullWidth\n    >\n      <GithubPicker\n        width={\"100%\"}\n        triangle=\"hide\"\n        color={selectedColor}\n        colors={colors}\n        onChange={handleChange}\n        onChangeComplete={(color) => onChange(color.hex)}\n      />\n    </Dialog>\n  );\n};\n\nexport default ColorPicker;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n\tTooltip,\n\tTypography,\n} from \"@material-ui/core\";\n\n\nimport { green } from \"@material-ui/core/colors\";\n\nconst useStyles = makeStyles(theme => ({\n\tmainPaper: {\n\t\tflex: 1,\n\t\tpadding: theme.spacing(1),\n\t\toverflowY: \"scroll\",\n\t\t...theme.scrollbarStyles,\n\t},\n\tcustomTableCell: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t},\n\ttooltip: {\n\t\tbackgroundColor: \"#f5f5f9\",\n\t\tcolor: \"rgba(0, 0, 0, 0.87)\",\n\t\tfontSize: theme.typography.pxToRem(14),\n\t\tborder: \"1px solid #dadde9\",\n\t\tmaxWidth: 450,\n\t},\n\ttooltipPopper: {\n\t\ttextAlign: \"center\",\n\t},\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t},\n}));\n\nconst ToolTip = ({ title, content, children }) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Tooltip\n\t\t\tarrow\n      // placement=\"bottom\"\n\t\t\tclasses={{\n\t\t\t\ttooltip: classes.tooltip,\n\t\t\t\tpopper: classes.tooltipPopper,\n\t\t\t}}\n\t\t\ttitle={\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<Typography gutterBottom color=\"inherit\">\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t{content && <Typography>{content}</Typography>}\n\t\t\t\t</React.Fragment>\n\t\t\t}\n\t\t>\n\t\t\t{children}\n\t\t</Tooltip>\n\t);\n};\n\nexport default ToolTip","import React from \"react\";\nimport * as Yup from \"yup\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport StepContent from \"@material-ui/core/StepContent\";\nimport api from \"../../services/api\";\nimport Typography from \"@material-ui/core/Typography\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport { IconButton } from \"@material-ui/core\";\nimport { Formik, Field, FieldArray } from \"formik\";\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport TextField from \"@material-ui/core/TextField\";\nimport toastError from \"../../errors/toastError\";\nimport { toast } from \"react-toastify\";\nimport HelpOutlineOutlinedIcon from \"@material-ui/icons/HelpOutlineOutlined\";\nimport CustomToolTip from \"../ToolTips\";\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport { i18n } from \"../../translate/i18n\";\nimport Switch from \"@material-ui/core/Switch\";\nimport { FormControlLabel } from \"@material-ui/core\";\n\nconst QueueSchema = Yup.object().shape({\n  options: Yup.array()\n    .of(\n      Yup.object().shape({\n        name: Yup.string().min(4, \"too short\").required(\"Required\"),\n      })\n    )\n    .required(\"Must have friends\"),\n});\n\nconst useStyles = makeStyles((theme) => ({\n  greetingMessage: {\n    cursor: \"pointer\",\n    display: \"flex\",\n    alignItems: \"center\",\n    \"& > *:not(:last-child)\": {\n      marginRight: theme.spacing(1),\n    },\n  },\n  Box: {\n    cursor: \"pointer\",\n    alignItems: \"center\",\n  },\n}));\n\nfunction getStepContent(step) {\n  return <VerticalLinearStepper chatBotId={step} />;\n}\n\nexport default function VerticalLinearStepper(props) {\n  const initialState = {\n    name: \"\",\n    greetingMessage: \"\",\n    options: [],\n  };\n\n  const classes = useStyles();\n  const [activeStep, setActiveStep] = React.useState(-1);\n  const [steps, setSteps] = React.useState(initialState);\n  const [loading, setLoading] = React.useState(false);\n  const [isStepContent, setIsStepContent] = React.useState(true);\n  const [isNameEdit, setIsNamedEdit] = React.useState(null);\n  const [isGreetingMessageEdit, setGreetingMessageEdit] = React.useState(null);\n  const [selectedQueue, setSelectedQueue] = React.useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = React.useState(false);\n\n  const handleSaveBot = async (values) => {\n    try {\n      if (props.chatBotId) {\n        await api.put(`/chatbot/${props.chatBotId}`, values);\n      } else {\n        await api.post(\"/chatbot\", values);\n      }\n      toast.success(\"Bot saved successfully\");\n      // setActiveStep(-1)\n      const { data } = await api.get(`/chatbot/${props.chatBotId}`);\n\n      setSteps(initialState);\n      setSteps(data);\n      setIsNamedEdit(null);\n      setGreetingMessageEdit(null);\n\n      setSteps(data);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  React.useEffect(() => {\n    setLoading(true);\n\n    const delayDebounceFn = setTimeout(() => {\n      const fetchList = async () => {\n        try {\n          const { data } = await api.get(`/chatbot/${props.chatBotId}`);\n          setSteps(data);\n          setLoading(false);\n        } catch (err) {\n          console.log(err);\n        }\n      };\n      fetchList();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [props.chatBotId]);\n\n  React.useEffect(() => {\n    if (activeStep === isNameEdit) {\n      setIsStepContent(false);\n    } else {\n      setIsStepContent(true);\n    }\n  }, [isNameEdit, activeStep]);\n\n  const handleCloseConfirmationModal = () => {\n    setConfirmModalOpen(false);\n    setSelectedQueue(null);\n  };\n\n  const handleDeleteQueue = async (queueId) => {\n    try {\n      await api.delete(`/chatbot/${queueId}`);\n      const { data } = await api.get(`/chatbot/${props.chatBotId}`);\n      setSteps(initialState);\n      setSteps(data);\n      setIsNamedEdit(null);\n      setGreetingMessageEdit(null);\n      setSteps(data);\n      toast.success(i18n.t(\"Queue deleted successfully!\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setSelectedQueue(null);\n  };\n\n  return (\n    <div className={classes.root}>\n      <ConfirmationModal\n        title={\n          selectedQueue &&\n          `${i18n.t(\"queues.confirmationModal.deleteTitle\")} ${\n            selectedQueue.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={handleCloseConfirmationModal}\n        onConfirm={() => handleDeleteQueue(selectedQueue.id)}\n      >\n        {i18n.t(\"Tem certeza? Todas as opes internas tambm sero excludas\")}\n      </ConfirmationModal>\n\n      {!loading && (\n        <div>\n          <Formik\n            initialValues={steps}\n            validateOnChange={false}\n            enableReinitialize={true}\n            validationSchema={QueueSchema}\n            render={({\n              touched,\n              errors,\n              isSubmitting,\n              values,\n              handleSubmit,\n            }) => (\n              <FieldArray name=\"options\">\n                {({ push, remove }) => (\n                  <>\n                    <Stepper\n                      nonLinear\n                      activeStep={activeStep}\n                      orientation=\"vertical\"\n                    >\n                      {values.options &&\n                        values.options.length > 0 &&\n                        values.options.map((info, index) => (\n                          <Step\n                            key={`${info.id ? info.id : index}-options`}\n                            onClick={() => setActiveStep(index)}\n                          >\n                            <StepLabel key={`${info.id}-options`}>\n                              {isNameEdit !== index &&\n                              steps.options[index]?.name ? (\n                                <div\n                                  className={classes.greetingMessage}\n                                  variant=\"body1\"\n                                >\n                                  {values.options[index].name}\n\n                                  <IconButton\n                                    size=\"small\"\n                                    onClick={() => {\n                                      setIsNamedEdit(index);\n                                      setIsStepContent(false);\n                                    }}\n                                  >\n                                    <EditIcon />\n                                  </IconButton>\n\n                                  <IconButton\n                                    onClick={() => {\n                                      setSelectedQueue(info);\n                                      setConfirmModalOpen(true);\n                                    }}\n                                    size=\"small\"\n                                  >\n                                    <DeleteOutline />\n                                  </IconButton>\n                                </div>\n                              ) : (\n                                <>\n                                  <Field\n                                    as={TextField}\n                                    name={`options[${index}].name`}\n                                    variant=\"standard\"\n                                    color=\"primary\"\n                                    disabled={isSubmitting}\n                                    autoFocus\n                                    error={\n                                      touched?.options?.[index]?.name &&\n                                      Boolean(errors.options?.[index]?.name)\n                                    }\n                                    className={classes.textField}\n                                  />\n\n                                  <FormControlLabel\n                                    control={\n                                      <Field\n                                        as={Switch}\n                                        color=\"primary\"\n                                        name={`options[${index}].isAgent`}\n                                        checked={\n                                          values.options[index].isAgent || false\n                                        }\n                                      />\n                                    }\n                                    label=\"Atendente\"\n                                  />\n\n                                  <IconButton\n                                    size=\"small\"\n                                    onClick={() =>\n                                      values.options[index].name\n                                        ? handleSaveBot(values)\n                                        : null\n                                    }\n                                    disabled={isSubmitting}\n                                  >\n                                    <SaveIcon />\n                                  </IconButton>\n\n                                  <IconButton\n                                    size=\"small\"\n                                    onClick={() => remove(index)}\n                                    disabled={isSubmitting}\n                                  >\n                                    <DeleteOutline />\n                                  </IconButton>\n                                </>\n                              )}\n                            </StepLabel>\n\n                            {isStepContent && steps.options[index] && (\n                              <StepContent>\n                                <>\n                                  {isGreetingMessageEdit !== index ? (\n                                    <div className={classes.greetingMessage}>\n                                      <Typography\n                                        color=\"textSecondary\"\n                                        variant=\"body1\"\n                                      >\n                                        Message:\n                                      </Typography>\n\n                                      {values.options[index].greetingMessage}\n\n                                      {!steps.options[index]\n                                        ?.greetingMessage && (\n                                        <CustomToolTip\n                                          title=\"A mensagem  obrigatria para seguir ao prximo nvel\"\n                                          content=\"Se a mensagem no estiver definida, o bot no seguir adiante\"\n                                        >\n                                          <HelpOutlineOutlinedIcon\n                                            color=\"secondary\"\n                                            style={{ marginLeft: \"4px\" }}\n                                            fontSize=\"small\"\n                                          />\n                                        </CustomToolTip>\n                                      )}\n\n                                      <IconButton\n                                        size=\"small\"\n                                        onClick={() =>\n                                          setGreetingMessageEdit(index)\n                                        }\n                                      >\n                                        <EditIcon />\n                                      </IconButton>\n                                    </div>\n                                  ) : (\n                                    <div className={classes.greetingMessage}>\n                                      <Field\n                                        as={TextField}\n                                        name={`options[${index}].greetingMessage`}\n                                        variant=\"standard\"\n                                        margin=\"dense\"\n                                        fullWidth\n                                        multiline\n                                        error={\n                                          touched.greetingMessage &&\n                                          Boolean(errors.greetingMessage)\n                                        }\n                                        helperText={\n                                          touched.greetingMessage &&\n                                          errors.greetingMessage\n                                        }\n                                        className={classes.textField}\n                                      />\n\n                                      <IconButton\n                                        size=\"small\"\n                                        onClick={() => handleSaveBot(values)}\n                                        disabled={isSubmitting}\n                                      >\n                                        {\" \"}\n                                        <SaveIcon />\n                                      </IconButton>\n                                    </div>\n                                  )}\n\n                                  {getStepContent(info.id)}\n                                </>\n                              </StepContent>\n                            )}\n                          </Step>\n                        ))}\n\n                      <Step>\n                        <StepLabel\n                          onClick={() =>\n                            push({\n                              name: undefined,\n                              greetingMessage: undefined,\n                            })\n                          }\n                        >\n                          Adiconar opes\n                        </StepLabel>\n                      </Step>\n                    </Stepper>\n                  </>\n                )}\n              </FieldArray>\n            )}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, FieldArray, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { FormControlLabel } from \"@material-ui/core\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport HelpOutlineOutlinedIcon from \"@material-ui/icons/HelpOutlineOutlined\";\nimport { i18n } from \"../../translate/i18n\";\nimport Switch from \"@material-ui/core/Switch\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport ColorPicker from \"../ColorPicker\";\nimport { IconButton, InputAdornment } from \"@material-ui/core\";\nimport { Colorize } from \"@material-ui/icons\";\nimport Typography from \"@material-ui/core/Typography\";\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport StepContent from \"@material-ui/core/StepContent\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nimport OptionsChatBot from \"../ChatBots/options\";\nimport CustomToolTip from \"../ToolTips\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1,\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  colorAdorment: {\n    width: 20,\n    height: 20,\n  },\n  greetingMessage: {\n    cursor: \"pointer\",\n    display: \"flex\",\n    alignItems: \"center\",\n    \"& > *:not(:last-child)\": {\n      marginRight: theme.spacing(1),\n    },\n  },\n  custom: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}));\n\nconst QueueSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n  color: Yup.string().min(3, \"Too Short!\").max(9, \"Too Long!\").required(),\n  greetingMessage: Yup.string(),\n  chatbots: Yup.array()\n    .of(\n      Yup.object().shape({\n        name: Yup.string().min(4, \"too short\").required(\"Required\"),\n      })\n    )\n    .required(\"Must have friends\"),\n});\n\nconst QueueModal = ({ open, onClose, queueId, onEdit }) => {\n  const classes = useStyles();\n\n  const initialState = {\n    name: \"\",\n    color: \"\",\n    greetingMessage: \"\",\n    chatbots: [],\n  };\n\n  const [colorPickerModalOpen, setColorPickerModalOpen] = useState(false);\n  const [queue, setQueue] = useState(initialState);\n  const greetingRef = useRef();\n  const [activeStep, setActiveStep] = React.useState(null);\n  const [selectedQueue, setSelectedQueue] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [isStepContent, setIsStepContent] = React.useState(true);\n  const [isNameEdit, setIsNamedEdit] = React.useState(null);\n  const [isGreetingMessageEdit, setGreetingMessageEdit] = React.useState(null);\n\n  useEffect(() => {\n    (async () => {\n      if (!queueId) return;\n      try {\n        const { data } = await api.get(`/queue/${queueId}`);\n        setQueue((prevState) => {\n          return { ...prevState, ...data };\n        });\n      } catch (err) {\n        toastError(err);\n      }\n    })();\n\n    return () => {\n      setQueue({\n        name: \"\",\n        color: \"\",\n        greetingMessage: \"\",\n        chatbots: [],\n      });\n    };\n  }, [queueId, open]);\n\n  useEffect(() => {\n    console.log(activeStep);\n    console.log(isNameEdit);\n\n    if (activeStep === isNameEdit) {\n      setIsStepContent(false);\n    } else {\n      setIsStepContent(true);\n    }\n  }, [isNameEdit, activeStep]);\n\n  const handleClose = () => {\n    onClose();\n    setIsNamedEdit(null);\n    setActiveStep(null);\n    setGreetingMessageEdit(null);\n  };\n\n  const handleCloseConfirmationModal = () => {\n    setConfirmModalOpen(false);\n    setSelectedQueue(null);\n  };\n\n  const handleDeleteQueue = async (optionsId) => {\n    try {\n      await api.delete(`/chatbot/${optionsId}`);\n      const { data } = await api.get(`/queue/${queueId}`);\n      setQueue(initialState);\n      setQueue(data);\n      setIsNamedEdit(null);\n      setGreetingMessageEdit(null);\n      toast.success(i18n.t(\"Queue deleted successfully!\"));\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleSaveQueue = async (values) => {\n    try {\n      console.log(queueId);\n      if (queueId) {\n        await api.put(`/queue/${queueId}`, values);\n      } else {\n        await api.post(\"/queue\", values);\n      }\n\n      toast.success(\"Queue saved successfully\");\n      handleClose();\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  // const handleSaveBot = async (values) => {\n  //   try {\n  //     if (queueId) {\n  //       const { data } = await api.put(`/queue/${queueId}`, values);\n  //       console.log(data)\n  //       setQueue(initialState);\n  //       setQueue(data);\n  //       setIsNamedEdit(null);\n  //       setGreetingMessageEdit(null);\n  //       setQueue(data);\n  //       toast.success(\"Queue saved successfully\");\n  //     } else {\n  //       const { data } = await api.post(\"/queue\", values);\n  //       console.log(data)\n  //       setQueue(initialState);\n  //       setQueue(data);\n  //       setIsNamedEdit(null);\n  //       setGreetingMessageEdit(null);\n  //       setQueue(data);\n  //       toast.success(\"Queue saved successfully\");\n  //     }\n\n  //   } catch (err) {\n  //     toastError(err);\n  //   }\n  // };\n\n  \tconst handleSaveBot = async (values) => {\n    try {\n      if (queueId) {\n        const {data} = await api.put(`/queue/${queueId}`, values);\n\t\t\t\tif (data.chatbots && data.chatbots.length) {\n          onEdit(data);\n\t\t\t\t\tsetQueue(data);\n        }\n      } else {\n        const { data } = await api.post(\"/queue\", values);\n        if (data.chatbots && data.chatbots.length) {\n\t\t\t\t\tsetQueue(data);\n          onEdit(data);\n\t\t\t\t\thandleClose();\n        }\n      }\n\n\t\t\tsetIsNamedEdit(null)\n\t\t\tsetGreetingMessageEdit(null)\n      toast.success(\"Queue saved successfully\");\n     \n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n\n  return (\n    <div className={classes.root}>\n      <ConfirmationModal\n        title={\n          selectedQueue &&\n          `${i18n.t(\"queues.confirmationModal.deleteTitle\")} ${\n            selectedQueue.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={handleCloseConfirmationModal}\n        onConfirm={() => handleDeleteQueue(selectedQueue.id)}\n      >\n        {i18n.t(\"Tem certeza? Todas as opes internas tambm sero excludas\")}\n      </ConfirmationModal>\n      <Dialog\n        maxWidth=\"md\"\n        fullWidth\n        open={open}\n        onClose={handleClose}\n        scroll=\"paper\"\n      >\n        <DialogTitle>\n          {queueId\n            ? `${i18n.t(\"queueModal.title.edit\")}`\n            : `${i18n.t(\"queueModal.title.add\")}`}\n        </DialogTitle>\n        <Formik\n          initialValues={queue}\n          validateOnChange={false}\n          enableReinitialize={true}\n          validationSchema={QueueSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveQueue(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ handleChange, touched, errors, isSubmitting, values }) => (\n            <Form>\n              <DialogContent dividers>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"queueModal.form.name\")}\n                  autoFocus\n                  name=\"name\"\n                  error={touched.name && Boolean(errors.name)}\n                  helperText={touched.name && errors.name}\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  className={classes.textField}\n                />\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"queueModal.form.color\")}\n                  name=\"color\"\n                  id=\"color\"\n                  onFocus={() => {\n                    setColorPickerModalOpen(true);\n                    greetingRef.current.focus();\n                  }}\n                  error={touched.color && Boolean(errors.color)}\n                  helperText={touched.color && errors.color}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <div\n                          style={{ backgroundColor: values.color }}\n                          className={classes.colorAdorment}\n                        ></div>\n                      </InputAdornment>\n                    ),\n                    endAdornment: (\n                      <IconButton\n                        size=\"small\"\n                        color=\"default\"\n                        onClick={() => setColorPickerModalOpen(true)}\n                      >\n                        <Colorize />\n                      </IconButton>\n                    ),\n                  }}\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                />\n                <ColorPicker\n                  open={colorPickerModalOpen}\n                  handleClose={() => setColorPickerModalOpen(false)}\n                  onChange={(color) => {\n                    values.color = color;\n                    setQueue(() => {\n                      return { ...values, color };\n                    });\n                  }}\n                />\n                <div>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"queueModal.form.greetingMessage\")}\n                    type=\"greetingMessage\"\n                    multiline\n                    inputRef={greetingRef}\n                    minRows={5}\n                    fullWidth\n                    name=\"greetingMessage\"\n                    error={\n                      touched.greetingMessage && Boolean(errors.greetingMessage)\n                    }\n                    helperText={\n                      touched.greetingMessage && errors.greetingMessage\n                    }\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                  />\n                </div>\n\n                <Typography variant=\"subtitle1\">\n                  Opes\n                  <CustomToolTip\n                    title=\"Adicione opes para construir um chatbot\"\n                    content=\"Se houver apenas uma opo, ela ser escolhida automaticamente, fazendo com que o bot responda com a mensagem da opo e siga adiante\"\n                  >\n                    <HelpOutlineOutlinedIcon\n                      style={{ marginLeft: \"14px\" }}\n                      fontSize=\"small\"\n                    />\n                  </CustomToolTip>\n                </Typography>\n\n                <div>\n                  <FieldArray name=\"chatbots\">\n                    {({ push, remove }) => (\n                      <>\n                        <Stepper\n                          nonLinear\n                          activeStep={activeStep}\n                          orientation=\"vertical\"\n                        >\n                          {values.chatbots &&\n                            values.chatbots.length > 0 &&\n                            values.chatbots.map((info, index) => (\n                              <Step\n                                key={`${info.id ? info.id : index}-chatbots`}\n                                onClick={() => setActiveStep(index)}\n                              >\n                                <StepLabel key={`${info.id}-chatbots`}>\n                                  {isNameEdit !== index &&\n                                  queue.chatbots[index]?.name ? (\n                                    <div\n                                      className={classes.greetingMessage}\n                                      variant=\"body1\"\n                                    >\n                                      {values.chatbots[index].name}\n\n                                      <IconButton\n                                        size=\"small\"\n                                        onClick={() => {\n                                          setIsNamedEdit(index);\n                                          setIsStepContent(false);\n                                        }}\n                                      >\n                                        <EditIcon />\n                                      </IconButton>\n\n                                      <IconButton\n                                        onClick={() => {\n                                          setSelectedQueue(info);\n                                          setConfirmModalOpen(true);\n                                        }}\n                                        size=\"small\"\n                                      >\n                                        <DeleteOutline />\n                                      </IconButton>\n                                    </div>\n                                  ) : (\n                                    <>\n                                      <Field\n                                        as={TextField}\n                                        name={`chatbots[${index}].name`}\n                                        variant=\"standard\"\n                                        color=\"primary\"\n                                        disabled={isSubmitting}\n                                        autoFocus\n                                        error={\n                                          touched?.chatbots?.[index]?.name &&\n                                          Boolean(\n                                            errors.chatbots?.[index]?.name\n                                          )\n                                        }\n                                        className={classes.textField}\n                                      />\n\n                                      <FormControlLabel\n                                        control={\n                                          <Field\n                                            as={Switch}\n                                            color=\"primary\"\n                                            name={`chatbots[${index}].isAgent`}\n                                            checked={\n                                              values.chatbots[index].isAgent ||\n                                              false\n                                            }\n                                          />\n                                        }\n                                        label=\"Atendente\"\n                                      />\n\n                                      <IconButton\n                                        size=\"small\"\n                                        onClick={() =>\n                                          values.chatbots[index].name\n                                            ? handleSaveBot(values)\n                                            : null\n                                        }\n                                        disabled={isSubmitting}\n                                      >\n                                        <SaveIcon />\n                                      </IconButton>\n\n                                      <IconButton\n                                        size=\"small\"\n                                        onClick={() => remove(index)}\n                                        disabled={isSubmitting}\n                                      >\n                                        <DeleteOutline />\n                                      </IconButton>\n                                    </>\n                                  )}\n                                </StepLabel>\n\n                                {isStepContent && queue.chatbots[index] && (\n                                  <StepContent>\n                                    <>\n                                      {isGreetingMessageEdit !== index ? (\n                                        <div\n                                          className={classes.greetingMessage}\n                                        >\n                                          <Typography\n                                            color=\"textSecondary\"\n                                            variant=\"body1\"\n                                          >\n                                            Message:\n                                          </Typography>\n\n                                          {\n                                            values.chatbots[index]\n                                              .greetingMessage\n                                          }\n\n                                          {!queue.chatbots[index]\n                                            ?.greetingMessage && (\n                                            <CustomToolTip\n                                              title=\"A mensagem  obrigatria para seguir ao prximo nvel\"\n                                              content=\"Se a mensagem no estiver definida, o bot no seguir adiante\"\n                                            >\n                                              <HelpOutlineOutlinedIcon\n                                                color=\"secondary\"\n                                                style={{ marginLeft: \"4px\" }}\n                                                fontSize=\"small\"\n                                              />\n                                            </CustomToolTip>\n                                          )}\n\n                                          <IconButton\n                                            size=\"small\"\n                                            onClick={() =>\n                                              setGreetingMessageEdit(index)\n                                            }\n                                          >\n                                            <EditIcon />\n                                          </IconButton>\n                                        </div>\n                                      ) : (\n                                        <div\n                                          className={classes.greetingMessage}\n                                        >\n                                          <Field\n                                            as={TextField}\n                                            name={`chatbots[${index}].greetingMessage`}\n                                            variant=\"standard\"\n                                            margin=\"dense\"\n                                            fullWidth\n                                            multiline\n                                            error={\n                                              touched.greetingMessage &&\n                                              Boolean(errors.greetingMessage)\n                                            }\n                                            helperText={\n                                              touched.greetingMessage &&\n                                              errors.greetingMessage\n                                            }\n                                            className={classes.textField}\n                                          />\n\n                                          <IconButton\n                                            size=\"small\"\n                                            onClick={() =>\n                                              handleSaveBot(values)\n                                            }\n                                            disabled={isSubmitting}\n                                          >\n                                            {\" \"}\n                                            <SaveIcon />\n                                          </IconButton>\n                                        </div>\n                                      )}\n\n                                      <OptionsChatBot chatBotId={info.id} />\n                                    </>\n                                  </StepContent>\n                                )}\n                              </Step>\n                            ))}\n\n                          <Step>\n                            <StepLabel\n                            onClick={() => push({ name: \"\", value: \"\" })}\n                            >\n                              Adiconar opes\n                            </StepLabel>\n                          </Step>\n                        </Stepper>\n                      </>\n                    )}\n                  </FieldArray>\n                </div>\n              </DialogContent>\n              <DialogActions>\n                <Button\n                  onClick={handleClose}\n                  // color=\"secondary\"\n                  disabled={isSubmitting}\n                  // variant=\"outlined\"\n                >\n                  {i18n.t(\"queueModal.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {queueId\n                    ? `${i18n.t(\"queueModal.buttons.okEdit\")}`\n                    : `${i18n.t(\"queueModal.buttons.okAdd\")}`}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default QueueModal;\n","import React, { useEffect, useReducer, useState } from \"react\";\n\nimport openSocket from \"socket.io-client\";\n\nimport {\n  Button,\n  IconButton,\n  makeStyles,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  Typography,\n} from \"@material-ui/core\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport Title from \"../../components/Title\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { DeleteOutline, Edit } from \"@material-ui/icons\";\nimport QueueModal from \"../../components/QueueModal\";\nimport { toast } from \"react-toastify\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n  },\n  customTableCell: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_QUEUES\") {\n    const queues = action.payload;\n    const newQueues = [];\n\n    queues.forEach((queue) => {\n      const queueIndex = state.findIndex((q) => q.id === queue.id);\n      if (queueIndex !== -1) {\n        state[queueIndex] = queue;\n      } else {\n        newQueues.push(queue);\n      }\n    });\n\n    return [...state, ...newQueues];\n  }\n\n  if (action.type === \"UPDATE_QUEUES\") {\n    const queue = action.payload;\n    const queueIndex = state.findIndex((u) => u.id === queue.id);\n\n    if (queueIndex !== -1) {\n      state[queueIndex] = queue;\n      return [...state];\n    } else {\n      return [queue, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_QUEUE\") {\n    const queueId = action.payload;\n    const queueIndex = state.findIndex((q) => q.id === queueId);\n    if (queueIndex !== -1) {\n      state.splice(queueIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst Queues = () => {\n  const classes = useStyles();\n\n  const [queues, dispatch] = useReducer(reducer, []);\n  const [loading, setLoading] = useState(false);\n\n  const [queueModalOpen, setQueueModalOpen] = useState(false);\n  const [selectedQueue, setSelectedQueue] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n\n  useEffect(() => {\n    (async () => {\n      setLoading(true);\n      try {\n        const { data } = await api.get(\"/queue\");\n        dispatch({ type: \"LOAD_QUEUES\", payload: data });\n\n        setLoading(false);\n      } catch (err) {\n        toastError(err);\n        setLoading(false);\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n    const token = JSON.parse(localStorage.getItem(\"token\"));\n\n    const socket = openSocket(process.env.REACT_APP_BACKEND_URL, {query: {token}});\n    socket.on(\"ready\", () => {\n      socket.emit(\"joinCompany\")\n    });\n\n    socket.on(\"queue\", (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_QUEUES\", payload: data.queue });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_QUEUE\", payload: data.queueId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleOpenQueueModal = () => {\n    setQueueModalOpen(true);\n    setSelectedQueue(null);\n  };\n\n\n  const handleCloseQueueModal = () => {\n    console.log('fechou modal')\n    setQueueModalOpen(false);\n    setSelectedQueue(null);\n  };\n\n  const handleEditQueue = (queue) => {\n    setSelectedQueue(queue);\n    setQueueModalOpen(true);\n  };\n\n  const handleCloseConfirmationModal = () => {\n    setConfirmModalOpen(false);\n    setSelectedQueue(null);\n  };\n\n  const handleDeleteQueue = async (queueId) => {\n    try {\n      await api.delete(`/queue/${queueId}`);\n      toast.success(i18n.t(\"Queue deleted successfully!\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setSelectedQueue(null);\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          selectedQueue &&\n          `${i18n.t(\"queues.confirmationModal.deleteTitle\")} ${\n            selectedQueue.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={handleCloseConfirmationModal}\n        onConfirm={() => handleDeleteQueue(selectedQueue.id)}\n      >\n        {i18n.t(\"queues.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <QueueModal\n        open={queueModalOpen}\n        onClose={handleCloseQueueModal}\n        queueId={selectedQueue?.id}\n        onEdit={(res) => {\n          if(res) {\n              setTimeout(() => {\n                // setQueueModalOpen(true)\n                // setSelectedQueue(res.id)\n                handleEditQueue(res)\n                // handleOpenQueueModalChatbot(res.id)\n              }, 200)\n          }\n        }}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"queues.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenQueueModal}\n          >\n            {i18n.t(\"queues.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper className={classes.mainPaper} variant=\"outlined\">\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.name\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.color\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.greeting\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {queues.map((queue) => (\n                <TableRow key={queue.id}>\n                  <TableCell align=\"center\">{queue.name}</TableCell>\n                  <TableCell align=\"center\">\n                    <div className={classes.customTableCell}>\n                      <span\n                        style={{\n                          backgroundColor: queue.color,\n                          width: 60,\n                          height: 20,\n                          alignSelf: \"center\",\n                        }}\n                      />\n                    </div>\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <div className={classes.customTableCell}>\n                      <Typography\n                        style={{ width: 300, align: \"center\" }}\n                        noWrap\n                        variant=\"body2\"\n                      >\n                        {queue.greetingMessage}\n                      </Typography>\n                    </div>\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditQueue(queue)}\n                    >\n                      <Edit />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => {\n                        setSelectedQueue(queue);\n                        setConfirmModalOpen(true);\n                      }}\n                    >\n                      <DeleteOutline />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Queues;","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport {\n  makeStyles,\n  Button,\n  TextField,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport { green } from \"@material-ui/core/colors\";\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexWrap: \"wrap\",\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    width: \"100%\",\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  textQuickAnswerContainer: {\n    width: \"100%\",\n  },\n}));\n\nconst QuickAnswerSchema = Yup.object().shape({\n  shortcut: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(15, \"Too Long!\")\n    .required(\"Required\"),\n  message: Yup.string()\n    .min(8, \"Too Short!\")\n    .max(30000, \"Too Long!\")\n    .required(\"Required\"),\n});\n\nconst QuickAnswersModal = ({\n  open,\n  onClose,\n  quickAnswerId,\n  initialValues,\n  onSave,\n}) => {\n  const classes = useStyles();\n  const isMounted = useRef(true);\n\n  const initialState = {\n    shortcut: \"\",\n    message: \"\",\n  };\n\n  const [quickAnswer, setQuickAnswer] = useState(initialState);\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    const fetchQuickAnswer = async () => {\n      if (initialValues) {\n        setQuickAnswer((prevState) => {\n          return { ...prevState, ...initialValues };\n        });\n      }\n\n      if (!quickAnswerId) return;\n\n      try {\n        const { data } = await api.get(`/quickAnswers/${quickAnswerId}`);\n        if (isMounted.current) {\n          setQuickAnswer(data);\n        }\n      } catch (err) {\n        toastError(err);\n      }\n    };\n\n    fetchQuickAnswer();\n  }, [quickAnswerId, open, initialValues]);\n\n  const handleClose = () => {\n    onClose();\n    setQuickAnswer(initialState);\n  };\n\n  const handleSaveQuickAnswer = async (values) => {\n    try {\n      if (quickAnswerId) {\n        await api.put(`/quickAnswers/${quickAnswerId}`, values);\n        handleClose();\n      } else {\n        const { data } = await api.post(\"/quickAnswers\", values);\n        if (onSave) {\n          onSave(data);\n        }\n        handleClose();\n      }\n      toast.success(i18n.t(\"quickAnswersModal.success\"));\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        maxWidth=\"sm\"\n        fullWidth\n        scroll=\"paper\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          {quickAnswerId\n            ? `${i18n.t(\"quickAnswersModal.title.edit\")}`\n            : `${i18n.t(\"quickAnswersModal.title.add\")}`}\n        </DialogTitle>\n        <Formik\n          initialValues={quickAnswer}\n          enableReinitialize={true}\n          validationSchema={QuickAnswerSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveQuickAnswer(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ values, errors, touched, isSubmitting }) => (\n            <Form>\n              <DialogContent dividers>\n                <div className={classes.textQuickAnswerContainer}>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"quickAnswersModal.form.shortcut\")}\n                    name=\"shortcut\"\n                    autoFocus\n                    error={touched.shortcut && Boolean(errors.shortcut)}\n                    helperText={touched.shortcut && errors.shortcut}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    className={classes.textField}\n                    fullWidth\n                  />\n                </div>\n                <div className={classes.textQuickAnswerContainer}>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"quickAnswersModal.form.message\")}\n                    name=\"message\"\n                    error={touched.message && Boolean(errors.message)}\n                    helperText={touched.message && errors.message}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    className={classes.textField}\n                    multiline\n                    rows={5}\n                    fullWidth\n                  />\n                </div>\n              </DialogContent>\n              <DialogActions>\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"quickAnswersModal.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {quickAnswerId\n                    ? `${i18n.t(\"quickAnswersModal.buttons.okEdit\")}`\n                    : `${i18n.t(\"quickAnswersModal.buttons.okAdd\")}`}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default QuickAnswersModal;\n","import React, { useState, useEffect, useReducer } from \"react\";\nimport openSocket from \"../../services/socket-io\";\n\nimport {\n  Button,\n  IconButton,\n  makeStyles,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  InputAdornment,\n  TextField,\n} from \"@material-ui/core\";\nimport { Edit, DeleteOutline } from \"@material-ui/icons\";\nimport SearchIcon from \"@material-ui/icons/Search\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport QuickAnswersModal from \"../../components/QuickAnswersModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport { toast } from \"react-toastify\";\nimport toastError from \"../../errors/toastError\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_QUICK_ANSWERS\") {\n    const quickAnswers = action.payload;\n    const newQuickAnswers = [];\n\n    quickAnswers.forEach((quickAnswer) => {\n      const quickAnswerIndex = state.findIndex((q) => q.id === quickAnswer.id);\n      if (quickAnswerIndex !== -1) {\n        state[quickAnswerIndex] = quickAnswer;\n      } else {\n        newQuickAnswers.push(quickAnswer);\n      }\n    });\n\n    return [...state, ...newQuickAnswers];\n  }\n\n  if (action.type === \"UPDATE_QUICK_ANSWERS\") {\n    const quickAnswer = action.payload;\n    const quickAnswerIndex = state.findIndex((q) => q.id === quickAnswer.id);\n\n    if (quickAnswerIndex !== -1) {\n      state[quickAnswerIndex] = quickAnswer;\n      return [...state];\n    } else {\n      return [quickAnswer, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_QUICK_ANSWERS\") {\n    const quickAnswerId = action.payload;\n\n    const quickAnswerIndex = state.findIndex((q) => q.id === quickAnswerId);\n    if (quickAnswerIndex !== -1) {\n      state.splice(quickAnswerIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst QuickAnswers = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [quickAnswers, dispatch] = useReducer(reducer, []);\n  const [selectedQuickAnswers, setSelectedQuickAnswers] = useState(null);\n  const [quickAnswersModalOpen, setQuickAnswersModalOpen] = useState(false);\n  const [deletingQuickAnswers, setDeletingQuickAnswers] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [hasMore, setHasMore] = useState(false);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchQuickAnswers = async () => {\n        try {\n          const { data } = await api.get(\"/quickAnswers/\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_QUICK_ANSWERS\", payload: data.quickAnswers });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchQuickAnswers();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const socket = openSocket();\n\n    socket.on(\"quickAnswer\", (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_QUICK_ANSWERS\", payload: data.quickAnswer });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({\n          type: \"DELETE_QUICK_ANSWERS\",\n          payload: +data.quickAnswerId,\n        });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleOpenQuickAnswersModal = () => {\n    setSelectedQuickAnswers(null);\n    setQuickAnswersModalOpen(true);\n  };\n\n  const handleCloseQuickAnswersModal = () => {\n    setSelectedQuickAnswers(null);\n    setQuickAnswersModalOpen(false);\n  };\n\n  const handleEditQuickAnswers = (quickAnswer) => {\n    setSelectedQuickAnswers(quickAnswer);\n    setQuickAnswersModalOpen(true);\n  };\n\n  const handleDeleteQuickAnswers = async (quickAnswerId) => {\n    try {\n      await api.delete(`/quickAnswers/${quickAnswerId}`);\n      toast.success(i18n.t(\"quickAnswers.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingQuickAnswers(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingQuickAnswers &&\n          `${i18n.t(\"quickAnswers.confirmationModal.deleteTitle\")} ${\n            deletingQuickAnswers.shortcut\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteQuickAnswers(deletingQuickAnswers.id)}\n      >\n        {i18n.t(\"quickAnswers.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <QuickAnswersModal\n        open={quickAnswersModalOpen}\n        onClose={handleCloseQuickAnswersModal}\n        aria-labelledby=\"form-dialog-title\"\n        quickAnswerId={selectedQuickAnswers && selectedQuickAnswers.id}\n      ></QuickAnswersModal>\n      <MainHeader>\n        <Title>{i18n.t(\"quickAnswers.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"quickAnswers.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenQuickAnswersModal}\n          >\n            {i18n.t(\"quickAnswers.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"quickAnswers.table.shortcut\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"quickAnswers.table.message\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"quickAnswers.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {quickAnswers.map((quickAnswer) => (\n                <TableRow key={quickAnswer.id}>\n                  <TableCell align=\"center\">{quickAnswer.shortcut}</TableCell>\n                  <TableCell align=\"center\">{quickAnswer.message}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditQuickAnswers(quickAnswer)}\n                    >\n                      <Edit />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingQuickAnswers(quickAnswer);\n                      }}\n                    >\n                      <DeleteOutline />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={3} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default QuickAnswers;\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { FormControl } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport moment from \"moment\"\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { isArray, capitalize } from \"lodash\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tmultFieldLine: {\n\t\tdisplay: \"flex\",\n\t\t\"& > *:not(:last-child)\": {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tformControl: {\n\t\tmargin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n}));\n\nconst ScheduleSchema = Yup.object().shape({\n\tbody: Yup.string()\n\t\t.min(5, \"Mensagem muito curta\")\n\t\t.required(\"Obrigatrio\"),\n\tcontactId: Yup.number().required(\"Obrigatrio\"),\n\tsendAt: Yup.string().required(\"Obrigatrio\")\n});\n\nconst ScheduleModal = ({ open, onClose, scheduleId, contactId, cleanContact, reload, setContactId }) => {\n\tconst classes = useStyles();\n\tconst history = useHistory();\n\tconst { user } = useContext(AuthContext);\n\n\tconst initialState = {\n\t\tbody: \"\",\n\t\tcontactId: \"\",\n\t\tsendAt: moment().add(1, 'hour').format('YYYY-MM-DDTHH:mm'),\n\t\tsentAt: \"\"\n\t};\n\n\tconst initialContact = {\n\t\tid: \"\",\n\t\tname: \"\"\n\t}\n\n\tconst [schedule, setSchedule] = useState(initialState);\n\tconst [currentContact, setCurrentContact] = useState(initialContact);\n\tconst [contacts, setContacts] = useState([initialContact]);\n\n\tuseEffect(() => {\n\t\tif (contactId && contacts.length) {\n\t\t\tconst contact = contacts.find(c => c.id === contactId);\n\t\t\tif (contact) {\n\t\t\t\tsetCurrentContact(contact);\n\t\t\t}\n\t\t}\n\t}, [contactId, contacts]);\n\n\tuseEffect(() => {\n\t\ttry {\n\t\t\t(async () => {\n\t\t\t\tconst { data: contactList } = await api.get('/contacts/list');\n\t\t\t\tlet customList = contactList.map((c) => ({id: c.id, name: c.name}));\n\t\t\t\tif (isArray(customList)) {\n\t\t\t\t\tsetContacts([{id: \"\", name: \"\"}, ...customList]);\n\t\t\t\t}\n\t\t\t\tif (contactId) {\n\t\t\t\t\tsetSchedule(prevState => {\n\t\t\t\t\t\treturn { ...prevState, contactId }\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (!scheduleId) return;\n\n\t\t\t\tconst { data } = await api.get(`/schedules/${scheduleId}`);\n\t\t\t\tsetSchedule(prevState => {\n\t\t\t\t\treturn { ...prevState, ...data, sendAt: moment(data.sendAt).format('YYYY-MM-DDTHH:mm') };\n\t\t\t\t});\n\t\t\t\tsetCurrentContact(data.contact);\n\t\t\t})()\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t}, [scheduleId, contactId, open]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetSchedule(initialState);\n\t};\n\n\tconst handleSaveSchedule = async values => {\n\t\tconst scheduleData = { ...values, userId: user.id };\n\t\ttry {\n\t\t\tif (scheduleId) {\n\t\t\t\tawait api.put(`/schedules/${scheduleId}`, scheduleData);\n\t\t\t} else {\n\t\t\t\tawait api.post(\"/schedules\", scheduleData);\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"scheduleModal.success\"));\n\t\t\tif (typeof reload == 'function') {\n\t\t\t\treload();\n\t\t\t}\n\t\t\tsetCurrentContact(initialContact);\n\t\t\tsetSchedule(initialState);\n\t\t\thistory.push('/schedules')\n\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\thandleClose();\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tmaxWidth=\"xs\"\n\t\t\t\tfullWidth\n\t\t\t\tscroll=\"paper\"\n\t\t\t>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{schedule.status === 'ERRO' ? 'Erro de Envio' : `Mensagem ${capitalize(schedule.status)}`}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={schedule}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={ScheduleSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveSchedule(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting, values }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tvalue={currentContact}\n\t\t\t\t\t\t\t\t\t\t\toptions={contacts}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e, contact) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst contactId = contact ? contact.id : '';\n\t\t\t\t\t\t\t\t\t\t\t\tsetSchedule({ ...schedule, contactId });\n\t\t\t\t\t\t\t\t\t\t\t\tsetCurrentContact(contact ? contact : initialContact);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tgetOptionLabel={(option) => option.name}\n\t\t\t\t\t\t\t\t\t\t\tgetOptionSelected={(option, value) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn value.id === option.id\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\trenderInput={(params) => <TextField {...params} variant=\"outlined\" placeholder=\"Contato\" />}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\trows={9}\n\t\t\t\t\t\t\t\t\t\tmultiline={true}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"scheduleModal.form.body\")}\n\t\t\t\t\t\t\t\t\t\tname=\"body\"\n\t\t\t\t\t\t\t\t\t\terror={touched.body && Boolean(errors.body)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.body && errors.body}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"scheduleModal.form.sendAt\")}\n\t\t\t\t\t\t\t\t\t\ttype=\"datetime-local\"\n\t\t\t\t\t\t\t\t\t\tname=\"sendAt\"\n\t\t\t\t\t\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\t\t\t\t\t  shrink: true,\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\terror={touched.sendAt && Boolean(errors.sendAt)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.sendAt && errors.sendAt}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"scheduleModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t{ (schedule.sentAt === null || schedule.sentAt === \"\") && (\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{scheduleId\n\t\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"scheduleModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"scheduleModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default ScheduleModal;\n","import React, { useState, useEffect, useReducer, useCallback } from \"react\";\nimport { toast } from \"react-toastify\";\nimport openSocket from \"../../services/socket-io\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport ScheduleModal from \"../../components/ScheduleModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport moment from 'moment';\nimport { capitalize } from 'lodash';\n\n// A custom hook that builds on useLocation to parse\n// the query string for you.\nconst getUrlParam = (param) => {\n  return (new URLSearchParams(window.location.search)).get(param)\n}\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_SCHEDULES\") {\n    const schedules = action.payload;\n    const newSchedules = [];\n\n    schedules.forEach((schedule) => {\n      const scheduleIndex = state.findIndex((s) => s.id === schedule.id);\n      if (scheduleIndex !== -1) {\n        state[scheduleIndex] = schedule;\n      } else {\n        newSchedules.push(schedule);\n      }\n    });\n\n    return [...state, ...newSchedules];\n  }\n\n  if (action.type === \"UPDATE_SCHEDULES\") {\n    const schedule = action.payload;\n    const scheduleIndex = state.findIndex((s) => s.id === schedule.id);\n\n    if (scheduleIndex !== -1) {\n      state[scheduleIndex] = schedule;\n      return [...state];\n    } else {\n      return [schedule, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_SCHEDULE\") {\n    const scheduleId = action.payload;\n\n    const scheduleIndex = state.findIndex((s) => s.id === scheduleId);\n    if (scheduleIndex !== -1) {\n      state.splice(scheduleIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Schedules = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedSchedule, setSelectedSchedule] = useState(null);\n  const [deletingSchedule, setDeletingSchedule] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [schedules, dispatch] = useReducer(reducer, []);\n  const [scheduleModalOpen, setScheduleModalOpen] = useState(false);\n  const [contactId, setContactId] = useState(+getUrlParam('contactId'));\n\n  const fetchSchedules = useCallback(async() => {\n    try {\n      const { data } = await api.get(\"/schedules/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_SCHEDULES\", payload: data.schedules });\n      setHasMore(data.hasMore);\n      setContactId(null);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  }, [searchParam, pageNumber]);\n\n  const handleOpenScheduleModalFromContactId = useCallback(() => {\n    if (contactId) {\n      handleOpenScheduleModal();\n    }\n  }, [contactId]);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchSchedules();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber, contactId, fetchSchedules, handleOpenScheduleModalFromContactId]);\n\n  useEffect(() => {\n    handleOpenScheduleModalFromContactId();\n    const socket = openSocket();\n\n    socket.on(\"user\", (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_SCHEDULES\", payload: data.schedules });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_USER\", payload: +data.scheduleId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [handleOpenScheduleModalFromContactId]);\n\n  const cleanContact = () => {\n    setContactId(null);\n  }\n\n  const handleOpenScheduleModal = () => {\n    setSelectedSchedule(null);\n    setScheduleModalOpen(true);\n  };\n\n  const handleCloseScheduleModal = () => {\n    setSelectedSchedule(null);\n    setScheduleModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditSchedule = (schedule) => {\n    setSelectedSchedule(schedule);\n    setScheduleModalOpen(true);\n  };\n\n  const handleDeleteSchedule = async (scheduleId) => {\n    try {\n      await api.delete(`/schedules/${scheduleId}`);\n      toast.success(i18n.t(\"schedules.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingSchedule(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n    await fetchSchedules();\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const truncate = (str, len) => {\n    if (str.length > len) {\n      return str.substring(0, len) + '...';\n    }\n    return str;\n  }\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingSchedule &&\n          `${i18n.t(\"schedules.confirmationModal.deleteTitle\")}`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteSchedule(deletingSchedule.id)}\n      >\n        {i18n.t(\"schedules.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <ScheduleModal\n        open={scheduleModalOpen}\n        onClose={handleCloseScheduleModal}\n        reload={fetchSchedules}\n        aria-labelledby=\"form-dialog-title\"\n        scheduleId={selectedSchedule && selectedSchedule.id}\n        contactId={contactId}\n        cleanContact={cleanContact}\n        setContactId={setContactId}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"schedules.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenScheduleModal}\n          >\n            {i18n.t(\"schedules.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">{i18n.t(\"schedules.table.contact\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"schedules.table.body\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"schedules.table.sendAt\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"schedules.table.status\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"schedules.table.actions\")}</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {schedules.map((schedule) => (\n                <TableRow key={schedule.id}>\n                  <TableCell align=\"center\">{schedule.contact.name}</TableCell>\n                  <TableCell align=\"center\" title={schedule.body}>{truncate(schedule.body, 25)}</TableCell>\n                  <TableCell align=\"center\">{moment(schedule.sendAt).format('DD/MM/YYYY HH:mm:ss')}</TableCell>\n                  <TableCell align=\"center\">{capitalize(schedule.status)}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditSchedule(schedule)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingSchedule(schedule);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Schedules;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport LinearProgress from '@material-ui/core/LinearProgress';\n\nconst useStyles = makeStyles({\n  root: {\n    width: '100%',\n    marginTop: '1rem',\n  },\n});\n\nexport default function LinearDeterminate({progressMessage}) {\n  const classes = useStyles();\n  const [progress, setProgress] = React.useState(0);\n\n  React.useEffect(() => {\n    setProgress(progressMessage);\n  }, [progressMessage]);\n\n  return (\n    <div className={classes.root}>\n      <LinearProgress variant=\"determinate\" value={progress} />\n    </div>\n  );\n}","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Paper from \"@material-ui/core/Paper\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  paper: {\n    height: 240,\n    width: 240,\n  },\n  control: {\n    padding: theme.spacing(2),\n  },\n}));\n\nexport default function SpacingGrid({ message }) {\n  const classes = useStyles();\n\n  return (\n    <Grid container className={classes.root} spacing={2}  style={{\n      marginTop: \"20px\",\n    }}>\n      <Grid item xs={12}>\n        <Grid container justifyContent=\"center\" spacing={2}>\n          {message.map((value) => (\n            <Grid key={value.phone} item>\n              <Paper className={classes.paper}>\n                \n                <Typography variant=\"body2\" component=\"p\">\n                  {value.phone}\n                </Typography>\n\n                <Typography variant=\"body2\" component=\"p\">\n                  {value.message}\n                </Typography>\n                </Paper>\n            </Grid>\n          ))}\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\n\nimport {\n\tTooltip,\n\tTypography,\n\tCircularProgress,\n} from \"@material-ui/core\";\n\nimport {\n\tSignalCellularConnectedNoInternet2Bar,\n\tSignalCellularConnectedNoInternet0Bar,\n\tSignalCellular4Bar,\n\tCropFree,\n} from \"@material-ui/icons\";\n\nimport { green } from \"@material-ui/core/colors\";\n\nconst useStyles = makeStyles(theme => ({\n\tchips: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tchip: {\n\t\tmargin: 2,\n\t},\n}));\n\nconst CustomToolTip = ({ title, content, children }) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Tooltip\n\t\t\tarrow\n\t\t\tclasses={{\n\t\t\t\ttooltip: classes.tooltip,\n\t\t\t\tpopper: classes.tooltipPopper,\n\t\t\t}}\n\t\t\ttitle={\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<Typography gutterBottom color=\"inherit\">\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t{content && <Typography>{content}</Typography>}\n\t\t\t\t</React.Fragment>\n\t\t\t}\n\t\t>\n\t\t\t{children}\n\t\t</Tooltip>\n\t);\n};\n\nconst QueueSelect = ({ selectedQueueIds, onChange }) => {\n\tconst classes = useStyles();\n\tconst [queues, setQueues] = useState([]);\n\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(\"/whatsapp\");\n\t\t\t\tconst conectionNotDefault = data.filter(\n\t\t\t\t\tconection => conection.isDefault !== true\n\t\t\t\t);\n\t\t\t\tsetQueues(conectionNotDefault);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t})();\n\t}, []);\n\n\tconst handleChange = e => {\n\t\tonChange(e.target.value);\n\t};\n\n\tconst renderStatusToolTips = whatsApp => {\n\t\treturn (\n\t\t\t<div className={classes.customTableCell}>\n\t\t\t\t{whatsApp.status === \"DISCONNECTED\" && (\n\t\t\t\t\t<CustomToolTip\n\t\t\t\t\t\ttitle={i18n.t(\"connections.toolTips.disconnected.title\")}\n\t\t\t\t\t\tcontent={i18n.t(\"connections.toolTips.disconnected.content\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SignalCellularConnectedNoInternet0Bar color=\"secondary\" />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"OPENING\" && (\n\t\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"qrcode\" && (\n\t\t\t\t\t<CustomToolTip\n\t\t\t\t\t\ttitle={i18n.t(\"connections.toolTips.qrcode.title\")}\n\t\t\t\t\t\tcontent={i18n.t(\"connections.toolTips.qrcode.content\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<CropFree />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"CONNECTED\" && (\n\t\t\t\t\t<CustomToolTip title={i18n.t(\"connections.toolTips.connected.title\")}>\n\t\t\t\t\t\t<SignalCellular4Bar style={{ color: green[500] }} />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t\t{(whatsApp.status === \"TIMEOUT\" || whatsApp.status === \"PAIRING\") && (\n\t\t\t\t\t<CustomToolTip\n\t\t\t\t\t\ttitle={i18n.t(\"connections.toolTips.timeout.title\")}\n\t\t\t\t\t\tcontent={i18n.t(\"connections.toolTips.timeout.content\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SignalCellularConnectedNoInternet2Bar color=\"secondary\" />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst renderSelect = whatsApp => {\n\t\tconst queue = queues.find(q => q.id === whatsApp);\n\t\t\n\t\treturn queue ? (\n\t\t\t<div style={{\n\t\t\t\tdisplay: 'flex',\n\t\t\t\talignItems: 'center',\n\t\t\t\tjustifyContent: 'space-between'\n\t\t\t}}>\n\t\t\t\t{queue.name}\n\t\t\t\t{renderStatusToolTips(queue)}\n\t\t\t</div>\n\t\t) : null;\n\t}\n\n\treturn (\n\t\t<div style={{ marginTop: 6 }}>\n\t\t\t<FormControl fullWidth margin=\"dense\" variant=\"outlined\">\n\t\t\t\t<InputLabel>Selecione uma conexo*</InputLabel>\n\t\t\t\t<Select\n\t\t\t\t\t// multiple\n\t\t\t\t\tlabelWidth={180}\n\t\t\t\t\tvalue={selectedQueueIds}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t}}\n\t\t\t\t\trenderValue={selected => renderSelect(selected)}\n\t\t\t\t>\n\t\t\t\t\t{queues.map(queue => (\n\t\t\t\t\t\t<MenuItem key={queue.id} value={queue.id} style={{\n\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\tjustifyContent: 'space-between'\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t{queue.name}\n\t\t\t\t\t\t\t{renderStatusToolTips(queue)}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t))}\n\t\t\t\t</Select>\n\t\t\t</FormControl>\n\t\t</div>\n\t);\n};\n\nexport default QueueSelect;","import Button from \"@material-ui/core/Button\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { green } from \"@material-ui/core/colors\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { Field, Form, Formik } from \"formik\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport * as Yup from \"yup\";\nimport LinearBuffer from \"../../components/LinearBuffer\";\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport PreviewMessage from \"../../components/PreviewMessage\";\nimport SelectConection from \"../../components/SelectConection\";\nimport Title from \"../../components/Title\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\n\n\n\n\n\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1,\n  },\n\n  extraAttr: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n    marginTop: theme.spacing(2),\n    marginRight: theme.spacing(1),\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n}));\n\nconst ContactSchema = Yup.object().shape({\n  csv: Yup.string().required(\"Required\"),\n  model: Yup.string().required(\"Required\"),\n});\n\nexport const RenderForm = ({\n  classes,\n  contact,\n  handleSaveContact,\n  selectedQueueIds,\n  setSelectedQueueIds,\n  progressMessage,\n  handlePreview,\n}) => {\n  return (\n    <div className={classes.root}>\n      <Formik\n        initialValues={contact}\n        enableReinitialize={true}\n        validationSchema={ContactSchema}\n        onSubmit={(values, actions) => {\n          setTimeout(() => {\n            handleSaveContact(values, actions);\n          }, 400);\n        }}\n      >\n        {({ values, errors, touched, isSubmitting, onChange }) => (\n          <Form>\n            <div>\n              <SelectConection\n                selectedQueueIds={selectedQueueIds}\n                onChange={(selectedIds) => setSelectedQueueIds(selectedIds)}\n              />\n              <Field\n                as={TextField}\n                label=\"Modelo\"\n                type=\"model\"\n                multiline\n                minRows={10}\n                fullWidth\n                name=\"model\"\n                error={touched.model && Boolean(errors.model)}\n                helperText={touched.model && errors.model}\n                variant=\"outlined\"\n                margin=\"dense\"\n              />\n\n              <Field\n                as={TextField}\n                label=\"Dados\"\n                type=\"csv\"\n                multiline\n                minRows={5}\n                fullWidth\n                name=\"csv\"\n                error={touched.csv && Boolean(errors.csv)}\n                helperText={touched.csv && errors.csv}\n                variant=\"outlined\"\n                margin=\"dense\"\n              />\n\n              {/* <DataTable className={classes.btnWrapper} /> */}\n\n              <LinearBuffer progressMessage={progressMessage} />\n            </div>\n            <div>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                disabled={isSubmitting}\n                onClick={() => handlePreview(values)}\n                className={classes.btnWrapper}\n              >\n                Mostrar preview\n              </Button>\n\n              <Button\n                type=\"submit\"\n                color=\"primary\"\n                disabled={isSubmitting}\n                variant=\"contained\"\n                className={classes.btnWrapper}\n              >\n                Enviar Mensagem\n                {isSubmitting && (\n                  <CircularProgress\n                    size={24}\n                    className={classes.buttonProgress}\n                  />\n                )}\n              </Button>\n            </div>\n          </Form>\n        )}\n      </Formik>\n    </div>\n  );\n};\n\nconst Contacts = () => {\n  const classes = useStyles();\n  const isMounted = useRef(true);\n  const [selectedQueueIds, setSelectedQueueIds] = useState();\n  const [progressMessage, setProgressMessage] = useState(0);\n  const [startSendMessage, ] = useState(false);\n  const [message, setMessage] = useState([]);\n  const initialState = {\n    csv: \"\",\n    model: \"\",\n  };\n\n  const [contact, setContact] = useState(initialState);\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  const handleClose = () => {\n    setContact(initialState);\n    setProgressMessage(0);\n  };\n\n  const formatNumber = (number) => {\n    if(!number) toastError(\"Nmero invlido\");\n    if (number.length > 11 && number.startsWith(\"55\")) {\n      return `${number}`;\n    }else {\n      return `55${number}`;\n    }\n  };\n\n  const handleSaveContact = async (values, actions) => {\n    try {\n\n      if(!values.csv || !values.model) {\n        toast.error(\"Preencha todos os campos\");\n        actions.setSubmitting(false);\n        return;\n      }\n\n      if(!selectedQueueIds) {\n        toast.error(\"Selecione uma conexo\");\n        actions.setSubmitting(false);\n        return;\n      }\n\n      let { csv, model } = values;\n      const csvHeader = csv.slice(0, csv.indexOf(\"\\n\")).split(\",\");\n      const csvRows = csv.slice(csv.indexOf(\"\\n\") + 1).split(\"\\n\");\n\n      const array = csvRows.map((i) => {\n        const values = i.split(\",\");\n        const obj = csvHeader.reduce((object, header, index) => {\n          object[header] = values[index];\n          return object;\n        }, {});\n        return obj;\n      });\n\n      let rawMsg = [];\n      let listMessage = [];\n\n      array.forEach((value, index) => {\n        rawMsg.push(model.replace(/\\{([^}]+)\\}/g, (match, key) => value[key]));\n      });\n\n      array.forEach(async (value, index) => {\n        const getValueObject = Object.values(value);\n        listMessage.push({\n          message: rawMsg[index],\n          phone: formatNumber(getValueObject[0]),\n          whatsappId: selectedQueueIds,\n        });\n      });\n      try {\n       console.log(listMessage)\n\n       await api.post(\"/bulkMessage\", listMessage);\n        handleClose();\n        actions.setSubmitting(false);\n  \n        toast.success(`${listMessage.length} Mensagem salva no banco de dados com sucesso`);\n      } catch (error) {\n        toastError(error);\n      }\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handlePreview = async (values) => {\n    try {\n      let { csv, model } = values;\n      const csvHeader = csv.slice(0, csv.indexOf(\"\\n\")).split(\",\");\n      const csvRows = csv.slice(csv.indexOf(\"\\n\") + 1).split(\"\\n\");\n\n      const array = csvRows.map((i) => {\n        const values = i.split(\",\");\n        const obj = csvHeader.reduce((object, header, index) => {\n          object[header] = values[index];\n          return object;\n        }, {});\n        return obj;\n      });\n\n      let rawMsg = [];\n      let listMessage = [];\n\n      array.forEach((value, index) => {\n        rawMsg.push(model.replace(/\\{([^}]+)\\}/g, (match, key) => value[key]));\n      });\n\n\n      array.forEach(async (value, index) => {\n        const getValueObject = Object.values(value);\n        listMessage.push({\n          message: rawMsg[index],\n          phone: formatNumber(getValueObject[0]),\n          whatsappId: selectedQueueIds,\n        });\n      });\n\n      setMessage(listMessage);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  // const sendBulkMessage = async (message) => {\n  //   let completedCount = 0;\n\n  //   for (const iterator of message) {\n  //     try {\n  //       setStartSendMessage(true);\n  //       await api.post(\"/bulkMessage/send\", iterator);\n  //       completedCount++;\n  //       setProgressMessage((completedCount / message.length) * 100);\n  //       await wait(5000);\n  //     } catch (err) {\n  //       toastError(err);\n  //     }\n  //   }\n  // };\n\n  // const wait = (milliseconds) => {\n  //   return new Promise((resolve) => setTimeout(resolve, milliseconds));\n  // };\n\n  return (\n    <MainContainer className={classes.mainContainer}>\n      <MainHeader>\n        <Title>Envio de Mensagem</Title>\n      </MainHeader>\n      <Paper className={classes.mainPaper} variant=\"outlined\">\n        <RenderForm\n          classes={classes}\n          contact={contact}\n          setContact={setContact}\n          selectedQueueIds={selectedQueueIds}\n          setSelectedQueueIds={setSelectedQueueIds}\n          progressMessage={progressMessage}\n          setProgressMessage={setProgressMessage}\n          startSendMessage={startSendMessage}\n          handleSaveContact={handleSaveContact}\n          handlePreview={handlePreview}\n        />\n\n        <div>\n          {message.length > 0 && (\n            <PreviewMessage\n              message={message}\n             \n            />\n          )}\n        </div>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Contacts;\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport Paper from \"@material-ui/core/Paper\";\nimport Input from \"@material-ui/core/Input\";\n\nimport clsx from \"clsx\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport TextField from \"@material-ui/core/TextField\";\n\nimport FormLabel from \"@material-ui/core/FormLabel\";\nimport FormGroup from \"@material-ui/core/FormGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\n\nimport SelectConection from \"../../components/SelectConection\";\n\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport MainContainer from \"../../components/MainContainer\";\nimport Switch from \"@material-ui/core/Switch\";\nimport Button from \"@material-ui/core/Button\";\nimport { toast } from \"react-toastify\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n.js\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    \"& .MuiTextField-root\": {\n      margin: theme.spacing(1),\n    },\n  },\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  margin: {\n    marginTop: theme.spacing(2),\n    // marginBottom: theme.spacing(2),\n    // marginLeft: theme.spacing(2),\n    marginRight: theme.spacing(1),\n  },\n  withoutLabel: {\n    marginTop: theme.spacing(1),\n  },\n  textField: {\n    width: \"25ch\",\n  },\n}));\n\nconst ConfigMessage = () => {\n  const classes = useStyles();\n  const isMounted = useRef(true);\n  const [selectedQueueIds, setSelectedQueueIds] = useState([]);\n\n  const [values, setValues] = React.useState({});\n\n  const [state, setState] = React.useState({\n    contact: false,\n    photo: false,\n    random: false,\n  });\n\n\n\n  useEffect(() => {\n    console.log('mudou', selectedQueueIds)\n\n    setValues({\n      limit: \"\",\n      minutes: \"\",\n      seconds: \"\",\n\n    });\n\n    if(!selectedQueueIds) return\n    api.get(`/settingsMessage/${selectedQueueIds}`).then((response) => {\n      console.log('response', response.data)\n      setValues({\n        limit: response.data.limit,\n        minutes: response.data.minutes,\n        seconds: response.data.seconds,\n      });\n      setState({\n        contact: response.data.contacts,\n        photo: response.data.photo,\n        random: response.data.random,\n      });\n\n    }\n    ).catch((error) => {\n      toastError(error);\n    }\n    );\n\n\n\n  }, [selectedQueueIds])\n\n  const handleChange = (prop) => (event) => {\n    setValues({ ...values, [prop]: event.target.value });\n  };\n\n  const handleChangeChecked = (event) => {\n    setState({ ...state, [event.target.name]: event.target.checked });\n  };\n\n  const handleSaveSettings = async() => {\n    const data = {\n      ...values,\n      ...state,\n      whatsappId: selectedQueueIds,\n    }\n\n\n    try {\n      await api.post(`/settingsMessage`, data);\n      toast.success(i18n.t(\"settings.success\"));\n    } catch (err) {\n      toastError(err);\n    }\n\n    console.log(data);\n  }\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  return (\n    <MainContainer className={classes.mainContainer}>\n      <MainHeader>\n        <Title>Configurao de envio de mensagem.</Title>\n      </MainHeader>\n      <Paper className={classes.mainPaper} variant=\"outlined\">\n        <SelectConection\n          selectedQueueIds={selectedQueueIds}\n          onChange={(selectedIds) => setSelectedQueueIds(selectedIds)}\n        />\n\n        <div>\n          <TextField\n            label=\"Limite de envio a cada 24h\"\n            id=\"limit\"\n            onChange={handleChange(\"limit\")}\n            className={clsx(classes.margin, classes.textField)}\n            value={values.limit}\n            type=\"number\"\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">Limite</InputAdornment>\n              ),\n            }}\n          />\n\n          <TextField\n            label=\"Aguardar entre\"\n            id=\"minutes\"\n            value={values.minutes}\n            onChange={handleChange(\"minutes\")}\n            className={clsx(classes.margin, classes.textField)}\n            type=\"number\"\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">Minutos</InputAdornment>\n              ),\n            }}\n          />\n\n          <TextField\n            label=\"Segundos a cada envio\"\n            id=\"seconds\"\n            value={values.seconds}\n            onChange={handleChange(\"seconds\")}\n            className={clsx(classes.margin, classes.textField)}\n            type=\"number\"\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">Segundos</InputAdornment>\n              ),\n            }}\n          />\n        </div>\n        <div>\n          <FormControl\n            component=\"fieldset\"\n            fullWidth\n            className={classes.margin}\n          >\n            <FormLabel component=\"legend\">Configuraes adicionais</FormLabel>\n            <FormGroup>\n              <FormControlLabel\n                control={\n                  <Switch\n                    checked={state.contact}\n                    onChange={handleChangeChecked}\n                    name=\"contact\"\n                  />\n                }\n                label=\"Enviar s para os meus contatos\"\n              />\n              <FormControlLabel\n                control={\n                  <Switch\n                    checked={state.photo}\n                    onChange={handleChangeChecked}\n                    name=\"photo\"\n                  />\n                }\n                label=\"Enviar mensagem s para os numeros que tem foto\"\n              />\n              <FormControlLabel\n                control={\n                  <Switch\n                    checked={state.random}\n                    onChange={handleChangeChecked}\n                    name=\"random\"\n                  />\n                }\n                label=\"Enviar em orderm aleatoria  \"\n              />\n            </FormGroup>\n          </FormControl>\n\n          <FormControl fullWidth className={classes.margin}>\n            <InputLabel htmlFor=\"standard-adornment-amount\">\n              Incluir mensagem no final com opo de no receber mais (opt-out)\n            </InputLabel>\n            <Input\n              id=\"standard-adornment-amount\"\n              onChange={handleChange(\"optOut\")}\n              multiline\n              rows={5}\n              margin=\"dense\"\n              variant=\"outlined\"\n            />\n          </FormControl>\n        </div>\n\n        <div>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.margin}\n            onClick={() => {\n       \n              handleSaveSettings();\n            }}\n          >\n            Salvar configuraes\n          </Button>\n        </div>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default ConfigMessage;\n","import React, { useState, useEffect } from \"react\";\nimport openSocket from \"../../services/socket-io\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Container from \"@material-ui/core/Container\";\nimport Select from \"@material-ui/core/Select\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { toast } from \"react-toastify\";\n\nimport Tooltip from \"@material-ui/core/Tooltip\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n.js\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tpadding: theme.spacing(8, 8, 3),\n\t},\n\n\tpaper: {\n\t\tpadding: theme.spacing(2),\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tmarginBottom: 12,\n\n\t},\n\n\tsettingOption: {\n\t\tmarginLeft: \"auto\",\n\t},\n\tmargin: {\n\t\tmargin: theme.spacing(1),\n\t},\n\n}));\n\nconst Settings = () => {\n\tconst classes = useStyles();\n\n\tconst [settings, setSettings] = useState([]);\n\n\tuseEffect(() => {\n\t\tconst fetchSession = async () => {\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(\"/settings\");\n\t\t\t\tsetSettings(data);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\t\tfetchSession();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst socket = openSocket();\n\n\t\tsocket.on(\"settings\", data => {\n\t\t\tif (data.action === \"update\") {\n\t\t\t\tsetSettings(prevState => {\n\t\t\t\t\tconst aux = [...prevState];\n\t\t\t\t\tconst settingIndex = aux.findIndex(s => s.key === data.setting.key);\n\t\t\t\t\taux[settingIndex].value = data.setting.value;\n\t\t\t\t\treturn aux;\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\treturn () => {\n\t\t\tsocket.disconnect();\n\t\t};\n\t}, []);\n\n\tconst handleChangeSetting = async e => {\n\t\tconst selectedValue = e.target.value;\n\t\tconst settingKey = e.target.name;\n\n\t\ttry {\n\t\t\tawait api.put(`/settings/${settingKey}`, {\n\t\t\t\tvalue: selectedValue,\n\t\t\t});\n\t\t\ttoast.success(i18n.t(\"settings.success\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst getSettingValue = key => {\n\t\tconst { value } = settings.find(s => s.key === key);\n\t\treturn value;\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Container className={classes.container} >\n\t\t\t\t<Typography variant=\"body2\" gutterBottom>\n\t\t\t\t\t{i18n.t(\"settings.title\")}\n\t\t\t\t</Typography>\n\t\t\t\t<Paper className={classes.paper}>\n\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t{i18n.t(\"settings.settings.userCreation.name\")}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Select\n\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tnative\n\t\t\t\t\t\tid=\"userCreation-setting\"\n\t\t\t\t\t\tname=\"userCreation\"\n\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\tsettings && settings.length > 0 && getSettingValue(\"userCreation\")\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclassName={classes.settingOption}\n\t\t\t\t\t\tonChange={handleChangeSetting}\n\t\t\t\t\t>\n\t\t\t\t\t\t<option value=\"enabled\">\n\t\t\t\t\t\t\t{i18n.t(\"settings.settings.userCreation.options.enabled\")}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t<option value=\"disabled\">\n\t\t\t\t\t\t\t{i18n.t(\"settings.settings.userCreation.options.disabled\")}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t</Select>\n\t\t\t\t</Paper>\n\t\t\t\t\t\t\t\n\t\t\t\t<Typography variant=\"body2\" gutterBottom></Typography>\n\t\t\t\t<Tooltip title={i18n.t(\"settings.settings.timeCreateNewTicket.note\")}>\n\t\t\t\t\t<Paper className={classes.paper} elevation={3}>\n\t\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t\t{i18n.t(\"settings.settings.timeCreateNewTicket.name\")}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tnative\n\t\t\t\t\t\t\tid=\"timeCreateNewTicket-setting\"\n\t\t\t\t\t\t\tname=\"timeCreateNewTicket\"\n\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\tsettings && settings.length > 0 && getSettingValue(\"timeCreateNewTicket\")\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tclassName={classes.settingOption}\n\t\t\t\t\t\t\tonChange={handleChangeSetting}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"10\">\n\t\t\t\t\t\t\t\t{i18n.t(\"settings.settings.timeCreateNewTicket.options.10\")}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t<option value=\"30\">\n\t\t\t\t\t\t\t\t{i18n.t(\"settings.settings.timeCreateNewTicket.options.30\")}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t<option value=\"60\">\n\t\t\t\t\t\t\t\t{i18n.t(\"settings.settings.timeCreateNewTicket.options.60\")}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t<option value=\"300\">\n\t\t\t\t\t\t\t\t{i18n.t(\"settings.settings.timeCreateNewTicket.options.300\")}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t<option value=\"1800\">\n\t\t\t\t\t\t\t\t{i18n.t(\"settings.settings.timeCreateNewTicket.options.1800\")}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t<option value=\"3600\">\n\t\t\t\t\t\t\t\t{i18n.t(\"settings.settings.timeCreateNewTicket.options.3600\")}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t<option value=\"7200\">\n\t\t\t\t\t\t\t\t{i18n.t(\"settings.settings.timeCreateNewTicket.options.7200\")}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t<option value=\"21600\">\n\t\t\t\t\t\t\t\t{i18n.t(\"settings.settings.timeCreateNewTicket.options.21600\")}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t<option value=\"43200\">\n\t\t\t\t\t\t\t\t{i18n.t(\"settings.settings.timeCreateNewTicket.options.43200\")}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t<option value=\"86400\">\n\t\t\t\t\t\t\t\t{i18n.t(\"settings.settings.timeCreateNewTicket.options.86400\")}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t<option value=\"172800\">\n\t\t\t\t\t\t\t\t{i18n.t(\"settings.settings.timeCreateNewTicket.options.172800\")}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t</Paper>\n\t\t\t\t</Tooltip>\n\n\t\t\t\t<Typography variant=\"body2\" gutterBottom></Typography>\n\t\t\t\t<Paper className={classes.paper}>\n\n\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t{i18n.t(\"settings.settings.call.name\")}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Select\n\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tnative\n\t\t\t\t\t\tid=\"call-setting\"\n\t\t\t\t\t\tname=\"call\"\n\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\tsettings && settings.length > 0 && getSettingValue(\"call\")\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclassName={classes.settingOption}\n\t\t\t\t\t\tonChange={handleChangeSetting}\n\t\t\t\t\t>\n\t\t\t\t\t\t<option value=\"enabled\">\n\t\t\t\t\t\t\t{i18n.t(\"settings.settings.call.options.enabled\")}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t<option value=\"disabled\">\n\t\t\t\t\t\t\t{i18n.t(\"settings.settings.call.options.disabled\")}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t</Select>\n\t\t\t\t</Paper>\n\n\t\t\t\t<Paper className={classes.paper}>\n\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t{i18n.t(\"settings.settings.CheckMsgIsGroup.name\")}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Select\n\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tnative\n\t\t\t\t\t\tid=\"CheckMsgIsGroup-setting\"\n\t\t\t\t\t\tname=\"CheckMsgIsGroup\"\n\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\tsettings && settings.length > 0 && getSettingValue(\"CheckMsgIsGroup\")\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclassName={classes.settingOption}\n\t\t\t\t\t\tonChange={handleChangeSetting}\n\t\t\t\t\t>\n\t\t\t\t\t\t<option value=\"enabled\">\n\t\t\t\t\t\t\t{i18n.t(\"settings.settings.CheckMsgIsGroup.options.enabled\")}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t<option value=\"disabled\">\n\t\t\t\t\t\t\t{i18n.t(\"settings.settings.CheckMsgIsGroup.options.disabled\")}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t</Select>\n\t\t\t\t</Paper>\n\n\t\t\t\t<Paper className={classes.paper}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tid=\"api-token-setting\"\n\t\t\t\t\t\treadonly\n\t\t\t\t\t\tlabel=\"Token Api\"\n\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tvalue={settings && settings.length > 0 && getSettingValue(\"userApiToken\")}\n\t\t\t\t\t/>\n\t\t\t\t</Paper>\n\n        <Paper className={classes.paper}>\n          <Typography variant=\"body1\">\n            Tipo do Chatbot\n          </Typography>\n          <Select\n            margin=\"dense\"\n            variant=\"outlined\"\n            native\n            id=\"chatBotType-setting\"\n            name=\"chatBotType\"\n            value={settings && settings.length > 0 && getSettingValue(\"chatBotType\")}\n            className={classes.settingOption}\n            onChange={handleChangeSetting}\n          >\n            <option value=\"text\">\n              Texto\n            </option>\n\n            <option value=\"button\">\n              Boto\n            </option>\n\n\t\t\t\t\t\t<option value=\"list\">\n              Lista\n            </option>\n\n          </Select>\n        </Paper>\n\n\t\t\t</Container>\n\t\t</div>\n\t);\n};\n\nexport default Settings;","import React, { useState, useEffect, useReducer } from \"react\";\nimport openSocket from \"../../services/socket-io\";\n\nimport {\n  IconButton,\n  makeStyles,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  InputAdornment,\n  TextField,\n  Button\n} from \"@material-ui/core\";\nimport { DeleteOutline } from \"@material-ui/icons\";\nimport SearchIcon from \"@material-ui/icons/Search\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport { toast } from \"react-toastify\";\nimport toastError from \"../../errors/toastError\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_QUICK_ANSWERS\") {\n    const quickAnswers = action.payload;\n    const newQuickAnswers = [];\n\n    quickAnswers.forEach((quickAnswer) => {\n      const quickAnswerIndex = state.findIndex((q) => q.id === quickAnswer.id);\n      if (quickAnswerIndex !== -1) {\n        state[quickAnswerIndex] = quickAnswer;\n      } else {\n        newQuickAnswers.push(quickAnswer);\n      }\n    });\n\n    return [...state, ...newQuickAnswers];\n  }\n\n  if (action.type === \"UPDATE_QUICK_ANSWERS\") {\n    const quickAnswer = action.payload;\n    const quickAnswerIndex = state.findIndex((q) => q.id === quickAnswer.id);\n\n    if (quickAnswerIndex !== -1) {\n      state[quickAnswerIndex] = quickAnswer;\n      return [...state];\n    } else {\n      return [quickAnswer, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_MASS_MESSAGE\") {\n    const massMessageId = action.payload;\n    console.log(massMessageId);\n    const quickAnswerIndex = state.findIndex((q) => q.id === massMessageId);\n    if (quickAnswerIndex !== -1) {\n      state.splice(quickAnswerIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst QuickAnswers = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [quickAnswers, dispatch] = useReducer(reducer, []);\n  const [deletingQuickAnswers, setDeletingQuickAnswers] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [hasMore, setHasMore] = useState(false);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchQuickAnswers = async () => {\n        try {\n          const { data } = await api.get(\"/bulkMessage/report\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_QUICK_ANSWERS\", payload: data.messages });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchQuickAnswers();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const socket = openSocket();\n\n    socket.on(\"massMessage\", (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({\n          type: \"UPDATE_QUICK_ANSWERS\",\n          payload: data.scheduleRecord,\n        });\n      }\n\n      if (data.action === \"delete\") {\n        console.log(\"delete\");\n        dispatch({\n          type: \"DELETE_MASS_MESSAGE\",\n          payload: +data.scheduleRecord,\n        });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleDeleteQuickAnswers = async (massMessageId) => {\n    try {\n      await api.delete(`/bulkMessage/d/${massMessageId}`);\n      toast.success(i18n.t(\"quickAnswers.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingQuickAnswers(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const handleDeleteAll = async () => {\n    try {\n      await api.delete(`/bulkMessage/clean`);\n      toast.success(i18n.t(\"quickAnswers.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    quickAnswers(reducer, []);\n    setDeletingQuickAnswers(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingQuickAnswers &&\n          `Voc tem certeza que quer excluir este relatrio: ${deletingQuickAnswers.phone}?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteQuickAnswers(deletingQuickAnswers.id)}\n      >\n        {i18n.t(\"quickAnswers.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <MainHeader>\n        <Title>Relatrio de envio de mensagens</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"quickAnswers.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleDeleteAll}\n          >\n            Limpar base \n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">Conexo</TableCell>\n              <TableCell align=\"center\">Numero</TableCell>\n              <TableCell align=\"center\">Mensagem</TableCell>\n              <TableCell align=\"center\">Status</TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"quickAnswers.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {quickAnswers.map((quickAnswer) => (\n                <TableRow key={quickAnswer.id}>\n                  <TableCell align=\"center\">\n                    {quickAnswer?.whatsapp?.name} /{\" \"}\n                    {quickAnswer?.whatsapp?.number}\n                  </TableCell>\n                  <TableCell align=\"center\">{quickAnswer.phone}</TableCell>\n                  <TableCell align=\"center\">{quickAnswer.message}</TableCell>\n                  <TableCell align=\"center\">{quickAnswer.status}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingQuickAnswers(quickAnswer);\n                      }}\n                    >\n                      <DeleteOutline />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={3} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default QuickAnswers;\n","import React, { useState } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { useHistory } from \"react-router-dom\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { Formik, Form, Field } from \"formik\";\n\nimport {\n\tAvatar,\n\tButton,\n\tCssBaseline,\n\tTextField,\n\tGrid,\n\tBox,\n\tTypography,\n\tContainer,\n\tInputAdornment,\n\tIconButton,\n\tLink\n} from '@material-ui/core';\n\nimport { LockOutlined, Visibility, VisibilityOff } from '@material-ui/icons';\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\n// const Copyright = () => {\n// \treturn (\n// \t\t<Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n// \t\t\t{\"Copyleft \"}\n// \t\t\t<Link color=\"inherit\" href=\"https://github.com/canove\">\n// \t\t\t\tCanove\n// \t\t\t</Link>{\" \"}\n// \t\t\t{new Date().getFullYear()}\n// \t\t\t{\".\"}\n// \t\t</Typography>\n// \t);\n// };\n\nconst useStyles = makeStyles(theme => ({\n\tpaper: {\n\t\tmarginTop: theme.spacing(8),\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t},\n\tavatar: {\n\t\tmargin: theme.spacing(1),\n\t\tbackgroundColor: theme.palette.secondary.main,\n\t},\n\tform: {\n\t\twidth: \"100%\",\n\t\tmarginTop: theme.spacing(3),\n\t},\n\tsubmit: {\n\t\tmargin: theme.spacing(3, 0, 2),\n\t},\n}));\n\nconst UserSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tpassword: Yup.string().min(5, \"Too Short!\").max(50, \"Too Long!\"),\n\temail: Yup.string().email(\"Invalid email\").required(\"Required\"),\n});\n\nconst SignUp = () => {\n\tconst classes = useStyles();\n\tconst history = useHistory();\n\n\tconst initialState = { name: \"\", email: \"\", password: \"\" };\n\tconst [showPassword, setShowPassword] = useState(false);\n\tconst [user] = useState(initialState);\n\n\tconst handleSignUp = async values => {\n\t\ttry {\n\t\t\tawait api.post(\"/auth/signup\", values);\n\t\t\ttoast.success(i18n.t(\"signup.toasts.success\"));\n\t\t\thistory.push(\"/login\");\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Container component=\"main\" maxWidth=\"xs\">\n\t\t\t<CssBaseline />\n\t\t\t<div className={classes.paper}>\n\t\t\t\t<Avatar className={classes.avatar}>\n\t\t\t\t\t<LockOutlined />\n\t\t\t\t</Avatar>\n\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\n\t\t\t\t\t{i18n.t(\"signup.title\")}\n\t\t\t\t</Typography>\n\t\t\t\t{/* <form className={classes.form} noValidate onSubmit={handleSignUp}> */}\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={user}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={UserSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSignUp(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting }) => (\n\t\t\t\t\t\t<Form className={classes.form}>\n\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"name\"\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"signup.form.name\")}\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"signup.form.email\")}\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"email\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"current-password\"\n\t\t\t\t\t\t\t\t\t\terror={touched.password && Boolean(errors.password)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.password && errors.password}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"signup.form.password\")}\n\t\t\t\t\t\t\t\t\t\ttype={showPassword ? 'text' : 'password'}\n\t\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"toggle password visibility\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setShowPassword((e) => !e)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{showPassword ? <VisibilityOff /> : <Visibility />}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tclassName={classes.submit}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{i18n.t(\"signup.buttons.submit\")}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Grid container justifyContent=\"flex-end\">\n\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\thref=\"#\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\t\t\tcomponent={RouterLink}\n\t\t\t\t\t\t\t\t\t\tto=\"/login\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{i18n.t(\"signup.buttons.login\")}\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</div>\n\t\t\t<Box mt={5}>{/* <Copyright /> */}</Box>\n\t\t</Container>\n\t);\n};\n\nexport default SignUp;\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { Colorize } from \"@material-ui/icons\";\nimport { ColorBox } from 'material-ui-color';\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { IconButton, InputAdornment } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tmultFieldLine: {\n\t\tdisplay: \"flex\",\n\t\t\"& > *:not(:last-child)\": {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tformControl: {\n\t\tmargin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n\tcolorAdorment: {\n\t\twidth: 20,\n\t\theight: 20,\n\t},\n}));\n\nconst TagSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(3, \"Mensagem muito curta\")\n\t\t.required(\"Obrigatrio\")\n});\n\nconst TagModal = ({ open, onClose, tagId, reload }) => {\n\tconst classes = useStyles();\n\tconst { user } = useContext(AuthContext);\n\tconst [colorPickerModalOpen, setColorPickerModalOpen] = useState(false);\n\n\tconst initialState = {\n\t\tname: \"\",\n\t\tcolor: \"\"\n\t};\n\n\tconst [tag, setTag] = useState(initialState);\n\n\tuseEffect(() => {\n\t\ttry {\n\t\t\t(async () => {\n\t\t\t\tif (!tagId) return;\n\n\t\t\t\tconst { data } = await api.get(`/tags/${tagId}`);\n\t\t\t\tsetTag(prevState => {\n\t\t\t\t\treturn { ...prevState, ...data };\n\t\t\t\t});\n\t\t\t})()\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t}, [tagId, open]);\n\n\tconst handleClose = () => {\n\t\tsetTag(initialState);\n\t\tsetColorPickerModalOpen(false);\n\t\tonClose();\n\t};\n\n\tconst handleSaveTag = async values => {\n\t\tconst tagData = { ...values, userId: user.id };\n\t\ttry {\n\t\t\tif (tagId) {\n\t\t\t\tawait api.put(`/tags/${tagId}`, tagData);\n\t\t\t} else {\n\t\t\t\tawait api.post(\"/tags\", tagData);\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"tagModal.success\"));\n\t\t\tif (typeof reload == 'function') {\n\t\t\t\treload();\n\t\t\t}\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\thandleClose();\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tmaxWidth=\"xs\"\n\t\t\t\tfullWidth\n\t\t\t\tscroll=\"paper\"\n\t\t\t>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{ (tagId ? `${i18n.t(\"tagModal.title.edit\")}` : `${i18n.t(\"tagModal.title.add\")}`) }\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={tag}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={TagSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveTag(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting, values }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"tagModal.form.name\")}\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => setTag(prev => ({ ...prev, name: e.target.value }))}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"tagModal.form.color\")}\n\t\t\t\t\t\t\t\t\t\tname=\"color\"\n\t\t\t\t\t\t\t\t\t\tid=\"color\"\n\t\t\t\t\t\t\t\t\t\terror={touched.color && Boolean(errors.color)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.color && errors.color}\n\t\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\t\tstartAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"start\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: values.color }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.colorAdorment}\n\t\t\t\t\t\t\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setColorPickerModalOpen(!colorPickerModalOpen)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Colorize />\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{ colorPickerModalOpen && (\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<ColorBox\n\t\t\t\t\t\t\t\t\t\t\tdisableAlpha={true}\n\t\t\t\t\t\t\t\t\t\t\thslGradient={false}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{margin: '20px auto 0'}}\n\t\t\t\t\t\t\t\t\t\t\tvalue={tag.color}\n\t\t\t\t\t\t\t\t\t\t\tonChange={val => {\n\t\t\t\t\t\t\t\t\t\t\t\tsetTag(prev => ({ ...prev, color: `#${val.hex}` }));\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"tagModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{tagId\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"tagModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"tagModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default TagModal;\n","import React, { useState, useEffect, useReducer, useCallback } from \"react\";\nimport { toast } from \"react-toastify\";\nimport openSocket from \"../../services/socket-io\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport TagModal from \"../../components/TagModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Chip } from \"@material-ui/core\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_TAGS\") {\n    const tags = action.payload;\n    const newTags = [];\n\n    tags.forEach((tag) => {\n      const tagIndex = state.findIndex((s) => s.id === tag.id);\n      if (tagIndex !== -1) {\n        state[tagIndex] = tag;\n      } else {\n        newTags.push(tag);\n      }\n    });\n\n    return [...state, ...newTags];\n  }\n\n  if (action.type === \"UPDATE_TAGS\") {\n    const tag = action.payload;\n    const tagIndex = state.findIndex((s) => s.id === tag.id);\n\n    if (tagIndex !== -1) {\n      state[tagIndex] = tag;\n      return [...state];\n    } else {\n      return [tag, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_TAG\") {\n    const tagId = action.payload;\n\n    const tagIndex = state.findIndex((s) => s.id === tagId);\n    if (tagIndex !== -1) {\n      state.splice(tagIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Tags = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedTag, setSelectedTag] = useState(null);\n  const [deletingTag, setDeletingTag] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [tags, dispatch] = useReducer(reducer, []);\n  const [tagModalOpen, setTagModalOpen] = useState(false);\n\n  const fetchTags = useCallback(async() => {\n    try {\n      const { data } = await api.get(\"/tags/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_TAGS\", payload: data.tags });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchTags();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber, fetchTags]);\n\n  useEffect(() => {\n    const socket = openSocket();\n\n    socket.on(\"user\", (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_TAGS\", payload: data.tags });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_USER\", payload: +data.tagId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleOpenTagModal = () => {\n    setSelectedTag(null);\n    setTagModalOpen(true);\n  };\n\n  const handleCloseTagModal = () => {\n    setSelectedTag(null);\n    setTagModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditTag = (tag) => {\n    setSelectedTag(tag);\n    setTagModalOpen(true);\n  };\n\n  const handleDeleteTag = async (tagId) => {\n    try {\n      await api.delete(`/tags/${tagId}`);\n      toast.success(i18n.t(\"tags.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingTag(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n    await fetchTags();\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingTag &&\n          `${i18n.t(\"tags.confirmationModal.deleteTitle\")}`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteTag(deletingTag.id)}\n      >\n        {i18n.t(\"tags.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <TagModal\n        open={tagModalOpen}\n        onClose={handleCloseTagModal}\n        reload={fetchTags}\n        aria-labelledby=\"form-dialog-title\"\n        tagId={selectedTag && selectedTag.id}\n      />\n      <MainHeader>\n      <Title>{i18n.t(\"tags.title\")}</Title>\n      <MainHeaderButtonsWrapper>\n        <TextField\n          placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n          type=\"search\"\n          value={searchParam}\n          onChange={handleSearch}\n          InputProps={{\n            startAdornment: (\n            <InputAdornment position=\"start\">\n                <SearchIcon style={{ color: \"gray\" }} />\n            </InputAdornment>\n            ),\n          }}\n        />\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={handleOpenTagModal}\n        >\n          {i18n.t(\"tags.buttons.add\")}\n        </Button>\n      </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">{i18n.t(\"tags.table.name\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"tags.table.tickets\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"tags.table.actions\")}</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n              <>\n                {tags.map((tag) => (\n                  <TableRow key={tag.id}>\n                    <TableCell align=\"center\">\n                      <Chip\n                        variant=\"outlined\"\n                        style={{backgroundColor: tag.color, textShadow: '1px 1px 1px #000', color: 'white'}}\n                        label={tag.name}\n                        size=\"small\"\n                      />\n                    </TableCell>\n                    <TableCell align=\"center\">{tag.ticketsCount}</TableCell>\n                    <TableCell align=\"center\">\n                      <IconButton\n                        size=\"small\"\n                        onClick={() => handleEditTag(tag)}\n                      >\n                        <EditIcon />\n                      </IconButton>\n\n                      <IconButton\n                        size=\"small\"\n                        onClick={(e) => {\n                          setConfirmModalOpen(true);\n                          setDeletingTag(tag);\n                        }}\n                      >\n                        <DeleteOutlineIcon />\n                      </IconButton>\n                    </TableCell>\n                  </TableRow>\n                ))}\n                {loading && <TableRowSkeleton columns={4} />}\n              </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Tags;\n","import { Chip, Paper, TextField } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport React, { useEffect, useState } from \"react\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\n\nexport function TagsFilter ({ onFiltered }) {\n\n    const [tags, setTags] = useState([]);\n    const [selecteds, setSelecteds] = useState([]);\n\n    useEffect(() => {\n        async function fetchData () {\n            await loadTags();\n        }\n        fetchData();\n    }, []);\n\n    const loadTags = async () => {\n        try {\n            const { data } = await api.get(`/tags/list`);\n            setTags(data);\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    const onChange = async (value) => {\n        setSelecteds(value);\n        onFiltered(value);\n    }\n\n    return (\n        <Paper style={{padding: 10}}>\n            <Autocomplete\n                multiple\n                size=\"small\"\n                options={tags}\n                value={selecteds}\n                onChange={(e, v, r) => onChange(v)}\n                getOptionLabel={(option) => option.name}\n                renderTags={(value, getTagProps) =>\n                    value.map((option, index) => (\n                        <Chip\n                            variant=\"outlined\"\n                            style={{backgroundColor: option.color || '#eee', textShadow: '1px 1px 1px #000', color: 'white'}}\n                            label={option.name}\n                            {...getTagProps({ index })}\n                            size=\"small\"\n                        />\n                    ))\n                }\n                renderInput={(params) => (\n                    <TextField {...params} variant=\"outlined\" placeholder=\"Filtro por Tags\" />\n                )}\n            />\n        </Paper>\n    )\n}","import React, { useState, useEffect, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\n\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Autocomplete, {\n\tcreateFilterOptions,\n} from \"@material-ui/lab/Autocomplete\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport ContactModal from \"../ContactModal\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst filter = createFilterOptions({\n\ttrim: true,\n});\n\nconst NewTicketModal = ({ modalOpen, onClose }) => {\n\tconst history = useHistory();\n\n\tconst [options, setOptions] = useState([]);\n\tconst [loading, setLoading] = useState(false);\n\tconst [searchParam, setSearchParam] = useState(\"\");\n\tconst [selectedContact, setSelectedContact] = useState(null);\n\tconst [newContact, setNewContact] = useState({});\n\tconst [contactModalOpen, setContactModalOpen] = useState(false);\n\tconst { user } = useContext(AuthContext);\n\n\tuseEffect(() => {\n\t\tif (!modalOpen || searchParam.length < 3) {\n\t\t\tsetLoading(false);\n\t\t\treturn;\n\t\t}\n\t\tsetLoading(true);\n\t\tconst delayDebounceFn = setTimeout(() => {\n\t\t\tconst fetchContacts = async () => {\n\t\t\t\ttry {\n\t\t\t\t\tconst { data } = await api.get(\"contacts\", {\n\t\t\t\t\t\tparams: { searchParam },\n\t\t\t\t\t});\n\t\t\t\t\tsetOptions(data.contacts);\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t\ttoastError(err);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tfetchContacts();\n\t\t}, 500);\n\t\treturn () => clearTimeout(delayDebounceFn);\n\t}, [searchParam, modalOpen]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetSearchParam(\"\");\n\t\tsetSelectedContact(null);\n\t};\n\n\tconst handleSaveTicket = async contactId => {\n\t\tif (!contactId) return;\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tconst { data: ticket } = await api.post(\"/tickets\", {\n\t\t\t\tcontactId: contactId,\n\t\t\t\tuserId: user.id,\n\t\t\t\tstatus: \"open\",\n\t\t\t});\n\t\t\thistory.push(`/tickets/${ticket.id}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\tsetLoading(false);\n\t\thandleClose();\n\t};\n\n\tconst handleSelectOption = (e, newValue) => {\n\t\tif (newValue?.number) {\n\t\t\tsetSelectedContact(newValue);\n\t\t} else if (newValue?.name) {\n\t\t\tsetNewContact({ name: newValue.name });\n\t\t\tsetContactModalOpen(true);\n\t\t}\n\t};\n\n\tconst handleCloseContactModal = () => {\n\t\tsetContactModalOpen(false);\n\t};\n\n\tconst handleAddNewContactTicket = contact => {\n\t\thandleSaveTicket(contact.id);\n\t};\n\n\tconst createAddContactOption = (filterOptions, params) => {\n\t\tconst filtered = filter(filterOptions, params);\n\n\t\tif (params.inputValue !== \"\" && !loading && searchParam.length >= 3) {\n\t\t\tfiltered.push({\n\t\t\t\tname: `${params.inputValue}`,\n\t\t\t});\n\t\t}\n\n\t\treturn filtered;\n\t};\n\n\tconst renderOption = option => {\n\t\tif (option.number) {\n\t\t\treturn `${option.name} - ${option.number}`;\n\t\t} else {\n\t\t\treturn `${i18n.t(\"newTicketModal.add\")} ${option.name}`;\n\t\t}\n\t};\n\n\tconst renderOptionLabel = option => {\n\t\tif (option.number) {\n\t\t\treturn `${option.name} - ${option.number}`;\n\t\t} else {\n\t\t\treturn `${option.name}`;\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<ContactModal\n\t\t\t\topen={contactModalOpen}\n\t\t\t\tinitialValues={newContact}\n\t\t\t\tonClose={handleCloseContactModal}\n\t\t\t\tonSave={handleAddNewContactTicket}\n\t\t\t></ContactModal>\n\t\t\t<Dialog open={modalOpen} onClose={handleClose}>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{i18n.t(\"newTicketModal.title\")}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\toptions={options}\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\tstyle={{ width: 300 }}\n\t\t\t\t\t\tclearOnBlur\n\t\t\t\t\t\tautoHighlight\n\t\t\t\t\t\tfreeSolo\n\t\t\t\t\t\tclearOnEscape\n\t\t\t\t\t\tgetOptionLabel={renderOptionLabel}\n\t\t\t\t\t\trenderOption={renderOption}\n\t\t\t\t\t\tfilterOptions={createAddContactOption}\n\t\t\t\t\t\tonChange={(e, newValue) => handleSelectOption(e, newValue)}\n\t\t\t\t\t\trenderInput={params => (\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\t\tlabel={i18n.t(\"newTicketModal.fieldLabel\")}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tonChange={e => setSearchParam(e.target.value)}\n\t\t\t\t\t\t\t\tonKeyPress={e => {\n\t\t\t\t\t\t\t\t\tif (loading || !selectedContact) return;\n\t\t\t\t\t\t\t\t\telse if (e.key === \"Enter\") {\n\t\t\t\t\t\t\t\t\t\thandleSaveTicket(selectedContact.id);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t...params.InputProps,\n\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t{loading ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<CircularProgress color=\"inherit\" size={20} />\n\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t\t{params.InputProps.endAdornment}\n\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"newTicketModal.buttons.cancel\")}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tdisabled={!selectedContact}\n\t\t\t\t\t\tonClick={() => handleSaveTicket(selectedContact.id)}\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"newTicketModal.buttons.ok\")}\n\t\t\t\t\t</ButtonWithSpinner>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</>\n\t);\n};\n\nexport default NewTicketModal;\n","import React from \"react\";\n\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\nconst TicketsSkeleton = () => {\n\treturn (\n\t\t<>\n\t\t\t<ListItem dense>\n\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\n\t\t\t\t</ListItemAvatar>\n\t\t\t\t<ListItemText\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={60} />}\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={90} />}\n\t\t\t\t/>\n\t\t\t</ListItem>\n\t\t\t<Divider variant=\"inset\" />\n\t\t\t<ListItem dense>\n\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\n\t\t\t\t</ListItemAvatar>\n\t\t\t\t<ListItemText\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={70} />}\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={120} />}\n\t\t\t\t/>\n\t\t\t</ListItem>\n\t\t\t<Divider variant=\"inset\" />\n\t\t\t<ListItem dense>\n\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\n\t\t\t\t</ListItemAvatar>\n\t\t\t\t<ListItemText\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={60} />}\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={90} />}\n\t\t\t\t/>\n\t\t\t</ListItem>\n\t\t\t<Divider variant=\"inset\" />\n\t\t</>\n\t);\n};\n\nexport default TicketsSkeleton;\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\nimport openSocket from \"../../services/socket-io\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport List from \"@material-ui/core/List\";\nimport Paper from \"@material-ui/core/Paper\";\n\nimport TicketListItem from \"../TicketListItem\";\nimport TicketsListSkeleton from \"../TicketsListSkeleton\";\n\nimport useTickets from \"../../hooks/useTickets\";\nimport { i18n } from \"../../translate/i18n\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  ticketsListWrapper: {\n    position: \"relative\",\n    display: \"flex\",\n    height: \"100%\",\n    flexDirection: \"column\",\n    overflow: \"hidden\",\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n  },\n\n  ticketsList: {\n    flex: 1,\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n    borderTop: \"2px solid rgba(0, 0, 0, 0.12)\",\n  },\n\n  ticketsListHeader: {\n    color: \"rgb(67, 83, 105)\",\n    zIndex: 2,\n    backgroundColor: \"white\",\n    borderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n  },\n\n  ticketsCount: {\n    fontWeight: \"normal\",\n    color: \"rgb(104, 121, 146)\",\n    marginLeft: \"8px\",\n    fontSize: \"14px\",\n  },\n\n  noTicketsText: {\n    textAlign: \"center\",\n    color: \"rgb(104, 121, 146)\",\n    fontSize: \"14px\",\n    lineHeight: \"1.4\",\n  },\n\n  noTicketsTitle: {\n    textAlign: \"center\",\n    fontSize: \"16px\",\n    fontWeight: \"600\",\n    margin: \"0px\",\n  },\n\n  noTicketsDiv: {\n    display: \"flex\",\n    height: \"100px\",\n    margin: 40,\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_TICKETS\") {\n    const newTickets = action.payload;\n\n    newTickets.forEach((ticket) => {\n      const ticketIndex = state.findIndex((t) => t.id === ticket.id);\n      if (ticketIndex !== -1) {\n        state[ticketIndex] = ticket;\n        if (ticket.unreadMessages > 0) {\n          state.unshift(state.splice(ticketIndex, 1)[0]);\n        }\n      } else {\n        state.push(ticket);\n      }\n    });\n\n    return [...state];\n  }\n\n  if (action.type === \"RESET_UNREAD\") {\n    const ticketId = action.payload;\n\n    const ticketIndex = state.findIndex((t) => t.id === ticketId);\n    if (ticketIndex !== -1) {\n      state[ticketIndex].unreadMessages = 0;\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"UPDATE_TICKET\") {\n    const ticket = action.payload;\n\n    const ticketIndex = state.findIndex((t) => t.id === ticket.id);\n    if (ticketIndex !== -1) {\n      state[ticketIndex] = ticket;\n    } else {\n      state.unshift(ticket);\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"UPDATE_TICKET_UNREAD_MESSAGES\") {\n    const ticket = action.payload;\n\n    const ticketIndex = state.findIndex((t) => t.id === ticket.id);\n    if (ticketIndex !== -1) {\n      state[ticketIndex] = ticket;\n      state.unshift(state.splice(ticketIndex, 1)[0]);\n    } else {\n      state.unshift(ticket);\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"UPDATE_TICKET_CONTACT\") {\n    const contact = action.payload;\n    const ticketIndex = state.findIndex((t) => t.contactId === contact.id);\n    if (ticketIndex !== -1) {\n      state[ticketIndex].contact = contact;\n    }\n    return [...state];\n  }\n\n  if (action.type === \"DELETE_TICKET\") {\n    const ticketId = action.payload;\n    const ticketIndex = state.findIndex((t) => t.id === ticketId);\n    if (ticketIndex !== -1) {\n      state.splice(ticketIndex, 1);\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst TicketsList = (props) => {\n  const {\n    status,\n    searchParam,\n    showAll,\n    selectedQueueIds,\n    updateCount,\n    style,\n    tags,\n  } = props;\n  const classes = useStyles();\n  const [pageNumber, setPageNumber] = useState(1);\n  const [ticketsList, dispatch] = useReducer(reducer, []);\n  const { user } = useContext(AuthContext);\n\tconst { profile, queues } = user;\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [status, searchParam, dispatch, showAll, selectedQueueIds, tags]);\n\n  const { tickets, hasMore, loading } = useTickets({\n    pageNumber,\n    searchParam,\n    status,\n    showAll,\n    tags: JSON.stringify(tags),\n    queueIds: JSON.stringify(selectedQueueIds),\n  });\n\n\tuseEffect(() => {\n\t\tconst queueIds = queues.map((q) => q.id);\n\t\tconst filteredTickets = tickets.filter((t) => queueIds.indexOf(t.queueId) > -1);\n\n\t\tif (profile === \"user\") {\n\t\t\tdispatch({ type: \"LOAD_TICKETS\", payload: filteredTickets });\n\t\t} else {\n\t\t\tdispatch({ type: \"LOAD_TICKETS\", payload: tickets });\n\t\t}\n\t}, [tickets, status, searchParam, queues, profile]);\n\n  useEffect(() => {\n    const socket = openSocket();\n\n    const shouldUpdateTicket = (ticket) =>\n      (!ticket.userId || ticket.userId === user?.id || showAll) &&\n      (!ticket.queueId || selectedQueueIds.indexOf(ticket.queueId) > -1);\n\n    const notBelongsToUserQueues = (ticket) =>\n      ticket.queueId && selectedQueueIds.indexOf(ticket.queueId) === -1;\n\n    socket.on(\"ready\", () => {\n      if (status) {\n        socket.emit(\"joinTickets\", status);\n      } else {\n        socket.emit(\"joinNotification\");\n      }\n    });\n\n    socket.on(\"ticket\", (data) => {\n      if (data.action === \"updateUnread\") {\n        dispatch({\n          type: \"RESET_UNREAD\",\n          payload: data.ticketId,\n        });\n      }\n\n      if (data.action === \"update\" && shouldUpdateTicket(data.ticket)) {\n        dispatch({\n          type: \"UPDATE_TICKET\",\n          payload: data.ticket,\n        });\n      }\n\n      if (data.action === \"update\" && notBelongsToUserQueues(data.ticket)) {\n        dispatch({ type: \"DELETE_TICKET\", payload: data.ticket.id });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_TICKET\", payload: data.ticketId });\n      }\n    });\n\n    socket.on(\"appMessage\", (data) => {\n      if (data.action === \"create\" && shouldUpdateTicket(data.ticket)) {\n        dispatch({\n          type: \"UPDATE_TICKET_UNREAD_MESSAGES\",\n          payload: data.ticket,\n        });\n      }\n    });\n\n    socket.on(\"contact\", (data) => {\n      if (data.action === \"update\") {\n        dispatch({\n          type: \"UPDATE_TICKET_CONTACT\",\n          payload: data.contact,\n        });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [status, showAll, user, selectedQueueIds]);\n\n  useEffect(() => {\n    if (typeof updateCount === \"function\") {\n      updateCount(ticketsList.length);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [ticketsList]);\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <Paper className={classes.ticketsListWrapper} style={style}>\n      <Paper\n        square\n        name=\"closed\"\n        elevation={0}\n        className={classes.ticketsList}\n        onScroll={handleScroll}\n      >\n        <List style={{ paddingTop: 0 }}>\n          {ticketsList.length === 0 && !loading ? (\n            <div className={classes.noTicketsDiv}>\n              <span className={classes.noTicketsTitle}>\n                {i18n.t(\"ticketsList.noTicketsTitle\")}\n              </span>\n              <p className={classes.noTicketsText}>\n                {i18n.t(\"ticketsList.noTicketsMessage\")}\n              </p>\n            </div>\n          ) : (\n            <>\n              {ticketsList.map((ticket) => (\n                <TicketListItem ticket={ticket} key={ticket.id} />\n              ))}\n            </>\n          )}\n          {loading && <TicketsListSkeleton />}\n        </List>\n      </Paper>\n    </Paper>\n  );\n};\n\nexport default TicketsList;\n","import React from \"react\";\n\nconst TabPanel = ({ children, value, name, ...rest }) => {\n\tif (value === name) {\n\t\treturn (\n\t\t\t<div\n\t\t\t\trole=\"tabpanel\"\n\t\t\t\tid={`simple-tabpanel-${name}`}\n\t\t\t\taria-labelledby={`simple-tab-${name}`}\n\t\t\t\t{...rest}\n\t\t\t>\n\t\t\t\t<>{children}</>\n\t\t\t</div>\n\t\t);\n\t} else return null;\n};\n\nexport default TabPanel;\n","import React from \"react\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport { Checkbox, ListItemText } from \"@material-ui/core\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst TicketsQueueSelect = ({\n\tuserQueues,\n\tselectedQueueIds = [],\n\tonChange,\n}) => {\n\tconst handleChange = e => {\n\t\tonChange(e.target.value);\n\t};\n\n\treturn (\n\t\t<div style={{ width: 120, marginTop: -4 }}>\n\t\t\t<FormControl fullWidth margin=\"dense\">\n\t\t\t\t<Select\n\t\t\t\t\tmultiple\n\t\t\t\t\tdisplayEmpty\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tvalue={selectedQueueIds}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t}}\n\t\t\t\t\trenderValue={() => i18n.t(\"ticketsQueueSelect.placeholder\")}\n\t\t\t\t>\n\t\t\t\t\t{userQueues?.length > 0 &&\n\t\t\t\t\t\tuserQueues.map(queue => (\n\t\t\t\t\t\t\t<MenuItem dense key={queue.id} value={queue.id}>\n\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tcolor: queue.color,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tchecked={selectedQueueIds.indexOf(queue.id) > -1}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<ListItemText primary={queue.name} />\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t))}\n\t\t\t\t</Select>\n\t\t\t</FormControl>\n\t\t</div>\n\t);\n};\n\nexport default TicketsQueueSelect;\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Badge from \"@material-ui/core/Badge\";\nimport MoveToInboxIcon from \"@material-ui/icons/MoveToInbox\";\nimport CheckBoxIcon from \"@material-ui/icons/CheckBox\";\nimport { TagsFilter } from \"../TagsFilter\";\n\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Switch from \"@material-ui/core/Switch\";\n\nimport NewTicketModal from \"../NewTicketModal\";\nimport TicketsList from \"../TicketsList\";\nimport TabPanel from \"../TabPanel\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../Can\";\nimport TicketsQueueSelect from \"../TicketsQueueSelect\";\nimport { Button } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n  ticketsWrapper: {\n    position: \"relative\",\n    display: \"flex\",\n    height: \"100%\",\n    flexDirection: \"column\",\n    overflow: \"hidden\",\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n  },\n\n  tabsHeader: {\n    flex: \"none\",\n    backgroundColor: \"#eee\",\n  },\n\n  settingsIcon: {\n    alignSelf: \"center\",\n    marginLeft: \"auto\",\n    padding: 8,\n  },\n\n  tab: {\n    minWidth: 120,\n    width: 120,\n  },\n\n  ticketOptionsBox: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    background: \"#fafafa\",\n    padding: theme.spacing(1),\n  },\n\n  serachInputWrapper: {\n    flex: 1,\n    background: \"#fff\",\n    display: \"flex\",\n    borderRadius: 40,\n    padding: 4,\n    marginRight: theme.spacing(1),\n  },\n\n  searchIcon: {\n    color: \"grey\",\n    marginLeft: 6,\n    marginRight: 6,\n    alignSelf: \"center\",\n  },\n\n  searchInput: {\n    flex: 1,\n    border: \"none\",\n    borderRadius: 30,\n  },\n\n  badge: {\n    right: \"-10px\",\n  },\n  show: {\n    display: \"block\",\n  },\n  hide: {\n    display: \"none !important\",\n  },\n}));\n\nconst TicketsManager = () => {\n  const classes = useStyles();\n\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [tab, setTab] = useState(\"open\");\n  const [tabOpen, setTabOpen] = useState(\"open\");\n  const [newTicketModalOpen, setNewTicketModalOpen] = useState(false);\n  const [showAllTickets, setShowAllTickets] = useState(false);\n  const searchInputRef = useRef();\n  const { user } = useContext(AuthContext);\n\n  const [openCount, setOpenCount] = useState(0);\n  const [pendingCount, setPendingCount] = useState(0);\n  const [selectedTags, setSelectedTags] = useState([]);\n\n  const userQueueIds = user.queues.map((q) => q.id);\n  const [selectedQueueIds, setSelectedQueueIds] = useState(userQueueIds || []);\n\n  useEffect(() => {\n    if (user.profile.toUpperCase() === \"ADMIN\") {\n      setShowAllTickets(true);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (tab === \"search\") {\n      searchInputRef.current.focus();\n    }\n  }, [tab]);\n\n  let searchTimeout;\n\n  const handleSearch = (e) => {\n    const searchedTerm = e.target.value.toLowerCase();\n\n    clearTimeout(searchTimeout);\n\n    if (searchedTerm === \"\") {\n      setSearchParam(searchedTerm);\n      setTab(\"open\");\n      return;\n    }\n\n    searchTimeout = setTimeout(() => {\n      setSearchParam(searchedTerm);\n    }, 500);\n  };\n\n  const handleSelectedTags = (selecteds) => {\n    const tags = selecteds.map(t => t.id);\n    setSelectedTags(tags);\n  }\n\n  const handleChangeTab = (e, newValue) => {\n    setTab(newValue);\n  };\n\n  const handleChangeTabOpen = (e, newValue) => {\n    setTabOpen(newValue);\n  };\n\n  const applyPanelStyle = (status) => {\n    if (tabOpen !== status) {\n      return { width: 0, height: 0 };\n    }\n  };\n\n  return (\n    <Paper elevation={0} variant=\"outlined\" className={classes.ticketsWrapper}>\n      <NewTicketModal\n        modalOpen={newTicketModalOpen}\n        onClose={(e) => setNewTicketModalOpen(false)}\n      />\n      <Paper elevation={0} square className={classes.tabsHeader}>\n        <Tabs\n          value={tab}\n          onChange={handleChangeTab}\n          variant=\"fullWidth\"\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          aria-label=\"icon label tabs example\"\n        >\n          <Tab\n            value={\"open\"}\n            icon={<MoveToInboxIcon />}\n            label={i18n.t(\"tickets.tabs.open.title\")}\n            classes={{ root: classes.tab }}\n          />\n          <Tab\n            value={\"closed\"}\n            icon={<CheckBoxIcon />}\n            label={i18n.t(\"tickets.tabs.closed.title\")}\n            classes={{ root: classes.tab }}\n          />\n          <Tab\n            value={\"search\"}\n            icon={<SearchIcon />}\n            label={i18n.t(\"tickets.tabs.search.title\")}\n            classes={{ root: classes.tab }}\n          />\n        </Tabs>\n      </Paper>\n      <Paper square elevation={0} className={classes.ticketOptionsBox}>\n        {tab === \"search\" ? (\n          <div className={classes.serachInputWrapper}>\n            <SearchIcon className={classes.searchIcon} />\n            <InputBase\n              className={classes.searchInput}\n              inputRef={searchInputRef}\n              placeholder={i18n.t(\"tickets.search.placeholder\")}\n              type=\"search\"\n              onChange={handleSearch}\n            />\n          </div>\n        ) : (\n          <>\n            <Button\n              variant=\"outlined\"\n              color=\"primary\"\n              onClick={() => setNewTicketModalOpen(true)}\n            >\n              {i18n.t(\"ticketsManager.buttons.newTicket\")}\n            </Button>\n            <Can\n              role={user.profile}\n              perform=\"tickets-manager:showall\"\n              yes={() => (\n                <FormControlLabel\n                  label={i18n.t(\"tickets.buttons.showAll\")}\n                  labelPlacement=\"start\"\n                  control={\n                    <Switch\n                      size=\"small\"\n                      checked={showAllTickets}\n                      onChange={() =>\n                        setShowAllTickets((prevState) => !prevState)\n                      }\n                      name=\"showAllTickets\"\n                      color=\"primary\"\n                    />\n                  }\n                />\n              )}\n            />\n          </>\n        )}\n        <TicketsQueueSelect\n          style={{ marginLeft: 6 }}\n          selectedQueueIds={selectedQueueIds}\n          userQueues={user?.queues}\n          onChange={(values) => setSelectedQueueIds(values)}\n        />\n      </Paper>\n      <TabPanel value={tab} name=\"open\" className={classes.ticketsWrapper}>\n        <Tabs\n          value={tabOpen}\n          onChange={handleChangeTabOpen}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          variant=\"fullWidth\"\n        >\n          <Tab\n            label={\n              <Badge\n                className={classes.badge}\n                badgeContent={openCount}\n                color=\"primary\"\n              >\n                {i18n.t(\"ticketsList.assignedHeader\")}\n              </Badge>\n            }\n            value={\"open\"}\n          />\n          <Tab\n            label={\n              <Badge\n                className={classes.badge}\n                badgeContent={pendingCount}\n                color=\"secondary\"\n              >\n                {i18n.t(\"ticketsList.pendingHeader\")}\n              </Badge>\n            }\n            value={\"pending\"}\n          />\n        </Tabs>\n        <Paper className={classes.ticketsWrapper}>\n          <TicketsList\n            status=\"open\"\n            showAll={showAllTickets}\n            selectedQueueIds={selectedQueueIds}\n            updateCount={(val) => setOpenCount(val)}\n            style={applyPanelStyle(\"open\")}\n          />\n          <TicketsList\n            status=\"pending\"\n            selectedQueueIds={selectedQueueIds}\n            updateCount={(val) => setPendingCount(val)}\n            style={applyPanelStyle(\"pending\")}\n          />\n        </Paper>\n      </TabPanel>\n      <TabPanel value={tab} name=\"closed\" className={classes.ticketsWrapper}>\n        <TicketsList\n          status=\"closed\"\n          showAll={true}\n          selectedQueueIds={selectedQueueIds}\n        />\n      </TabPanel>\n      <TabPanel value={tab} name=\"search\" className={classes.ticketsWrapper}>\n      <TagsFilter onFiltered={handleSelectedTags} />\n        <TicketsList\n          searchParam={searchParam}\n          tags={selectedTags}\n          showAll={true}\n          selectedQueueIds={selectedQueueIds}\n        />\n      </TabPanel>\n    </Paper>\n  );\n};\n\nexport default TicketsManager;\n","import { Chip, Paper, TextField } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport React, { useEffect, useState } from \"react\";\nimport { isArray, isString } from \"lodash\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\n\nexport function TagsContainer ({ ticket }) {\n\n    const [tags, setTags] = useState([]);\n    const [selecteds, setSelecteds] = useState([]);\n\n    useEffect(() => {\n        if (ticket) {\n            async function fetchData () {\n                await loadTags();\n                if (Array.isArray(ticket.tags)) {\n                    setSelecteds(ticket.tags);\n                }\n            }\n            fetchData();\n        }\n    }, [ticket]);\n\n    const createTag = async (data) => {\n        try {\n            const { data: responseData } = await api.post(`/tags`, data);\n            return responseData;\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    const loadTags = async () => {\n        try {\n            const { data } = await api.get(`/tags/list`);\n            setTags(data);\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    const syncTags = async (data) => {\n        try {\n            const { data: responseData } = await api.post(`/tags/sync`, data);\n            return responseData;\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    const onChange = async (value, reason) => {\n        let optionsChanged = []\n        if (reason === 'create-option') {\n            if (isArray(value)) {\n                for (let item of value) {\n                    if (isString(item)) {\n                        const newTag = await createTag({ name: item })\n                        optionsChanged.push(newTag);\n                    } else {\n                        optionsChanged.push(item);\n                    }\n                }\n            }\n            await loadTags();\n        } else {\n            optionsChanged = value;\n        }\n        setSelecteds(optionsChanged);\n        await syncTags({ ticketId: ticket.id, tags: optionsChanged });\n    }\n\n    return (\n        <Paper style={{padding: 12}}>\n            <Autocomplete\n                multiple\n                size=\"small\"\n                options={tags}\n                value={selecteds}\n                freeSolo\n                onChange={(e, v, r) => onChange(v, r)}\n                getOptionLabel={(option) => option.name}\n                renderTags={(value, getTagProps) =>\n                    value.map((option, index) => (\n                        <Chip\n                            variant=\"outlined\"\n                            style={{backgroundColor: option.color || '#eee', textShadow: '1px 1px 1px #000', color: 'white'}}\n                            label={option.name}\n                            {...getTagProps({ index })}\n                            size=\"small\"\n                        />\n                    ))\n                }\n                renderInput={(params) => (\n                    <TextField {...params} variant=\"outlined\" placeholder=\"Tags\" />\n                )}\n                PaperComponent={({ children }) => (\n                    <Paper style={{width: 400, marginLeft: 12}}>\n                        {children}\n                    </Paper>\n                )}\n            />\n        </Paper>\n    )\n}","import React from \"react\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst ContactDrawerSkeleton = ({ classes }) => {\n\treturn (\n\t\t<div className={classes.content}>\n\t\t\t<Paper square variant=\"outlined\" className={classes.contactHeader}>\n\t\t\t\t<Skeleton\n\t\t\t\t\tanimation=\"wave\"\n\t\t\t\t\tvariant=\"circle\"\n\t\t\t\t\twidth={160}\n\t\t\t\t\theight={160}\n\t\t\t\t\tclassName={classes.contactAvatar}\n\t\t\t\t/>\n\t\t\t\t<Skeleton animation=\"wave\" height={25} width={90} />\n\t\t\t\t<Skeleton animation=\"wave\" height={25} width={80} />\n\t\t\t\t<Skeleton animation=\"wave\" height={25} width={80} />\n\t\t\t</Paper>\n\t\t\t<Paper square className={classes.contactDetails}>\n\t\t\t\t<Typography variant=\"subtitle1\">\n\t\t\t\t\t{i18n.t(\"contactDrawer.extraInfo\")}\n\t\t\t\t</Typography>\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\n\t\t\t\t</Paper>\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\n\t\t\t\t</Paper>\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\n\t\t\t\t</Paper>\n\t\t\t</Paper>\n\t\t</div>\n\t);\n};\n\nexport default ContactDrawerSkeleton;\n","import React, { useState } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Link from \"@material-ui/core/Link\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport Paper from \"@material-ui/core/Paper\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport ContactModal from \"../ContactModal\";\nimport ContactDrawerSkeleton from \"../ContactDrawerSkeleton\";\nimport MarkdownWrapper from \"../MarkdownWrapper\";\n\nconst drawerWidth = 320;\n\nconst useStyles = makeStyles(theme => ({\n\tdrawer: {\n\t\twidth: drawerWidth,\n\t\tflexShrink: 0,\n\t},\n\tdrawerPaper: {\n\t\twidth: drawerWidth,\n\t\tdisplay: \"flex\",\n\t\tborderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tborderRight: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tborderTopRightRadius: 4,\n\t\tborderBottomRightRadius: 4,\n\t},\n\theader: {\n\t\tdisplay: \"flex\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tbackgroundColor: \"#eee\",\n\t\talignItems: \"center\",\n\t\tpadding: theme.spacing(0, 1),\n\t\tminHeight: \"73px\",\n\t\tjustifyContent: \"flex-start\",\n\t},\n\tcontent: {\n\t\tdisplay: \"flex\",\n\t\tbackgroundColor: \"#eee\",\n\t\tflexDirection: \"column\",\n\t\tpadding: \"8px 0px 8px 8px\",\n\t\theight: \"100%\",\n\t\toverflowY: \"scroll\",\n\t\t...theme.scrollbarStyles,\n\t},\n\n\tcontactAvatar: {\n\t\tmargin: 15,\n\t\twidth: 160,\n\t\theight: 160,\n\t},\n\n\tcontactHeader: {\n\t\tdisplay: \"flex\",\n\t\tpadding: 8,\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t\t\"& > *\": {\n\t\t\tmargin: 4,\n\t\t},\n\t},\n\n\tcontactDetails: {\n\t\tmarginTop: 8,\n\t\tpadding: 8,\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t},\n\tcontactExtraInfo: {\n\t\tmarginTop: 4,\n\t\tpadding: 6,\n\t},\n}));\n\nconst ContactDrawer = ({ open, handleDrawerClose, contact, loading }) => {\n\tconst classes = useStyles();\n\n\tconst [modalOpen, setModalOpen] = useState(false);\n\n\treturn (\n\t\t<Drawer\n\t\t\tclassName={classes.drawer}\n\t\t\tvariant=\"persistent\"\n\t\t\tanchor=\"right\"\n\t\t\topen={open}\n\t\t\tPaperProps={{ style: { position: \"absolute\" } }}\n\t\t\tBackdropProps={{ style: { position: \"absolute\" } }}\n\t\t\tModalProps={{\n\t\t\t\tcontainer: document.getElementById(\"drawer-container\"),\n\t\t\t\tstyle: { position: \"absolute\" },\n\t\t\t}}\n\t\t\tclasses={{\n\t\t\t\tpaper: classes.drawerPaper,\n\t\t\t}}\n\t\t>\n\t\t\t<div className={classes.header}>\n\t\t\t\t<IconButton onClick={handleDrawerClose}>\n\t\t\t\t\t<CloseIcon />\n\t\t\t\t</IconButton>\n\t\t\t\t<Typography style={{ justifySelf: \"center\" }}>\n\t\t\t\t\t{i18n.t(\"contactDrawer.header\")}\n\t\t\t\t</Typography>\n\t\t\t</div>\n\t\t\t{loading ? (\n\t\t\t\t<ContactDrawerSkeleton classes={classes} />\n\t\t\t) : (\n\t\t\t\t<div className={classes.content}>\n\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactHeader}>\n\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\talt={contact.name}\n\t\t\t\t\t\t\tsrc={contact.profilePicUrl}\n\t\t\t\t\t\t\tclassName={classes.contactAvatar}\n\t\t\t\t\t\t></Avatar>\n\n\t\t\t\t\t\t<Typography>{contact.name}</Typography>\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t<Link href={`tel:${contact.number}`}>{contact.number}</Link>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tonClick={() => setModalOpen(true)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{i18n.t(\"contactDrawer.buttons.edit\")}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Paper>\n\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactDetails}>\n\t\t\t\t\t\t<ContactModal\n\t\t\t\t\t\t\topen={modalOpen}\n\t\t\t\t\t\t\tonClose={() => setModalOpen(false)}\n\t\t\t\t\t\t\tcontactId={contact.id}\n\t\t\t\t\t\t></ContactModal>\n\t\t\t\t\t\t<Typography variant=\"subtitle1\">\n\t\t\t\t\t\t\t{i18n.t(\"contactDrawer.extraInfo\")}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t{contact?.extraInfo?.map(info => (\n\t\t\t\t\t\t\t<Paper\n\t\t\t\t\t\t\t\tkey={info.id}\n\t\t\t\t\t\t\t\tsquare\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tclassName={classes.contactExtraInfo}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<InputLabel>{info.name}</InputLabel>\n\t\t\t\t\t\t\t\t<Typography component=\"div\" noWrap style={{ paddingTop: 2 }}>\n\t\t\t\t\t\t\t\t\t<MarkdownWrapper>{info.value}</MarkdownWrapper>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Paper>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</Drawer>\n\t);\n};\n\nexport default ContactDrawer;\n","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\ttimerBox: {\n\t\tdisplay: \"flex\",\n\t\tmarginLeft: 10,\n\t\tmarginRight: 10,\n\t\talignItems: \"center\",\n\t},\n}));\n\nconst RecordingTimer = () => {\n\tconst classes = useStyles();\n\tconst initialState = {\n\t\tminutes: 0,\n\t\tseconds: 0,\n\t};\n\tconst [timer, setTimer] = useState(initialState);\n\n\tuseEffect(() => {\n\t\tconst interval = setInterval(\n\t\t\t() =>\n\t\t\t\tsetTimer(prevState => {\n\t\t\t\t\tif (prevState.seconds === 59) {\n\t\t\t\t\t\treturn { ...prevState, minutes: prevState.minutes + 1, seconds: 0 };\n\t\t\t\t\t}\n\t\t\t\t\treturn { ...prevState, seconds: prevState.seconds + 1 };\n\t\t\t\t}),\n\t\t\t1000\n\t\t);\n\t\treturn () => {\n\t\t\tclearInterval(interval);\n\t\t};\n\t}, []);\n\n\tconst addZero = n => {\n\t\treturn n < 10 ? \"0\" + n : n;\n\t};\n\n\treturn (\n\t\t<div className={classes.timerBox}>\n\t\t\t<span>{`${addZero(timer.minutes)}:${addZero(timer.seconds)}`}</span>\n\t\t</div>\n\t);\n};\n\nexport default RecordingTimer;\n","import React, { useState, createContext } from \"react\";\n\nconst ReplyMessageContext = createContext();\n\nconst ReplyMessageProvider = ({ children }) => {\n\tconst [replyingMessage, setReplyingMessage] = useState(null);\n\n\treturn (\n\t\t<ReplyMessageContext.Provider\n\t\t\tvalue={{ replyingMessage, setReplyingMessage }}\n\t\t>\n\t\t\t{children}\n\t\t</ReplyMessageContext.Provider>\n\t);\n};\n\nexport { ReplyMessageContext, ReplyMessageProvider };\n","import React, { useState, useEffect, useContext, useRef } from \"react\";\nimport \"emoji-mart/css/emoji-mart.css\";\nimport { useParams } from \"react-router-dom\";\nimport { Picker } from \"emoji-mart\";\nimport MicRecorder from \"mic-recorder-to-mp3\";\nimport clsx from \"clsx\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { green } from \"@material-ui/core/colors\";\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MoreVert from \"@material-ui/icons/MoreVert\";\nimport MoodIcon from \"@material-ui/icons/Mood\";\nimport SendIcon from \"@material-ui/icons/Send\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport MicIcon from \"@material-ui/icons/Mic\";\nimport CheckCircleOutlineIcon from \"@material-ui/icons/CheckCircleOutline\";\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\";\nimport {\n  FormControlLabel,\n  Hidden,\n  Menu,\n  MenuItem,\n  Switch,\n} from \"@material-ui/core\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport RecordingTimer from \"./RecordingTimer\";\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { useLocalStorage } from \"../../hooks/useLocalStorage\";\nimport toastError from \"../../errors/toastError\";\n\nconst Mp3Recorder = new MicRecorder({ bitRate: 128 });\n\nconst useStyles = makeStyles((theme) => ({\n  mainWrapper: {\n    background: \"#eee\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n    [theme.breakpoints.down(\"sm\")]: {\n      position: \"fixed\",\n      bottom: 0,\n      width: \"100%\",\n    },\n  },\n\n  newMessageBox: {\n    background: \"#eee\",\n    width: \"100%\",\n    display: \"flex\",\n    padding: \"7px\",\n    alignItems: \"center\",\n  },\n\n  messageInputWrapper: {\n    padding: 6,\n    marginRight: 7,\n    background: \"#fff\",\n    display: \"flex\",\n    borderRadius: 20,\n    flex: 1,\n    position: \"relative\",\n  },\n\n  messageInput: {\n    paddingLeft: 10,\n    flex: 1,\n    border: \"none\",\n  },\n\n  sendMessageIcons: {\n    color: \"grey\",\n  },\n\n  uploadInput: {\n    display: \"none\",\n  },\n\n  viewMediaInputWrapper: {\n    display: \"flex\",\n    padding: \"10px 13px\",\n    position: \"relative\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    backgroundColor: \"#eee\",\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n\n  emojiBox: {\n    position: \"absolute\",\n    bottom: 63,\n    width: 40,\n    borderTop: \"1px solid #e8e8e8\",\n  },\n\n  circleLoading: {\n    color: green[500],\n    opacity: \"70%\",\n    position: \"absolute\",\n    top: \"20%\",\n    left: \"50%\",\n    marginLeft: -12,\n  },\n\n  audioLoading: {\n    color: green[500],\n    opacity: \"70%\",\n  },\n\n  recorderWrapper: {\n    display: \"flex\",\n    alignItems: \"center\",\n    alignContent: \"middle\",\n  },\n\n  cancelAudioIcon: {\n    color: \"red\",\n  },\n\n  sendAudioIcon: {\n    color: \"green\",\n  },\n\n  replyginMsgWrapper: {\n    display: \"flex\",\n    width: \"100%\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    paddingTop: 8,\n    paddingLeft: 73,\n    paddingRight: 7,\n  },\n\n  replyginMsgContainer: {\n    flex: 1,\n    marginRight: 5,\n    overflowY: \"hidden\",\n    backgroundColor: \"rgba(0, 0, 0, 0.05)\",\n    borderRadius: \"7.5px\",\n    display: \"flex\",\n    position: \"relative\",\n  },\n\n  replyginMsgBody: {\n    padding: 10,\n    height: \"auto\",\n    display: \"block\",\n    whiteSpace: \"pre-wrap\",\n    overflow: \"hidden\",\n  },\n\n  replyginContactMsgSideColor: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#35cd96\",\n  },\n\n  replyginSelfMsgSideColor: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#6bcbef\",\n  },\n\n  messageContactName: {\n    display: \"flex\",\n    color: \"#6bcbef\",\n    fontWeight: 500,\n  },\n  messageQuickAnswersWrapper: {\n    margin: 0,\n    position: \"absolute\",\n    bottom: \"50px\",\n    background: \"#ffffff\",\n    padding: \"2px\",\n    border: \"1px solid #CCC\",\n    left: 0,\n    width: \"100%\",\n    \"& li\": {\n      listStyle: \"none\",\n      \"& a\": {\n        display: \"block\",\n        padding: \"8px\",\n        textOverflow: \"ellipsis\",\n        overflow: \"hidden\",\n        maxHeight: \"32px\",\n        \"&:hover\": {\n          background: \"#F1F1F1\",\n          cursor: \"pointer\",\n        },\n      },\n    },\n  },\n}));\n\nconst MessageInput = ({ ticketStatus }) => {\n  const classes = useStyles();\n  const { ticketId } = useParams();\n\n  const [medias, setMedias] = useState([]);\n  const [inputMessage, setInputMessage] = useState(\"\");\n  const [showEmoji, setShowEmoji] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [recording, setRecording] = useState(false);\n  const [quickAnswers, setQuickAnswer] = useState([]);\n  const [typeBar, setTypeBar] = useState(false);\n  const inputRef = useRef();\n  const [anchorEl, setAnchorEl] = useState(null);\n  const { setReplyingMessage, replyingMessage } =\n    useContext(ReplyMessageContext);\n  const { user } = useContext(AuthContext);\n\n  const [signMessage, setSignMessage] = useLocalStorage(\"signOption\", true);\n\n  useEffect(() => {\n    inputRef.current.focus();\n  }, [replyingMessage]);\n\n  useEffect(() => {\n    inputRef.current.focus();\n    return () => {\n      setInputMessage(\"\");\n      setShowEmoji(false);\n      setMedias([]);\n      setReplyingMessage(null);\n    };\n  }, [ticketId, setReplyingMessage]);\n\n  const handleChangeInput = (e) => {\n    setInputMessage(e.target.value);\n    handleLoadQuickAnswer(e.target.value);\n  };\n\n  const handleQuickAnswersClick = (value) => {\n    setInputMessage(value);\n    setTypeBar(false);\n  };\n\n  const handleAddEmoji = (e) => {\n    let emoji = e.native;\n    setInputMessage((prevState) => prevState + emoji);\n  };\n\n  const handleChangeMedias = (e) => {\n    if (!e.target.files) {\n      return;\n    }\n\n    const selectedMedias = Array.from(e.target.files);\n    setMedias(selectedMedias);\n  };\n\n  const handleInputPaste = (e) => {\n    if (e.clipboardData.files[0]) {\n      setMedias([e.clipboardData.files[0]]);\n    }\n  };\n\n  const handleUploadMedia = async (e) => {\n    setLoading(true);\n    e.preventDefault();\n\n    const formData = new FormData();\n    formData.append(\"fromMe\", true);\n    medias.forEach((media) => {\n      formData.append(\"medias\", media);\n      formData.append(\"body\", media.name);\n    });\n\n    try {\n      await api.post(`/messages/${ticketId}`, formData);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setLoading(false);\n    setMedias([]);\n  };\n\n  const handleSendMessage = async () => {\n    if (inputMessage.trim() === \"\") return;\n    setLoading(true);\n\n    const message = {\n      read: 1,\n      fromMe: true,\n      mediaUrl: \"\",\n      body: signMessage\n        ? `*${user?.name}:*\\n${inputMessage.trim()}`\n        : inputMessage.trim(),\n      quotedMsg: replyingMessage,\n    };\n    try {\n      await api.post(`/messages/${ticketId}`, message);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setInputMessage(\"\");\n    setShowEmoji(false);\n    setLoading(false);\n    setReplyingMessage(null);\n  };\n\n  const handleStartRecording = async () => {\n    setLoading(true);\n    try {\n      await navigator.mediaDevices.getUserMedia({ audio: true });\n      await Mp3Recorder.start();\n      setRecording(true);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n      setLoading(false);\n    }\n  };\n\n  const handleLoadQuickAnswer = async (value) => {\n    if (value && value.indexOf(\"/\") === 0) {\n      try {\n        const { data } = await api.get(\"/quickAnswers/\", {\n          params: { searchParam: inputMessage.substring(1) },\n        });\n        setQuickAnswer(data.quickAnswers);\n        if (data.quickAnswers.length > 0) {\n          setTypeBar(true);\n        } else {\n          setTypeBar(false);\n        }\n      } catch (err) {\n        setTypeBar(false);\n      }\n    } else {\n      setTypeBar(false);\n    }\n  };\n\n  const handleUploadAudio = async () => {\n    setLoading(true);\n    try {\n      const [, blob] = await Mp3Recorder.stop().getMp3();\n      if (blob.size < 10000) {\n        setLoading(false);\n        setRecording(false);\n        return;\n      }\n\n      const formData = new FormData();\n      const filename = `audio-record-site-${new Date().getTime()}.mp3`;\n      formData.append(\"medias\", blob, filename);\n      formData.append(\"body\", filename);\n      formData.append(\"fromMe\", true);\n\n      await api.post(`/messages/${ticketId}`, formData);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setRecording(false);\n    setLoading(false);\n  };\n\n  const handleCancelAudio = async () => {\n    try {\n      await Mp3Recorder.stop().getMp3();\n      setRecording(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleOpenMenuClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleMenuItemClick = (event) => {\n    setAnchorEl(null);\n  };\n\n  const renderReplyingMessage = (message) => {\n    return (\n      <div className={classes.replyginMsgWrapper}>\n        <div className={classes.replyginMsgContainer}>\n          <span\n            className={clsx(classes.replyginContactMsgSideColor, {\n              [classes.replyginSelfMsgSideColor]: !message.fromMe,\n            })}\n          ></span>\n          <div className={classes.replyginMsgBody}>\n            {!message.fromMe && (\n              <span className={classes.messageContactName}>\n                {message.contact?.name}\n              </span>\n            )}\n            {message.body}\n          </div>\n        </div>\n        <IconButton\n          aria-label=\"showRecorder\"\n          component=\"span\"\n          disabled={loading || ticketStatus !== \"open\"}\n          onClick={() => setReplyingMessage(null)}\n        >\n          <ClearIcon className={classes.sendMessageIcons} />\n        </IconButton>\n      </div>\n    );\n  };\n\n  if (medias.length > 0)\n    return (\n      <Paper elevation={0} square className={classes.viewMediaInputWrapper}>\n        <IconButton\n          aria-label=\"cancel-upload\"\n          component=\"span\"\n          onClick={(e) => setMedias([])}\n        >\n          <CancelIcon className={classes.sendMessageIcons} />\n        </IconButton>\n\n        {loading ? (\n          <div>\n            <CircularProgress className={classes.circleLoading} />\n          </div>\n        ) : (\n          <span>\n            {medias[0]?.name}\n            {/* <img src={media.preview} alt=\"\"></img> */}\n          </span>\n        )}\n        <IconButton\n          aria-label=\"send-upload\"\n          component=\"span\"\n          onClick={handleUploadMedia}\n          disabled={loading}\n        >\n          <SendIcon className={classes.sendMessageIcons} />\n        </IconButton>\n      </Paper>\n    );\n  else {\n    return (\n      <Paper square elevation={0} className={classes.mainWrapper}>\n        {replyingMessage && renderReplyingMessage(replyingMessage)}\n        <div className={classes.newMessageBox}>\n          <Hidden only={[\"sm\", \"xs\"]}>\n            <IconButton\n              aria-label=\"emojiPicker\"\n              component=\"span\"\n              disabled={loading || recording || ticketStatus !== \"open\"}\n              onClick={(e) => setShowEmoji((prevState) => !prevState)}\n            >\n              <MoodIcon className={classes.sendMessageIcons} />\n            </IconButton>\n            {showEmoji ? (\n              <div className={classes.emojiBox}>\n                <ClickAwayListener onClickAway={(e) => setShowEmoji(false)}>\n                  <Picker\n                    perLine={16}\n                    showPreview={false}\n                    showSkinTones={false}\n                    onSelect={handleAddEmoji}\n                  />\n                </ClickAwayListener>\n              </div>\n            ) : null}\n\n            <input\n              multiple\n              type=\"file\"\n              id=\"upload-button\"\n              disabled={loading || recording || ticketStatus !== \"open\"}\n              className={classes.uploadInput}\n              onChange={handleChangeMedias}\n            />\n            <label htmlFor=\"upload-button\">\n              <IconButton\n                aria-label=\"upload\"\n                component=\"span\"\n                disabled={loading || recording || ticketStatus !== \"open\"}\n              >\n                <AttachFileIcon className={classes.sendMessageIcons} />\n              </IconButton>\n            </label>\n            <FormControlLabel\n              style={{ marginRight: 7, color: \"gray\" }}\n              label={i18n.t(\"messagesInput.signMessage\")}\n              labelPlacement=\"start\"\n              control={\n                <Switch\n                  size=\"small\"\n                  checked={signMessage}\n                  onChange={(e) => {\n                    setSignMessage(e.target.checked);\n                  }}\n                  name=\"showAllTickets\"\n                  color=\"primary\"\n                />\n              }\n            />\n          </Hidden>\n          <Hidden only={[\"md\", \"lg\", \"xl\"]}>\n            <IconButton\n              aria-controls=\"simple-menu\"\n              aria-haspopup=\"true\"\n              onClick={handleOpenMenuClick}\n            >\n              <MoreVert></MoreVert>\n            </IconButton>\n            <Menu\n              id=\"simple-menu\"\n              keepMounted\n              anchorEl={anchorEl}\n              open={Boolean(anchorEl)}\n              onClose={handleMenuItemClick}\n            >\n              <MenuItem onClick={handleMenuItemClick}>\n                <IconButton\n                  aria-label=\"emojiPicker\"\n                  component=\"span\"\n                  disabled={loading || recording || ticketStatus !== \"open\"}\n                  onClick={(e) => setShowEmoji((prevState) => !prevState)}\n                >\n                  <MoodIcon className={classes.sendMessageIcons} />\n                </IconButton>\n              </MenuItem>\n              <MenuItem onClick={handleMenuItemClick}>\n                <input\n                  multiple\n                  type=\"file\"\n                  id=\"upload-button\"\n                  disabled={loading || recording || ticketStatus !== \"open\"}\n                  className={classes.uploadInput}\n                  onChange={handleChangeMedias}\n                />\n                <label htmlFor=\"upload-button\">\n                  <IconButton\n                    aria-label=\"upload\"\n                    component=\"span\"\n                    disabled={loading || recording || ticketStatus !== \"open\"}\n                  >\n                    <AttachFileIcon className={classes.sendMessageIcons} />\n                  </IconButton>\n                </label>\n              </MenuItem>\n              <MenuItem onClick={handleMenuItemClick}>\n                <FormControlLabel\n                  style={{ marginRight: 7, color: \"gray\" }}\n                  label={i18n.t(\"messagesInput.signMessage\")}\n                  labelPlacement=\"start\"\n                  control={\n                    <Switch\n                      size=\"small\"\n                      checked={signMessage}\n                      onChange={(e) => {\n                        setSignMessage(e.target.checked);\n                      }}\n                      name=\"showAllTickets\"\n                      color=\"primary\"\n                    />\n                  }\n                />\n              </MenuItem>\n            </Menu>\n          </Hidden>\n          <div className={classes.messageInputWrapper}>\n            <InputBase\n              inputRef={(input) => {\n                input && input.focus();\n                input && (inputRef.current = input);\n              }}\n              className={classes.messageInput}\n              placeholder={\n                ticketStatus === \"open\"\n                  ? i18n.t(\"messagesInput.placeholderOpen\")\n                  : i18n.t(\"messagesInput.placeholderClosed\")\n              }\n              multiline\n              maxRows={5}\n              value={inputMessage}\n              onChange={handleChangeInput}\n              disabled={recording || loading || ticketStatus !== \"open\"}\n              onPaste={(e) => {\n                ticketStatus === \"open\" && handleInputPaste(e);\n              }}\n              onKeyPress={(e) => {\n                if (loading || e.shiftKey) return;\n                else if (e.key === \"Enter\") {\n                  handleSendMessage();\n                }\n              }}\n            />\n            {typeBar ? (\n              <ul className={classes.messageQuickAnswersWrapper}>\n                {quickAnswers.map((value, index) => {\n                  return (\n                    <li\n                      className={classes.messageQuickAnswersWrapperItem}\n                      key={index}\n                    >\n                      {/* eslint-disable-next-line jsx-a11y/anchor-is-valid */}\n                      <a onClick={() => handleQuickAnswersClick(value.message)}>\n                        {`${value.shortcut} - ${value.message}`}\n                      </a>\n                    </li>\n                  );\n                })}\n              </ul>\n            ) : (\n              <div></div>\n            )}\n          </div>\n          {inputMessage ? (\n            <IconButton\n              aria-label=\"sendMessage\"\n              component=\"span\"\n              onClick={handleSendMessage}\n              disabled={loading}\n            >\n              <SendIcon className={classes.sendMessageIcons} />\n            </IconButton>\n          ) : recording ? (\n            <div className={classes.recorderWrapper}>\n              <IconButton\n                aria-label=\"cancelRecording\"\n                component=\"span\"\n                fontSize=\"large\"\n                disabled={loading}\n                onClick={handleCancelAudio}\n              >\n                <HighlightOffIcon className={classes.cancelAudioIcon} />\n              </IconButton>\n              {loading ? (\n                <div>\n                  <CircularProgress className={classes.audioLoading} />\n                </div>\n              ) : (\n                <RecordingTimer />\n              )}\n\n              <IconButton\n                aria-label=\"sendRecordedAudio\"\n                component=\"span\"\n                onClick={handleUploadAudio}\n                disabled={loading}\n              >\n                <CheckCircleOutlineIcon className={classes.sendAudioIcon} />\n              </IconButton>\n            </div>\n          ) : (\n            <IconButton\n              aria-label=\"showRecorder\"\n              component=\"span\"\n              disabled={loading || ticketStatus !== \"open\"}\n              onClick={handleStartRecording}\n            >\n              <MicIcon className={classes.sendMessageIcons} />\n            </IconButton>\n          )}\n        </div>\n      </Paper>\n    );\n  }\n};\n\nexport default MessageInput;\n","import { useState } from \"react\";\nimport toastError from \"../../errors/toastError\";\n\nexport function useLocalStorage(key, initialValue) {\n\tconst [storedValue, setStoredValue] = useState(() => {\n\t\ttry {\n\t\t\tconst item = localStorage.getItem(key);\n\t\t\treturn item ? JSON.parse(item) : initialValue;\n\t\t} catch (error) {\n\t\t\ttoastError(error);\n\t\t\treturn initialValue;\n\t\t}\n\t});\n\n\tconst setValue = value => {\n\t\ttry {\n\t\t\tconst valueToStore =\n\t\t\t\tvalue instanceof Function ? value(storedValue) : value;\n\n\t\t\tsetStoredValue(valueToStore);\n\n\t\t\tlocalStorage.setItem(key, JSON.stringify(valueToStore));\n\t\t} catch (error) {\n\t\t\ttoastError(error);\n\t\t}\n\t};\n\n\treturn [storedValue, setValue];\n}\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Avatar, Card, CardHeader } from \"@material-ui/core\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\nconst useStyles = makeStyles(theme => ({\n\tticketHeader: {\n\t\tdisplay: \"flex\",\n\t\tbackgroundColor: \"#eee\",\n\t\tflex: \"none\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t},\n}));\n\nconst TicketHeaderSkeleton = () => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Card square className={classes.ticketHeader}>\n\t\t\t<CardHeader\n\t\t\t\ttitleTypographyProps={{ noWrap: true }}\n\t\t\t\tsubheaderTypographyProps={{ noWrap: true }}\n\t\t\t\tavatar={\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\">\n\t\t\t\t\t\t<Avatar alt=\"contact_image\" />\n\t\t\t\t\t</Skeleton>\n\t\t\t\t}\n\t\t\t\ttitle={<Skeleton animation=\"wave\" width={80} />}\n\t\t\t\tsubheader={<Skeleton animation=\"wave\" width={140} />}\n\t\t\t/>\n\t\t</Card>\n\t);\n};\n\nexport default TicketHeaderSkeleton;\n","import React from \"react\";\n\nimport { Card, Button } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TicketHeaderSkeleton from \"../TicketHeaderSkeleton\";\nimport ArrowBackIos from \"@material-ui/icons/ArrowBackIos\";\nimport { useHistory } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) => ({\n  ticketHeader: {\n    display: \"flex\",\n    backgroundColor: \"#eee\",\n    flex: \"none\",\n    borderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n    [theme.breakpoints.down(\"sm\")]: {\n      flexWrap: \"wrap\",\n    },\n  },\n}));\n\nconst TicketHeader = ({ loading, children }) => {\n  const classes = useStyles();\n  const history = useHistory();\n  const handleBack = () => {\n    history.push(\"/tickets\");\n  };\n\n  return (\n    <>\n      {loading ? (\n        <TicketHeaderSkeleton />\n      ) : (\n        <Card square className={classes.ticketHeader}>\n          <Button color=\"primary\" onClick={handleBack}>\n            <ArrowBackIos />\n          </Button>\n          {children}\n        </Card>\n      )}\n    </>\n  );\n};\n\nexport default TicketHeader;\n","import React from \"react\";\n\nimport { Avatar, CardHeader } from \"@material-ui/core\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nconst TicketInfo = ({ contact, ticket, onClick }) => {\n\treturn (\n\t\t<CardHeader\n\t\t\tonClick={onClick}\n\t\t\tstyle={{ cursor: \"pointer\" }}\n\t\t\ttitleTypographyProps={{ noWrap: true }}\n\t\t\tsubheaderTypographyProps={{ noWrap: true }}\n\t\t\tavatar={<Avatar src={contact.profilePicUrl} alt=\"contact_image\" />}\n\t\t\ttitle={`${contact.name} #${ticket.id}`}\n\t\t\tsubheader={\n\t\t\t\tticket.user &&\n\t\t\t\t`${i18n.t(\"messagesList.header.assignedTo\")} ${ticket.user.name}`\n\t\t\t}\n\t\t/>\n\t);\n};\n\nexport default TicketInfo;\n","import api from \"../../services/api\";\n\nconst useQueues = () => {\n\tconst findAll = async () => {\n        const { data } = await api.get(\"/queue\");\n        return data;\n    }\n\n\treturn { findAll };\n};\n\nexport default useQueues;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport Select from \"@material-ui/core/Select\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { makeStyles } from \"@material-ui/core\";\n\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Autocomplete, {\n\tcreateFilterOptions,\n} from \"@material-ui/lab/Autocomplete\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport toastError from \"../../errors/toastError\";\nimport useQueues from \"../../hooks/useQueues\";\nimport useWhatsApps from \"../../hooks/useWhatsApps\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../Can\";\n\nconst useStyles = makeStyles((theme) => ({\n  maxWidth: {\n    width: \"100%\",\n  },\n}));\n\nconst filterOptions = createFilterOptions({\n\ttrim: true,\n});\n\nconst TransferTicketModal = ({ modalOpen, onClose, ticketid, ticketWhatsappId }) => {\n\tconst history = useHistory();\n\tconst [options, setOptions] = useState([]);\n\tconst [queues, setQueues] = useState([]);\n\tconst [allQueues, setAllQueues] = useState([]);\n\tconst [loading, setLoading] = useState(false);\n\tconst [searchParam, setSearchParam] = useState(\"\");\n\tconst [selectedUser, setSelectedUser] = useState(null);\n\tconst [selectedQueue, setSelectedQueue] = useState('');\n\tconst [selectedWhatsapp, setSelectedWhatsapp] = useState(ticketWhatsappId);\n\tconst classes = useStyles();\n\tconst { findAll: findAllQueues } = useQueues();\n\tconst { loadingWhatsapps, whatsApps } = useWhatsApps();\n\n\tconst { user: loggedInUser } = useContext(AuthContext);\n\n\tuseEffect(() => {\n\t\tconst loadQueues = async () => {\n\t\t\tconst list = await findAllQueues();\n\t\t\tsetAllQueues(list);\n\t\t\tsetQueues(list);\n\t\t}\n\t\tloadQueues();\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (!modalOpen || searchParam.length < 3) {\n\t\t\tsetLoading(false);\n\t\t\treturn;\n\t\t}\n\t\tsetLoading(true);\n\t\tconst delayDebounceFn = setTimeout(() => {\n\t\t\tconst fetchUsers = async () => {\n\t\t\t\ttry {\n\t\t\t\t\tconst { data } = await api.get(\"/users/\", {\n\t\t\t\t\t\tparams: { searchParam },\n\t\t\t\t\t});\n\t\t\t\t\tsetOptions(data.users);\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t\ttoastError(err);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tfetchUsers();\n\t\t}, 500);\n\t\treturn () => clearTimeout(delayDebounceFn);\n\t}, [searchParam, modalOpen]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetSearchParam(\"\");\n\t\tsetSelectedUser(null);\n\t};\n\n\tconst handleSaveTicket = async e => {\n\t\te.preventDefault();\n\t\tif (!ticketid) return;\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tlet data = {};\n\n\t\t\tif (selectedUser) {\n\t\t\t\tdata.userId = selectedUser.id\n\t\t\t}\n\n\t\t\tif (selectedQueue && selectedQueue !== null) {\n\t\t\t\tdata.queueId = selectedQueue\n\n\t\t\t\tif (!selectedUser) {\n\t\t\t\t\tdata.status = 'pending';\n\t\t\t\t\tdata.userId = null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(selectedWhatsapp) {\n\t\t\t\tdata.whatsappId = selectedWhatsapp;\n\t\t\t}\n\n\t\t\tawait api.put(`/tickets/${ticketid}`, data);\n\n\t\t\tsetLoading(false);\n\t\t\thistory.push(`/tickets`);\n\t\t} catch (err) {\n\t\t\tsetLoading(false);\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Dialog open={modalOpen} onClose={handleClose} maxWidth=\"lg\" scroll=\"paper\">\n\t\t\t<form onSubmit={handleSaveTicket}>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{i18n.t(\"transferTicketModal.title\")}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\tstyle={{ width: 300, marginBottom: 20 }}\n\t\t\t\t\t\tgetOptionLabel={option => `${option.name}`}\n\t\t\t\t\t\tonChange={(e, newValue) => {\n\t\t\t\t\t\t\tsetSelectedUser(newValue);\n\t\t\t\t\t\t\tif (newValue != null && Array.isArray(newValue.queues)) {\n\t\t\t\t\t\t\t\tsetQueues(newValue.queues);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetQueues(allQueues);\n\t\t\t\t\t\t\t\tsetSelectedQueue('');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\toptions={options}\n\t\t\t\t\t\tfilterOptions={filterOptions}\n\t\t\t\t\t\tfreeSolo\n\t\t\t\t\t\tautoHighlight\n\t\t\t\t\t\tnoOptionsText={i18n.t(\"transferTicketModal.noOptions\")}\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\trenderInput={params => (\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\t\tlabel={i18n.t(\"transferTicketModal.fieldLabel\")}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tonChange={e => setSearchParam(e.target.value)}\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t...params.InputProps,\n\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t{loading ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<CircularProgress color=\"inherit\" size={20} />\n\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t\t{params.InputProps.endAdornment}\n\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t\t<FormControl variant=\"outlined\" className={classes.maxWidth}>\n\t\t\t\t\t\t<InputLabel>{i18n.t(\"transferTicketModal.fieldQueueLabel\")}</InputLabel>\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\tvalue={selectedQueue}\n\t\t\t\t\t\t\tonChange={(e) => setSelectedQueue(e.target.value)}\n\t\t\t\t\t\t\tlabel={i18n.t(\"transferTicketModal.fieldQueuePlaceholder\")}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<MenuItem value={''}>&nbsp;</MenuItem>\n\t\t\t\t\t\t\t{queues.map((queue) => (\n\t\t\t\t\t\t\t\t<MenuItem key={queue.id} value={queue.id}>{queue.name}</MenuItem>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t</FormControl>\n\t\t\t\t\t<Can\n\t\t\t\t\t\trole={loggedInUser.profile}\n\t\t\t\t\t\tperform=\"ticket-options:transferWhatsapp\"\n\t\t\t\t\t\tyes={() => (!loadingWhatsapps && \n\t\t\t\t\t\t\t<FormControl variant=\"outlined\" className={classes.maxWidth} style={{ marginTop: 20 }}>\n\t\t\t\t\t\t\t\t<InputLabel>{i18n.t(\"transferTicketModal.fieldConnectionLabel\")}</InputLabel>\n\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\tvalue={selectedWhatsapp}\n\t\t\t\t\t\t\t\t\tonChange={(e) => setSelectedWhatsapp(e.target.value)}\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"transferTicketModal.fieldConnectionPlaceholder\")}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{whatsApps.map((whasapp) => (\n\t\t\t\t\t\t\t\t\t\t<MenuItem key={whasapp.id} value={whasapp.id}>{whasapp.name}</MenuItem>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"transferTicketModal.buttons.cancel\")}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"transferTicketModal.buttons.ok\")}\n\t\t\t\t\t</ButtonWithSpinner>\n\t\t\t\t</DialogActions>\n\t\t\t</form>\n\t\t</Dialog>\n\t);\n};\n\nexport default TransferTicketModal;\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Menu from \"@material-ui/core/Menu\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport TransferTicketModal from \"../TransferTicketModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Can } from \"../Can\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst TicketOptionsMenu = ({ ticket, menuOpen, handleClose, anchorEl }) => {\n\tconst [confirmationOpen, setConfirmationOpen] = useState(false);\n\tconst [transferTicketModalOpen, setTransferTicketModalOpen] = useState(false);\n\tconst isMounted = useRef(true);\n\tconst { user } = useContext(AuthContext);\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tisMounted.current = false;\n\t\t};\n\t}, []);\n\n\tconst handleDeleteTicket = async () => {\n\t\ttry {\n\t\t\tawait api.delete(`/tickets/${ticket.id}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst handleOpenConfirmationModal = e => {\n\t\tsetConfirmationOpen(true);\n\t\thandleClose();\n\t};\n\n\tconst handleOpenTransferModal = e => {\n\t\tsetTransferTicketModalOpen(true);\n\t\thandleClose();\n\t};\n\n\tconst handleCloseTransferTicketModal = () => {\n\t\tif (isMounted.current) {\n\t\t\tsetTransferTicketModalOpen(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<Menu\n\t\t\t\tid=\"menu-appbar\"\n\t\t\t\tanchorEl={anchorEl}\n\t\t\t\tgetContentAnchorEl={null}\n\t\t\t\tanchorOrigin={{\n\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\tkeepMounted\n\t\t\t\ttransformOrigin={{\n\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\topen={menuOpen}\n\t\t\t\tonClose={handleClose}\n\t\t\t>\n\t\t\t\t<MenuItem onClick={handleOpenTransferModal}>\n\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.transfer\")}\n\t\t\t\t</MenuItem>\n\t\t\t\t<Can\n\t\t\t\t\trole={user.profile}\n\t\t\t\t\tperform=\"ticket-options:deleteTicket\"\n\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t<MenuItem onClick={handleOpenConfirmationModal}>\n\t\t\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.delete\")}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t)}\n\t\t\t\t/>\n\t\t\t</Menu>\n\t\t\t<ConfirmationModal\n\t\t\t\ttitle={`${i18n.t(\"ticketOptionsMenu.confirmationModal.title\")}${\n\t\t\t\t\tticket.id\n\t\t\t\t} ${i18n.t(\"ticketOptionsMenu.confirmationModal.titleFrom\")} ${\n\t\t\t\t\tticket.contact.name\n\t\t\t\t}?`}\n\t\t\t\topen={confirmationOpen}\n\t\t\t\tonClose={setConfirmationOpen}\n\t\t\t\tonConfirm={handleDeleteTicket}\n\t\t\t>\n\t\t\t\t{i18n.t(\"ticketOptionsMenu.confirmationModal.message\")}\n\t\t\t</ConfirmationModal>\n\t\t\t<TransferTicketModal\n\t\t\t\tmodalOpen={transferTicketModalOpen}\n\t\t\t\tonClose={handleCloseTransferTicketModal}\n\t\t\t\tticketid={ticket.id}\n\t\t\t\tticketWhatsappId={ticket.whatsappId}\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nexport default TicketOptionsMenu;\n","import React, { useContext, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { IconButton } from \"@material-ui/core\";\nimport { MoreVert, Replay } from \"@material-ui/icons\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport TicketOptionsMenu from \"../TicketOptionsMenu\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles(theme => ({\n\tactionButtons: {\n\t\tmarginRight: 6,\n\t\tflex: \"none\",\n\t\talignSelf: \"center\",\n\t\tmarginLeft: \"auto\",\n\t\t\"& > *\": {\n\t\t\tmargin: theme.spacing(1),\n\t\t},\n\t},\n}));\n\nconst TicketActionButtons = ({ ticket }) => {\n\tconst classes = useStyles();\n\tconst history = useHistory();\n\tconst [anchorEl, setAnchorEl] = useState(null);\n\tconst [loading, setLoading] = useState(false);\n\tconst ticketOptionsMenuOpen = Boolean(anchorEl);\n\tconst { user } = useContext(AuthContext);\n\n\tconst handleOpenTicketOptionsMenu = e => {\n\t\tsetAnchorEl(e.currentTarget);\n\t};\n\n\tconst handleCloseTicketOptionsMenu = e => {\n\t\tsetAnchorEl(null);\n\t};\n\n\tconst handleUpdateTicketStatus = async (e, status, userId) => {\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tawait api.put(`/tickets/${ticket.id}`, {\n\t\t\t\tstatus: status,\n\t\t\t\tuserId: userId || null,\n\t\t\t});\n\n\t\t\tsetLoading(false);\n\t\t\tif (status === \"open\") {\n\t\t\t\thistory.push(`/tickets/${ticket.id}`);\n\t\t\t} else {\n\t\t\t\thistory.push(\"/tickets\");\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tsetLoading(false);\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={classes.actionButtons}>\n\t\t\t{ticket.status === \"closed\" && (\n\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\tloading={loading}\n\t\t\t\t\tstartIcon={<Replay />}\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"open\", user?.id)}\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.reopen\")}\n\t\t\t\t</ButtonWithSpinner>\n\t\t\t)}\n\t\t\t{ticket.status === \"open\" && (\n\t\t\t\t<>\n\t\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\tstartIcon={<Replay />}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"pending\", null)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.return\")}\n\t\t\t\t\t</ButtonWithSpinner>\n\t\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"closed\", user?.id)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.resolve\")}\n\t\t\t\t\t</ButtonWithSpinner>\n\t\t\t\t\t<IconButton onClick={handleOpenTicketOptionsMenu}>\n\t\t\t\t\t\t<MoreVert />\n\t\t\t\t\t</IconButton>\n\t\t\t\t\t<TicketOptionsMenu\n\t\t\t\t\t\tticket={ticket}\n\t\t\t\t\t\tanchorEl={anchorEl}\n\t\t\t\t\t\tmenuOpen={ticketOptionsMenuOpen}\n\t\t\t\t\t\thandleClose={handleCloseTicketOptionsMenu}\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t)}\n\t\t\t{ticket.status === \"pending\" && (\n\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\tloading={loading}\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"open\", user?.id)}\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.accept\")}\n\t\t\t\t</ButtonWithSpinner>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default TicketActionButtons;\n","import React, { useEffect, useState, useContext } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\n\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Grid from \"@material-ui/core/Grid\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nimport { Button, Divider, } from \"@material-ui/core\";\n\nconst VcardPreview = ({ contact, numbers }) => {\n    const history = useHistory();\n    const { user } = useContext(AuthContext);\n\n    const [selectedContact, setContact] = useState({\n        name: \"\",\n        number: 0,\n        profilePicUrl: \"\"\n    });\n\n    useEffect(() => {\n        const delayDebounceFn = setTimeout(() => {\n            const fetchContacts = async() => {\n                try {\n                    let contactObj = {\n                        name: contact,\n                        number: numbers.replace(/\\D/g, \"\"),\n                        email: \"\"\n                    }\n                    const { data } = await api.post(\"/contact\", contactObj);\n                    setContact(data)\n\n                } catch (err) {\n                    console.log(err)\n                    toastError(err);\n                }\n            };\n            fetchContacts();\n        }, 500);\n        return () => clearTimeout(delayDebounceFn);\n    }, [contact, numbers]);\n\n    const handleNewChat = async() => {\n        try {\n            const { data: ticket } = await api.post(\"/tickets\", {\n                contactId: selectedContact.id,\n                userId: user.id,\n                status: \"open\",\n            });\n            history.push(`/tickets/${ticket.id}`);\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    return (\n\t\t<>\n\t\t\t<div style={{\n\t\t\t\tminWidth: \"250px\",\n\t\t\t}}>\n\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t<Grid item xs={2}>\n\t\t\t\t\t\t<Avatar src={selectedContact.profilePicUrl} />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={9}>\n\t\t\t\t\t\t<Typography style={{ marginTop: \"12px\", marginLeft: \"10px\" }} variant=\"subtitle1\" color=\"primary\" gutterBottom>\n\t\t\t\t\t\t\t{selectedContact.name}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tonClick={handleNewChat}\n\t\t\t\t\t\t\tdisabled={!selectedContact.number}\n\t\t\t\t\t\t>Conversar</Button>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t</>\n\t);\n\n};\n\nexport default VcardPreview;","import React, { useEffect } from 'react';\nimport toastError from \"../../errors/toastError\";\n\nimport { Button, Divider, Typography} from \"@material-ui/core\";\n\nconst LocationPreview = ({ image, link, description }) => {\n    useEffect(() => {}, [image, link, description]);\n\n    const handleLocation = async() => {\n        try {\n            window.open(link);\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    return (\n\t\t<>\n\t\t\t<div style={{\n\t\t\t\tminWidth: \"250px\",\n\t\t\t}}>\n\t\t\t\t<div>\n\t\t\t\t\t<div style={{ float: \"left\" }}>\n\t\t\t\t\t\t<img src={image} alt=\"loc\" onClick={handleLocation} style={{ width: \"100px\" }} />\n\t\t\t\t\t</div>\n\t\t\t\t\t{ description && (\n\t\t\t\t\t<div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\n\t\t\t\t\t\t<Typography style={{ marginTop: \"12px\", marginLeft: \"15px\", marginRight: \"15px\", float: \"left\" }} variant=\"subtitle1\" color=\"primary\" gutterBottom>\n\t\t\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: description.replace('\\\\n', '<br />') }}></div>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t<div style={{ display: \"block\", content: \"\", clear: \"both\" }}></div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tonClick={handleLocation}\n\t\t\t\t\t\t\tdisabled={!link}\n\t\t\t\t\t\t>Visualizar</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n\n};\n\nexport default LocationPreview;","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport ModalImage from \"react-modal-image\";\nimport api from \"../../services/api\";\n\nconst useStyles = makeStyles(theme => ({\n\tmessageMedia: {\n\t\tobjectFit: \"cover\",\n\t\twidth: 250,\n\t\theight: 200,\n\t\tborderTopLeftRadius: 8,\n\t\tborderTopRightRadius: 8,\n\t\tborderBottomLeftRadius: 8,\n\t\tborderBottomRightRadius: 8,\n\t},\n}));\n\nconst ModalImageCors = ({ imageUrl }) => {\n\tconst classes = useStyles();\n\tconst [fetching, setFetching] = useState(true);\n\tconst [blobUrl, setBlobUrl] = useState(\"\");\n\n\tuseEffect(() => {\n\t\tif (!imageUrl) return;\n\t\tconst fetchImage = async () => {\n\t\t\tconst { data, headers } = await api.get(imageUrl, {\n\t\t\t\tresponseType: \"blob\",\n\t\t\t});\n\t\t\tconst url = window.URL.createObjectURL(\n\t\t\t\tnew Blob([data], { type: headers[\"content-type\"] })\n\t\t\t);\n\t\t\tsetBlobUrl(url);\n\t\t\tsetFetching(false);\n\t\t};\n\t\tfetchImage();\n\t}, [imageUrl]);\n\n\treturn (\n\t\t<ModalImage\n\t\t\tclassName={classes.messageMedia}\n\t\t\tsmallSrcSet={fetching ? imageUrl : blobUrl}\n\t\t\tmedium={fetching ? imageUrl : blobUrl}\n\t\t\tlarge={fetching ? imageUrl : blobUrl}\n\t\t\talt=\"image\"\n\t\t/>\n\t);\n};\n\nexport default ModalImageCors;\n","import React, { useState, useContext } from \"react\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport { Menu } from \"@material-ui/core\";\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport toastError from \"../../errors/toastError\";\n\nconst MessageOptionsMenu = ({ message, menuOpen, handleClose, anchorEl }) => {\n  const { setReplyingMessage } = useContext(ReplyMessageContext);\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\n\n  const handleDeleteMessage = async () => {\n    try {\n      await api.delete(`/messages/${message.id}`);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const hanldeReplyMessage = () => {\n    setReplyingMessage(message);\n    handleClose();\n  };\n\n  const handleOpenConfirmationModal = (e) => {\n    setConfirmationOpen(true);\n    handleClose();\n  };\n\n  return (\n    <>\n      <ConfirmationModal\n        title={i18n.t(\"messageOptionsMenu.confirmationModal.title\")}\n        open={confirmationOpen}\n        onClose={setConfirmationOpen}\n        onConfirm={handleDeleteMessage}\n      >\n        {i18n.t(\"messageOptionsMenu.confirmationModal.message\")}\n      </ConfirmationModal>\n      <Menu\n        anchorEl={anchorEl}\n        getContentAnchorEl={null}\n        anchorOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"right\",\n        }}\n        transformOrigin={{\n          vertical: \"top\",\n          horizontal: \"right\",\n        }}\n        open={menuOpen}\n        onClose={handleClose}\n      >\n        {message.fromMe && (\n          <MenuItem onClick={handleOpenConfirmationModal}>\n            {i18n.t(\"messageOptionsMenu.delete\")}\n          </MenuItem>\n        )}\n        <MenuItem onClick={hanldeReplyMessage}>\n          {i18n.t(\"messageOptionsMenu.reply\")}\n        </MenuItem>\n      </Menu>\n    </>\n  );\n};\n\nexport default MessageOptionsMenu;\n","import React, { useState, useEffect, useReducer, useRef  } from \"react\";\n\nimport { isSameDay, parseISO, format } from \"date-fns\";\nimport openSocket from \"../../services/socket-io\";\nimport clsx from \"clsx\";\n\nimport { green } from \"@material-ui/core/colors\";\nimport {\n  Button,\n  CircularProgress,\n  Divider,\n  IconButton,\n  makeStyles,\n} from \"@material-ui/core\";\nimport {\n  AccessTime,\n  Block,\n  Done,\n  DoneAll,\n  ExpandMore,\n  GetApp,\n} from \"@material-ui/icons\";\n\nimport MarkdownWrapper from \"../MarkdownWrapper\";\nimport VcardPreview from \"../VcardPreview\";\nimport LocationPreview from \"../LocationPreview\";\nimport ModalImageCors from \"../ModalImageCors\";\nimport MessageOptionsMenu from \"../MessageOptionsMenu\";\nimport whatsBackground from \"../../assets/wa-background.png\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles((theme) => ({\n  messagesListWrapper: {\n    overflow: \"hidden\",\n    position: \"relative\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    flexGrow: 1,\n  },\n\n  messageCenter: {\n    marginTop: 5,\n    alignItems: \"center\",\n    verticalAlign: \"center\",\n    alignContent: \"center\",\n    backgroundColor: \"#E1F5FEEB\",\n    fontSize: \"12px\",\n    minWidth: 100,\n    maxWidth: 270,\n    color: \"#272727\",\n    borderTopLeftRadius: 0,\n    borderTopRightRadius: 8,\n    borderBottomLeftRadius: 8,\n    borderBottomRightRadius: 8,\n    paddingLeft: 5,\n    paddingRight: 5,\n    paddingTop: 5,\n    paddingBottom: 0,\n    boxShadow: \"0 1px 1px #b3b3b3\",\n  },\n\n  messagesList: {\n    backgroundImage: `url(${whatsBackground})`,\n    display: \"flex\",\n    flexDirection: \"column\",\n    flexGrow: 1,\n    padding: \"20px 20px 20px 20px\",\n    overflowY: \"scroll\",\n    [theme.breakpoints.down(\"sm\")]: {\n      paddingBottom: \"90px\",\n    },\n    ...theme.scrollbarStyles,\n  },\n\n  circleLoading: {\n    color: green[500],\n    position: \"absolute\",\n    opacity: \"70%\",\n    top: 0,\n    left: \"50%\",\n    marginTop: 12,\n  },\n\n  messageLeft: {\n    marginRight: 20,\n    marginTop: 2,\n    minWidth: 100,\n    maxWidth: 600,\n    height: \"auto\",\n    display: \"block\",\n    position: \"relative\",\n    \"&:hover #messageActionsButton\": {\n      display: \"flex\",\n      position: \"absolute\",\n      top: 0,\n      right: 0,\n    },\n\n    whiteSpace: \"pre-wrap\",\n    backgroundColor: \"#ffffff\",\n    color: \"#303030\",\n    alignSelf: \"flex-start\",\n    borderTopLeftRadius: 0,\n    borderTopRightRadius: 8,\n    borderBottomLeftRadius: 8,\n    borderBottomRightRadius: 8,\n    paddingLeft: 5,\n    paddingRight: 5,\n    paddingTop: 5,\n    paddingBottom: 0,\n    boxShadow: \"0 1px 1px #b3b3b3\",\n  },\n\n  quotedContainerLeft: {\n    margin: \"-3px -80px 6px -6px\",\n    overflow: \"hidden\",\n    backgroundColor: \"#f0f0f0\",\n    borderRadius: \"7.5px\",\n    display: \"flex\",\n    position: \"relative\",\n  },\n\n  quotedMsg: {\n    padding: 10,\n    maxWidth: 300,\n    height: \"auto\",\n    display: \"block\",\n    whiteSpace: \"pre-wrap\",\n    overflow: \"hidden\",\n  },\n\n  quotedSideColorLeft: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#6bcbef\",\n  },\n\n  messageRight: {\n    marginLeft: 20,\n    marginTop: 2,\n    minWidth: 100,\n    maxWidth: 600,\n    height: \"auto\",\n    display: \"block\",\n    position: \"relative\",\n    \"&:hover #messageActionsButton\": {\n      display: \"flex\",\n      position: \"absolute\",\n      top: 0,\n      right: 0,\n    },\n\n    whiteSpace: \"pre-wrap\",\n    backgroundColor: \"#dcf8c6\",\n    color: \"#303030\",\n    alignSelf: \"flex-end\",\n    borderTopLeftRadius: 8,\n    borderTopRightRadius: 8,\n    borderBottomLeftRadius: 8,\n    borderBottomRightRadius: 0,\n    paddingLeft: 5,\n    paddingRight: 5,\n    paddingTop: 5,\n    paddingBottom: 0,\n    boxShadow: \"0 1px 1px #b3b3b3\",\n  },\n\n  quotedContainerRight: {\n    margin: \"-3px -80px 6px -6px\",\n    overflowY: \"hidden\",\n    backgroundColor: \"#cfe9ba\",\n    borderRadius: \"7.5px\",\n    display: \"flex\",\n    position: \"relative\",\n  },\n\n  quotedMsgRight: {\n    padding: 10,\n    maxWidth: 300,\n    height: \"auto\",\n    whiteSpace: \"pre-wrap\",\n  },\n\n  quotedSideColorRight: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#35cd96\",\n  },\n\n  messageActionsButton: {\n    display: \"none\",\n    position: \"relative\",\n    color: \"#999\",\n    zIndex: 1,\n    backgroundColor: \"inherit\",\n    opacity: \"90%\",\n    \"&:hover, &.Mui-focusVisible\": { backgroundColor: \"inherit\" },\n  },\n\n  messageContactName: {\n    display: \"flex\",\n    color: \"#6bcbef\",\n    fontWeight: 500,\n  },\n\n  textContentItem: {\n    overflowWrap: \"break-word\",\n    padding: \"3px 80px 6px 6px\",\n  },\n\n  textContentItemDeleted: {\n    fontStyle: \"italic\",\n    color: \"rgba(0, 0, 0, 0.36)\",\n    overflowWrap: \"break-word\",\n    padding: \"3px 80px 6px 6px\",\n  },\n\n  messageMedia: {\n    objectFit: \"cover\",\n    width: 250,\n    height: 200,\n    borderTopLeftRadius: 8,\n    borderTopRightRadius: 8,\n    borderBottomLeftRadius: 8,\n    borderBottomRightRadius: 8,\n  },\n\n  timestamp: {\n    fontSize: 11,\n    position: \"absolute\",\n    bottom: 0,\n    right: 5,\n    color: \"#999\",\n  },\n\n  dailyTimestamp: {\n    alignItems: \"center\",\n    textAlign: \"center\",\n    alignSelf: \"center\",\n    width: \"110px\",\n    backgroundColor: \"#e1f3fb\",\n    margin: \"10px\",\n    borderRadius: \"10px\",\n    boxShadow: \"0 1px 1px #b3b3b3\",\n  },\n\n  dailyTimestampText: {\n    color: \"#808888\",\n    padding: 8,\n    alignSelf: \"center\",\n    marginLeft: \"0px\",\n  },\n\n  ackIcons: {\n    fontSize: 18,\n    verticalAlign: \"middle\",\n    marginLeft: 4,\n  },\n\n  deletedIcon: {\n    fontSize: 18,\n    verticalAlign: \"middle\",\n    marginRight: 4,\n  },\n\n  ackDoneAllIcon: {\n    color: green[500],\n    fontSize: 18,\n    verticalAlign: \"middle\",\n    marginLeft: 4,\n  },\n\n  downloadMedia: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    backgroundColor: \"inherit\",\n    padding: 10,\n  },\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_MESSAGES\") {\n    const messages = action.payload;\n    const newMessages = [];\n\n    messages.forEach((message) => {\n      const messageIndex = state.findIndex((m) => m.id === message.id);\n      if (messageIndex !== -1) {\n        state[messageIndex] = message;\n      } else {\n        newMessages.push(message);\n      }\n    });\n\n    return [...newMessages, ...state];\n  }\n\n  if (action.type === \"ADD_MESSAGE\") {\n    const newMessage = action.payload;\n    const messageIndex = state.findIndex((m) => m.id === newMessage.id);\n\n    if (messageIndex !== -1) {\n      state[messageIndex] = newMessage;\n    } else {\n      state.push(newMessage);\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"UPDATE_MESSAGE\") {\n    const messageToUpdate = action.payload;\n    const messageIndex = state.findIndex((m) => m.id === messageToUpdate.id);\n\n    if (messageIndex !== -1) {\n      state[messageIndex] = messageToUpdate;\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst MessagesList = ({ ticketId, isGroup }) => {\n  const classes = useStyles();\n\n  const [messagesList, dispatch] = useReducer(reducer, []);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const lastMessageRef = useRef();\n\n  const [selectedMessage, setSelectedMessage] = useState({});\n  const [anchorEl, setAnchorEl] = useState(null);\n  const messageOptionsMenuOpen = Boolean(anchorEl);\n  const currentTicketId = useRef(ticketId);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n\n    currentTicketId.current = ticketId;\n  }, [ticketId]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchMessages = async () => {\n        try {\n          const { data } = await api.get(\"/messages/\" + ticketId, {\n            params: { pageNumber },\n          });\n\n          if (currentTicketId.current === ticketId) {\n            dispatch({ type: \"LOAD_MESSAGES\", payload: data.messages });\n            setHasMore(data.hasMore);\n            setLoading(false);\n          }\n\n          if (pageNumber === 1 && data.messages.length > 1) {\n            scrollToBottom();\n          }\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n      fetchMessages();\n    }, 500);\n    return () => {\n      clearTimeout(delayDebounceFn);\n    };\n  }, [pageNumber, ticketId]);\n\n  useEffect(() => {\n    const socket = openSocket();\n\n    socket.on(\"ready\", () => socket.emit(\"joinChatBox\", ticketId));\n\n    socket.on(\"appMessage\", (data) => {\n      if (data.action === \"create\") {\n        dispatch({ type: \"ADD_MESSAGE\", payload: data.message });\n        scrollToBottom();\n      }\n\n      if (data.action === \"update\") {\n        dispatch({ type: \"UPDATE_MESSAGE\", payload: data.message });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [ticketId]);\n\n  const loadMore = () => {\n    setPageNumber((prevPageNumber) => prevPageNumber + 1);\n  };\n\n  const scrollToBottom = () => {\n    if (lastMessageRef.current) {\n      lastMessageRef.current.scrollIntoView({});\n    }\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore) return;\n    const { scrollTop } = e.currentTarget;\n\n    if (scrollTop === 0) {\n      document.getElementById(\"messagesList\").scrollTop = 1;\n    }\n\n    if (loading) {\n      return;\n    }\n\n    if (scrollTop < 50) {\n      loadMore();\n    }\n  };\n\n  const handleOpenMessageOptionsMenu = (e, message) => {\n    setAnchorEl(e.currentTarget);\n    setSelectedMessage(message);\n  };\n\n  const handleCloseMessageOptionsMenu = (e) => {\n    setAnchorEl(null);\n  };\n\n  const checkMessageMedia = (message) => {\n\n    if (message.mediaType === \"locationMessage\" && message.body.split('|').length >= 2) {\n      try {\n        let locationParts = message.body.split('|')\n        let imageLocation = locationParts[0]\n        let linkLocation = locationParts[1]\n\n        let descriptionLocation = null\n\n        if (locationParts.length > 2) {\n          descriptionLocation = message?.body?.split('|')[2]\n        }\n        return <LocationPreview image={imageLocation} link={linkLocation} description={descriptionLocation} />\n      } catch (err) {\n        console.log(\"checkMessageMedia ~ err\", err)\n\n      }\n    } else\n      if (message.mediaType === \"contactMessage\") {\n        let array = message.body.split(\"\\n\");\n        let obj = [];\n        let contact = \"\";\n        for (let index = 0; index < array.length; index++) {\n          const v = array[index];\n          let values = v.split(\":\");\n          for (let ind = 0; ind < values.length; ind++) {\n            if (values[ind].indexOf(\"+\") !== -1) {\n              obj.push({ number: values[ind] });\n            }\n            if (values[ind].indexOf(\"FN\") !== -1) {\n              contact = values[ind + 1];\n            }\n          }\n        }\n        return <VcardPreview contact={contact} numbers={obj[0].number} />\n      }\n      /*else if (message.mediaType === \"multi_vcard\") {\n     \n      \t\n        if(message.body !== null && message.body !== \"\") {\n          let newBody = JSON.parse(message.body)\n          return (\n            <>\n              {\n              newBody.map(v => (\n                <VcardPreview contact={v.name} numbers={v.number} />\n              ))\n              }\n            </>\n          )\n        } else return (<></>)\n      }*/\n      else if (message.mediaType === \"image\") {\n\n        return <ModalImageCors imageUrl={message.mediaUrl} />;\n      } else if (message.mediaType === \"audio\") {\n        return (\n          <audio controls>\n            <source src={message.mediaUrl} type=\"audio/ogg\"></source>\n          </audio>\n        );\n      } else if (message.mediaType === \"video\") {\n\n        return (\n          <video\n            className={classes.messageMedia}\n            src={message.mediaUrl}\n            controls\n          />\n        );\n      } else {\n\n        return (\n          <>\n            <div className={classes.downloadMedia}>\n              <Button\n                startIcon={<GetApp />}\n                color=\"primary\"\n                variant=\"outlined\"\n                target=\"_blank\"\n                href={message.mediaUrl}\n              >\n                Download\n              </Button>\n            </div>\n            <Divider />\n          </>\n        );\n      }\n  };\n\n  const renderMessageAck = (message) => {\n    if (message.ack === 0) {\n      return <AccessTime fontSize=\"small\" className={classes.ackIcons} />;\n    }\n    if (message.ack === 1) {\n      return <Done fontSize=\"small\" className={classes.ackIcons} />;\n    }\n    if (message.ack === 2) {\n      return <Done fontSize=\"small\" className={classes.ackIcons} />;\n    }\n    if (message.ack === 3) {\n      return <DoneAll fontSize=\"small\" className={classes.ackIcons} />;\n    }\n    if (message.ack === 4 || message.ack === 5) {\n      return <DoneAll fontSize=\"small\" className={classes.ackDoneAllIcon} />;\n    }\n  };\n\n  const renderDailyTimestamps = (message, index) => {\n    if (index === 0) {\n      return (\n        <span\n          className={classes.dailyTimestamp}\n          key={`timestamp-${message.id}`}\n        >\n          <div className={classes.dailyTimestampText}>\n            {format(parseISO(messagesList[index].createdAt), \"dd/MM/yyyy\")}\n          </div>\n        </span>\n      );\n    }\n    if (index < messagesList.length - 1) {\n      let messageDay = parseISO(messagesList[index].createdAt);\n      let previousMessageDay = parseISO(messagesList[index - 1].createdAt);\n\n      if (!isSameDay(messageDay, previousMessageDay)) {\n        return (\n          <span\n            className={classes.dailyTimestamp}\n            key={`timestamp-${message.id}`}\n          >\n            <div className={classes.dailyTimestampText}>\n              {format(parseISO(messagesList[index].createdAt), \"dd/MM/yyyy\")}\n            </div>\n          </span>\n        );\n      }\n    }\n    if (index === messagesList.length - 1) {\n      return (\n        <div\n          key={`ref-${message.createdAt}`}\n          ref={lastMessageRef}\n          style={{ float: \"left\", clear: \"both\" }}\n        />\n      );\n    }\n  };\n\n  const renderMessageDivider = (message, index) => {\n    if (index < messagesList.length && index > 0) {\n      let messageUser = messagesList[index].fromMe;\n      let previousMessageUser = messagesList[index - 1].fromMe;\n\n      if (messageUser !== previousMessageUser) {\n        return (\n          <span style={{ marginTop: 16 }} key={`divider-${message.id}`}></span>\n        );\n      }\n    }\n  };\n\n  const renderNumberTicket = (message, index) => {\n    if (index < messagesList.length && index > 0) {\n      let messageTicket = message.ticketId;\n      let previousMessageTicket = messagesList[index - 1].ticketId;\n      if (messageTicket !== previousMessageTicket) {\n        return (\n          <div key={`ticket-${message.id}`} className={classes.ticketNunber}>\n            #ticket: {messageTicket}\n            <hr />\n          </div>\n        );\n      }\n    }\n  };\n\n  const renderQuotedMessage = (message) => {\n    return (\n      <div\n        className={clsx(classes.quotedContainerLeft, {\n          [classes.quotedContainerRight]: message.fromMe,\n        })}\n      >\n        <span\n          className={clsx(classes.quotedSideColorLeft, {\n            [classes.quotedSideColorRight]: message.quotedMsg?.fromMe,\n          })}\n        ></span>\n        <div className={classes.quotedMsg}>\n          {!message.quotedMsg?.fromMe && (\n            <span className={classes.messageContactName}>\n              {message.quotedMsg?.contact?.name}\n            </span>\n          )}\n          {message.quotedMsg?.body}\n        </div>\n      </div>\n    );\n  };\n\n  const renderMessages = () => {\n    if (messagesList.length > 0) {\n      const viewMessagesList = messagesList.map((message, index) => {\n        if (message.mediaType === \"call_log\") {\n          return (\n            <React.Fragment key={message.id}>\n              {renderDailyTimestamps(message, index)}\n              {renderMessageDivider(message, index)}\n              {renderNumberTicket(message, index)}\n              <div className={classes.messageCenter}>\n                <IconButton\n                  variant=\"contained\"\n                  size=\"small\"\n                  id=\"messageActionsButton\"\n                  disabled={message.isDeleted}\n                  className={classes.messageActionsButton}\n                  onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\n                >\n                  <ExpandMore />\n                </IconButton>\n                {isGroup && (\n                  <span className={classes.messageContactName}>\n                    {message.contact?.name}\n                  </span>\n                )}\n                <div>\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 17\" width=\"20\" height=\"17\">\n                    <path fill=\"#df3333\" d=\"M18.2 12.1c-1.5-1.8-5-2.7-8.2-2.7s-6.7 1-8.2 2.7c-.7.8-.3 2.3.2 2.8.2.2.3.3.5.3 1.4 0 3.6-.7 3.6-.7.5-.2.8-.5.8-1v-1.3c.7-1.2 5.4-1.2 6.4-.1l.1.1v1.3c0 .2.1.4.2.6.1.2.3.3.5.4 0 0 2.2.7 3.6.7.2 0 1.4-2 .5-3.1zM5.4 3.2l4.7 4.6 5.8-5.7-.9-.8L10.1 6 6.4 2.3h2.5V1H4.1v4.8h1.3V3.2z\"></path>\n                  </svg> <span>Chamada de voz/vdeo perdida s {format(parseISO(message.createdAt), \"HH:mm\")}</span>\n                </div>\n              </div>\n            </React.Fragment>\n          );\n        }\n        if (!message.fromMe) {\n          return (\n            <React.Fragment key={message.id}>\n              {renderDailyTimestamps(message, index)}\n              {renderMessageDivider(message, index)}\n              {renderNumberTicket(message, index)}\n              <div className={classes.messageLeft}>\n                <IconButton\n                  variant=\"contained\"\n                  size=\"small\"\n                  id=\"messageActionsButton\"\n                  disabled={message.isDeleted}\n                  className={classes.messageActionsButton}\n                  onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\n                >\n                  <ExpandMore />\n                </IconButton>\n                {isGroup && (\n                  <span className={classes.messageContactName}>\n                    {message.contact?.name}\n                  </span>\n                )}\n                {(message.mediaUrl || message.mediaType === \"contactMessage\" || message.mediaType === \"locationMessage\"\n                  //|| message.mediaType === \"multi_vcard\" \n                ) && checkMessageMedia(message)}\n                \n                <div className={classes.textContentItem}>\n                  {message.quotedMsg && renderQuotedMessage(message)}\n                  <MarkdownWrapper>{message.body}</MarkdownWrapper>\n                  <span className={classes.timestamp}>\n                    {format(parseISO(message.createdAt), \"HH:mm\")}\n                  </span>\n                </div>\n              </div>\n            </React.Fragment>\n          );\n        } else {\n          return (\n            <React.Fragment key={message.id}>\n              {renderDailyTimestamps(message, index)}\n              {renderMessageDivider(message, index)}\n              {renderNumberTicket(message, index)}\n              <div className={classes.messageRight}>\n                <IconButton\n                  variant=\"contained\"\n                  size=\"small\"\n                  id=\"messageActionsButton\"\n                  disabled={message.isDeleted}\n                  className={classes.messageActionsButton}\n                  onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\n                >\n                  <ExpandMore />\n                </IconButton>\n                {(message.mediaUrl || message.mediaType === \"contactMessage\" || message.mediaType === \"locationMessage\"\n                  //|| message.mediaType === \"multi_vcard\" \n                ) && checkMessageMedia(message)}\n                <div\n                  className={clsx(classes.textContentItem, {\n                    [classes.textContentItemDeleted]: message.isDeleted,\n                  })}\n                >\n                  {message.isDeleted && (\n                    <Block\n                      color=\"disabled\"\n                      fontSize=\"small\"\n                      className={classes.deletedIcon}\n                    />\n                  )}\n                  {message.quotedMsg && renderQuotedMessage(message)}\n                  <MarkdownWrapper>{message.body}</MarkdownWrapper>\n                  <span className={classes.timestamp}>\n                    {format(parseISO(message.createdAt), \"HH:mm\")}\n                    {renderMessageAck(message)}\n                  </span>\n                </div>\n              </div>\n            </React.Fragment>\n          );\n        }\n      });\n      return viewMessagesList;\n    } else {\n      return <div>Say hello to your new contact!</div>;\n    }\n  };\n\n  return (\n    <div className={classes.messagesListWrapper}>\n      <MessageOptionsMenu\n        message={selectedMessage}\n        anchorEl={anchorEl}\n        menuOpen={messageOptionsMenuOpen}\n        handleClose={handleCloseMessageOptionsMenu}\n      />\n      <div\n        id=\"messagesList\"\n        className={classes.messagesList}\n        onScroll={handleScroll}\n      >\n        {messagesList.length > 0 ? renderMessages() : []}\n      </div>\n      {loading && (\n        <div>\n          <CircularProgress className={classes.circleLoading} />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default MessagesList;","import React, { useState, useEffect } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\n\nimport { toast } from \"react-toastify\";\nimport openSocket from \"../../services/socket-io\";\nimport clsx from \"clsx\";\n\nimport { Paper, makeStyles } from \"@material-ui/core\";\nimport { TagsContainer } from \"../TagsContainer\";\n\nimport ContactDrawer from \"../ContactDrawer\";\nimport MessageInput from \"../MessageInput/\";\nimport TicketHeader from \"../TicketHeader\";\nimport TicketInfo from \"../TicketInfo\";\nimport TicketActionButtons from \"../TicketActionButtons\";\nimport MessagesList from \"../MessagesList\";\nimport api from \"../../services/api\";\nimport { ReplyMessageProvider } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport toastError from \"../../errors/toastError\";\n\nconst drawerWidth = 320;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    height: \"100%\",\n    position: \"relative\",\n    overflow: \"hidden\",\n  },\n\n  ticketInfo: {\n    maxWidth: \"50%\",\n    flexBasis: \"50%\",\n    [theme.breakpoints.down(\"sm\")]: {\n      maxWidth: \"80%\",\n      flexBasis: \"80%\",\n    },\n  },\n  ticketActionButtons: {\n    maxWidth: \"50%\",\n    flexBasis: \"50%\",\n    display: \"flex\",\n    [theme.breakpoints.down(\"sm\")]: {\n      maxWidth: \"100%\",\n      flexBasis: \"100%\",\n      marginBottom: \"5px\",\n    },\n  },\n\n  mainWrapper: {\n    flex: 1,\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    overflow: \"hidden\",\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0,\n    borderLeft: \"0\",\n    marginRight: -drawerWidth,\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n\n  mainWrapperShift: {\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    marginRight: 0,\n  },\n}));\n\nconst Ticket = () => {\n  const { ticketId } = useParams();\n  const history = useHistory();\n  const classes = useStyles();\n\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [contact, setContact] = useState({});\n  const [ticket, setTicket] = useState({});\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchTicket = async () => {\n        try {\n          const { data } = await api.get(\"/tickets/\" + ticketId);\n\n          setContact(data.contact);\n          setTicket(data);\n          setLoading(false);\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n      fetchTicket();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [ticketId, history]);\n\n  useEffect(() => {\n    const socket = openSocket();\n\n    socket.on(\"ready\", () => socket.emit(\"joinChatBox\", ticketId));\n\n    socket.on(\"ticket\", (data) => {\n      if (data.action === \"update\") {\n        setTicket(data.ticket);\n      }\n\n      if (data.action === \"delete\") {\n        toast.success(\"Ticket deleted sucessfully.\");\n        history.push(\"/tickets\");\n      }\n    });\n\n    socket.on(\"contact\", (data) => {\n      if (data.action === \"update\") {\n        setContact((prevState) => {\n          if (prevState.id === data.contact?.id) {\n            return { ...prevState, ...data.contact };\n          }\n          return prevState;\n        });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [ticketId, history]);\n\n  const handleDrawerOpen = () => {\n    setDrawerOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setDrawerOpen(false);\n  };\n\n  return (\n    <div className={classes.root} id=\"drawer-container\">\n      <Paper\n        variant=\"outlined\"\n        elevation={0}\n        className={clsx(classes.mainWrapper, {\n          [classes.mainWrapperShift]: drawerOpen,\n        })}\n      >\n        <TicketHeader loading={loading}>\n          <div className={classes.ticketInfo}>\n            <TicketInfo\n              contact={contact}\n              ticket={ticket}\n              onClick={handleDrawerOpen}\n            />\n          </div>\n          <div className={classes.ticketActionButtons}>\n            <TicketActionButtons ticket={ticket} />\n          </div>\n        </TicketHeader>\n        <Paper>\n          <TagsContainer ticket={ticket} />\n        </Paper>\n        <ReplyMessageProvider>\n          <MessagesList\n            ticketId={ticketId}\n            isGroup={ticket.isGroup}\n          ></MessagesList>\n          <MessageInput ticketStatus={ticket.status} />\n        </ReplyMessageProvider>\n      </Paper>\n      <ContactDrawer\n        open={drawerOpen}\n        handleDrawerClose={handleDrawerClose}\n        contact={contact}\n        loading={loading}\n      />\n    </div>\n  );\n};\n\nexport default Ticket;\n","import React from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport TicketsManager from \"../../components/TicketsManager/\";\nimport Ticket from \"../../components/Ticket/\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport Hidden from \"@material-ui/core/Hidden\";\n\nconst useStyles = makeStyles((theme) => ({\n  chatContainer: {\n    flex: 1,\n    padding: 16,\n    height: `calc(100% - 48px)`,\n    overflowY: \"hidden\",\n  },\n\n  chatPapper: {\n    // backgroundColor: \"red\",\n    display: \"flex\",\n    height: \"100%\",\n  },\n\n  contactsWrapper: {\n    display: \"flex\",\n    height: \"100%\",\n    flexDirection: \"column\",\n    overflowY: \"hidden\",\n  },\n  contactsWrapperSmall: {\n    display: \"flex\",\n    height: \"100%\",\n    flexDirection: \"column\",\n    overflowY: \"hidden\",\n    [theme.breakpoints.down(\"sm\")]: {\n      display: \"none\",\n    },\n  },\n  messagessWrapper: {\n    display: \"flex\",\n    height: \"100%\",\n    flexDirection: \"column\",\n  },\n  welcomeMsg: {\n    backgroundColor: \"#eee\",\n    display: \"flex\",\n    justifyContent: \"space-evenly\",\n    alignItems: \"center\",\n    height: \"100%\",\n    textAlign: \"center\",\n    borderRadius: 0,\n  },\n  ticketsManager: {},\n  ticketsManagerClosed: {\n    [theme.breakpoints.down(\"sm\")]: {\n      display: \"none\",\n    },\n  },\n}));\n\nconst Chat = () => {\n  const classes = useStyles();\n  const { ticketId } = useParams();\n\n  return (\n    <div className={classes.chatContainer}>\n      <div className={classes.chatPapper}>\n        <Grid container spacing={0}>\n          {/* <Grid item xs={4} className={classes.contactsWrapper}> */}\n          <Grid\n            item\n            xs={12}\n            md={4}\n            className={\n              ticketId ? classes.contactsWrapperSmall : classes.contactsWrapper\n            }\n          >\n            <TicketsManager />\n          </Grid>\n          <Grid item xs={12} md={8} className={classes.messagessWrapper}>\n            {/* <Grid item xs={8} className={classes.messagessWrapper}> */}\n            {ticketId ? (\n              <>\n                <Ticket />\n              </>\n            ) : (\n              <Hidden only={[\"sm\", \"xs\"]}>\n                <Paper className={classes.welcomeMsg}>\n                  {/* <Paper square variant=\"outlined\" className={classes.welcomeMsg}> */}\n                  <span>{i18n.t(\"chat.noTicketMessage\")}</span>\n                </Paper>\n              </Hidden>\n            )}\n          </Grid>\n        </Grid>\n      </div>\n    </div>\n  );\n};\n\nexport default Chat;\n","import React, { useState, useEffect, useReducer } from \"react\";\nimport { toast } from \"react-toastify\";\nimport openSocket from \"../../services/socket-io\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport UserModal from \"../../components/UserModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_USERS\") {\n    const users = action.payload;\n    const newUsers = [];\n\n    users.forEach((user) => {\n      const userIndex = state.findIndex((u) => u.id === user.id);\n      if (userIndex !== -1) {\n        state[userIndex] = user;\n      } else {\n        newUsers.push(user);\n      }\n    });\n\n    return [...state, ...newUsers];\n  }\n\n  if (action.type === \"UPDATE_USERS\") {\n    const user = action.payload;\n    const userIndex = state.findIndex((u) => u.id === user.id);\n\n    if (userIndex !== -1) {\n      state[userIndex] = user;\n      return [...state];\n    } else {\n      return [user, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_USER\") {\n    const userId = action.payload;\n\n    const userIndex = state.findIndex((u) => u.id === userId);\n    if (userIndex !== -1) {\n      state.splice(userIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Users = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [deletingUser, setDeletingUser] = useState(null);\n  const [userModalOpen, setUserModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [users, dispatch] = useReducer(reducer, []);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchUsers = async () => {\n        try {\n          const { data } = await api.get(\"/users/\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_USERS\", payload: data.users });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchUsers();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const socket = openSocket();\n\n    socket.on(\"user\", (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_USERS\", payload: data.user });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_USER\", payload: +data.userId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleOpenUserModal = () => {\n    setSelectedUser(null);\n    setUserModalOpen(true);\n  };\n\n  const handleCloseUserModal = () => {\n    setSelectedUser(null);\n    setUserModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditUser = (user) => {\n    setSelectedUser(user);\n    setUserModalOpen(true);\n  };\n\n  const handleDeleteUser = async (userId) => {\n    try {\n      await api.delete(`/users/${userId}`);\n      toast.success(i18n.t(\"users.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingUser(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingUser &&\n          `${i18n.t(\"users.confirmationModal.deleteTitle\")} ${\n            deletingUser.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteUser(deletingUser.id)}\n      >\n        {i18n.t(\"users.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <UserModal\n        open={userModalOpen}\n        onClose={handleCloseUserModal}\n        aria-labelledby=\"form-dialog-title\"\n        userId={selectedUser && selectedUser.id}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"users.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenUserModal}\n          >\n            {i18n.t(\"users.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">{i18n.t(\"users.table.name\")}</TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"users.table.email\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"users.table.profile\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"users.table.whatsapp\")}\n              </TableCell>              \n              <TableCell align=\"center\">\n                {i18n.t(\"users.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {users.map((user) => (\n                <TableRow key={user.id}>\n                  <TableCell align=\"center\">{user.name}</TableCell>\n                  <TableCell align=\"center\">{user.email}</TableCell>\n                  <TableCell align=\"center\">{user.profile}</TableCell>\n                  <TableCell align=\"center\">{user.whatsapp?.name}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditUser(user)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingUser(user);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Users;\n","import React, { useContext } from \"react\";\nimport { Route as RouterRoute, Redirect } from \"react-router-dom\";\n\nimport { AuthContext } from \"../context/Auth/AuthContext\";\nimport BackdropLoading from \"../components/BackdropLoading\";\n\nconst Route = ({ component: Component, isPrivate = false, ...rest }) => {\n  const { isAuth, loading } = useContext(AuthContext);\n\n  if (!isAuth && isPrivate) {\n    return (\n      <>\n        {loading && <BackdropLoading />}\n        <Redirect to={{ pathname: \"/login\", state: { from: rest.location } }} />\n      </>\n    );\n  }\n\n  if (isAuth && !isPrivate) {\n    return (\n      <>\n        {loading && <BackdropLoading />}\n        <Redirect to={{ pathname: \"/\", state: { from: rest.location } }} />;\n      </>\n    );\n  }\n\n  return (\n    <>\n      {loading && <BackdropLoading />}\n      <RouterRoute {...rest} component={Component} />\n    </>\n  );\n};\n\nexport default Route;\n","import React from \"react\";\nimport { BrowserRouter, Switch } from \"react-router-dom\";\nimport { ToastContainer } from \"react-toastify\";\nimport { AuthProvider } from \"../context/Auth/AuthContext\";\nimport { WhatsAppsProvider } from \"../context/WhatsApp/WhatsAppsContext\";\nimport LoggedInLayout from \"../layout\";\nimport Connections from \"../pages/Connections/\";\nimport Contacts from \"../pages/Contacts/\";\nimport Dashboard from \"../pages/Dashboard/\";\nimport Login from \"../pages/Login/\";\nimport Queues from \"../pages/Queues/\";\nimport QuickAnswers from \"../pages/QuickAnswers/\";\nimport Schedules from \"../pages/Schedules/\";\nimport SendMassMessage from \"../pages/SendMassMessage\";\nimport SettingMessage from \"../pages/SettingMessage\";\nimport Settings from \"../pages/Settings/\";\nimport ShippingReport from \"../pages/ShippingReport\";\nimport Signup from \"../pages/Signup/\";\nimport Tags from \"../pages/Tags/\";\nimport Tickets from \"../pages/Tickets/\";\nimport Users from \"../pages/Users\";\nimport Route from \"./Route\";\n\n\n\n\nconst Routes = () => {\n  return (\n    <BrowserRouter>\n      <AuthProvider>\n        <Switch>\n          <Route exact path=\"/login\" component={Login} />\n          <Route exact path=\"/signup\" component={Signup} />\n          <WhatsAppsProvider>\n            <LoggedInLayout>\n              <Route exact path=\"/\" component={Dashboard} isPrivate />\n              <Route\n                exact\n                path=\"/tickets/:ticketId?\"\n                component={Tickets}\n                isPrivate\n              />\n              <Route\n                exact\n                path=\"/connections\"\n                component={Connections}\n                isPrivate\n              />\n              <Route exact path=\"/contacts\" component={Contacts} isPrivate />\n              <Route exact path=\"/users\" component={Users} isPrivate />\n              <Route\n                exact\n                path=\"/quickAnswers\"\n                component={QuickAnswers}\n                isPrivate\n              />\n              <Route exact path=\"/Settings\" component={Settings} isPrivate />\n              <Route exact path=\"/Queues\" component={Queues} isPrivate />\n              <Route exact path=\"/tags\" component={Tags} isPrivate />\n              <Route exact path=\"/schedules\" component={Schedules} isPrivate />\n              <Route exact path=\"/BulkMessage\" component={SendMassMessage} isPrivate />\n\n              <Route exact path=\"/ShippingReport\" component={ShippingReport} isPrivate />\n              <Route exact path=\"/SettingsMessage\" component={SettingMessage} isPrivate />\n              \n            </LoggedInLayout>\n          </WhatsAppsProvider>\n        </Switch>\n        <ToastContainer autoClose={3000} />\n      </AuthProvider>\n    </BrowserRouter>\n  );\n};\n\nexport default Routes;\n","import React, { useState, useEffect } from \"react\";\nimport Routes from \"./routes\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport { createTheme, ThemeProvider } from \"@material-ui/core/styles\";\nimport { ptBR } from \"@material-ui/core/locale\";\n\nconst App = () => {\n  const [locale, setLocale] = useState();\n\n  const theme = createTheme(\n    {\n      scrollbarStyles: {\n        \"&::-webkit-scrollbar\": {\n          width: \"8px\",\n          height: \"8px\",\n        },\n        \"&::-webkit-scrollbar-thumb\": {\n          boxShadow: \"inset 0 0 6px rgba(0, 0, 0, 0.3)\",\n          backgroundColor: \"#606060\",\n        },\n      },\n      palette: {\n        primary: { main: \"#2576d2\" },\n      },\n    },\n    locale\n  );\n\n  useEffect(() => {\n    const i18nlocale = localStorage.getItem(\"i18nextLng\");\n    const browserLocale =\n      i18nlocale.substring(0, 2) + i18nlocale.substring(3, 5);\n\n    if (browserLocale === \"ptBR\") {\n      setLocale(ptBR);\n    }\n  }, []);\n\n  return (\n    <ThemeProvider theme={theme}>\n      <Routes />\n    </ThemeProvider>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\n\nimport App from \"./App\";\n\nReactDOM.render(\n\t<CssBaseline>\n\t\t<App />\n\t</CssBaseline>,\n\tdocument.getElementById(\"root\")\n);\n\n// ReactDOM.render(\n// \t<React.StrictMode>\n// \t\t<CssBaseline>\n// \t\t\t<App />\n// \t\t</CssBaseline>,\n//   </React.StrictMode>\n\n// \tdocument.getElementById(\"root\")\n// );\n"],"sourceRoot":""}